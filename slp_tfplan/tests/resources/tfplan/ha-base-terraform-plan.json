{
  "format_version": "1.1",
  "terraform_version": "1.3.1",
  "variables": {
    "analytics_build": {
      "value": ""
    },
    "analytics_enabled": {
      "value": false
    },
    "api_desired_capacity": {
      "value": 3
    },
    "api_max_size": {
      "value": 5
    },
    "api_min_size": {
      "value": 3
    },
    "availability_zones": {
      "value": [
        "eu-west-1a",
        "eu-west-1b",
        "eu-west-1c"
      ]
    },
    "aws_profile": {
      "value": "iriusrisk"
    },
    "aws_region": {
      "value": "eu-west-1"
    },
    "bastion_host_cidrs": {
      "value": [
        "52.30.97.44/32"
      ]
    },
    "bitbucket_repository": {
      "value": "adominfguez-local"
    },
    "certificate_arn": {
      "value": "arn:aws:iam::154977180039:server-certificate/wildcard-iriusrisk-com-until-27-oct-2023"
    },
    "cloudflare_dns_name": {
      "value": "habase-test"
    },
    "cloudflare_token": {
      "value": "sensitive"
    },
    "cloudflare_zone_id": {
      "value": "322584a91b72b6a7f152b5f548cad339"
    },
    "create_synthetic_monitor": {
      "value": false
    },
    "database_subnet_cidrs": {
      "value": [
        "10.125.30.0/24",
        "10.125.31.0/24"
      ]
    },
    "dbname": {
      "value": "iriusprod"
    },
    "dbpassword": {
      "value": "alongandcomplexpassword1234"
    },
    "dbuser": {
      "value": "iriusprod"
    },
    "deployment_flag": {
      "value": "green"
    },
    "ec2_instance_type": {
      "value": "c5.xlarge"
    },
    "environment": {
      "value": "test"
    },
    "iam_instance_profile_arn": {
      "value": "arn:aws:iam::154977180039:instance-profile/myManagedInstanceRoleforSSM"
    },
    "iam_policy_arn": {
      "value": [
        "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM",
        "arn:aws:iam::aws:policy/AmazonS3FullAccess",
        "arn:aws:iam::154977180039:policy/AllowLogRetentionUpdate",
        "arn:aws:iam::154977180039:policy/allow-invoke-lambda-ascii-banner",
        "arn:aws:iam::154977180039:policy/AccessSecretsProdCertificateIriusrisk",
        "arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy"
      ]
    },
    "iriusrisk_version": {
      "value": "4.12.1"
    },
    "is_rollback": {
      "value": false
    },
    "keep_previous_rds": {
      "value": false
    },
    "key_name": {
      "value": "IriusRisk"
    },
    "major_engine_version": {
      "value": "11"
    },
    "newrelic_account_id": {
      "value": "3012056"
    },
    "newrelic_api_key": {
      "value": "sensitive"
    },
    "newrelic_enabled": {
      "value": false
    },
    "newrelic_region": {
      "value": "EU"
    },
    "private_subnet_cidrs": {
      "value": [
        "10.125.20.0/24",
        "10.125.21.0/24"
      ]
    },
    "public_subnet_cidrs": {
      "value": [
        "10.125.10.0/24",
        "10.125.11.0/24"
      ]
    },
    "rds_engine": {
      "value": "aurora-postgresql"
    },
    "rds_engine_version": {
      "value": "11.16"
    },
    "rds_family": {
      "value": "postgres11"
    },
    "rds_instance_type": {
      "value": "db.r6g.xlarge"
    },
    "rds_snapshot": {
      "value": ""
    },
    "slack_channel": {
      "value": "ops_monitoring"
    },
    "slack_webhook_url": {
      "value": "asd"
    },
    "stack_name": {
      "value": "habase-test"
    },
    "startleft_version": {
      "value": "1.10.0"
    },
    "type": {
      "value": "internal"
    },
    "vpc_cidr": {
      "value": "10.125.0.0/16"
    },
    "web_desired_capacity": {
      "value": 3
    },
    "web_max_size": {
      "value": 5
    },
    "web_min_size": {
      "value": 3
    }
  },
  "planned_values": {
    "outputs": {
      "analytics_build": {
        "sensitive": false,
        "type": "string",
        "value": ""
      },
      "asg_api_id": {
        "sensitive": false
      },
      "asg_web_id": {
        "sensitive": false
      },
      "aurora_db_sg_id": {
        "sensitive": false
      },
      "aws_ami_id": {
        "sensitive": false,
        "type": "string",
        "value": "ami-0893e738795aad326"
      },
      "deployment_flag": {
        "sensitive": false,
        "type": "string",
        "value": "green"
      },
      "iriusrisk_lb_sg_id": {
        "sensitive": false
      },
      "iriusrisk_version": {
        "sensitive": false,
        "type": "string",
        "value": "4.12.1"
      },
      "lb_arn": {
        "sensitive": false
      },
      "lb_dns_name": {
        "sensitive": false
      },
      "lb_https_listeners_arn": {
        "sensitive": false
      },
      "log_group": {
        "sensitive": false,
        "type": "string",
        "value": "/clients/test/habase-test"
      },
      "private_subnets": {
        "sensitive": false
      },
      "public_subnets": {
        "sensitive": false
      },
      "rds_arn": {
        "sensitive": false
      },
      "rds_endpoint": {
        "sensitive": false
      },
      "rds_identifier": {
        "sensitive": false
      },
      "startleft_version": {
        "sensitive": false,
        "type": "string",
        "value": "1.10.0"
      },
      "vpc_id": {
        "sensitive": false
      },
      "web_endpoint": {
        "sensitive": false,
        "type": "string",
        "value": "habase-test.iriusrisk.com"
      }
    },
    "root_module": {
      "resources": [
        {
          "address": "aws_autoscaling_group.iriusrisk_api",
          "mode": "managed",
          "type": "aws_autoscaling_group",
          "name": "iriusrisk_api",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "capacity_rebalance": null,
            "context": null,
            "default_instance_warmup": null,
            "desired_capacity": 3,
            "desired_capacity_type": null,
            "enabled_metrics": [
              "GroupAndWarmPoolDesiredCapacity",
              "GroupAndWarmPoolTotalCapacity",
              "GroupDesiredCapacity",
              "GroupInServiceCapacity",
              "GroupInServiceInstances",
              "GroupMaxSize",
              "GroupMinSize",
              "GroupPendingCapacity",
              "GroupPendingInstances",
              "GroupStandbyCapacity",
              "GroupStandbyInstances",
              "GroupTerminatingCapacity",
              "GroupTerminatingInstances",
              "GroupTotalCapacity",
              "GroupTotalInstances"
            ],
            "force_delete": true,
            "force_delete_warm_pool": false,
            "health_check_grace_period": 1100,
            "health_check_type": "ELB",
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_configuration": null,
            "launch_template": [
              {
                "version": "$Latest"
              }
            ],
            "load_balancers": null,
            "max_instance_lifetime": null,
            "max_size": 5,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 3,
            "mixed_instances_policy": [],
            "name": "habase-test-api-ASG",
            "placement_group": null,
            "protect_from_scale_in": false,
            "suspended_processes": null,
            "tag": [
              {
                "key": "Name",
                "propagate_at_launch": true,
                "value": "habase-test ApiServer"
              },
              {
                "key": "asg-name",
                "propagate_at_launch": true,
                "value": "habase-test-api-ASG"
              },
              {
                "key": "endpoint",
                "propagate_at_launch": true,
                "value": "habase-test.iriusrisk.com"
              },
              {
                "key": "environment",
                "propagate_at_launch": true,
                "value": "test"
              },
              {
                "key": "iriusrisk",
                "propagate_at_launch": true,
                "value": "true"
              },
              {
                "key": "terraform.repository",
                "propagate_at_launch": true,
                "value": "adominfguez-local"
              },
              {
                "key": "type",
                "propagate_at_launch": true,
                "value": "internal"
              },
              {
                "key": "update_scenario",
                "propagate_at_launch": true,
                "value": "exceptional"
              }
            ],
            "tags": null,
            "termination_policies": null,
            "timeouts": null,
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": []
          },
          "sensitive_values": {
            "availability_zones": [],
            "enabled_metrics": [
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false
            ],
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_template": [
              {}
            ],
            "mixed_instances_policy": [],
            "tag": [
              {},
              {},
              {},
              {},
              {},
              {},
              {},
              {}
            ],
            "target_group_arns": [],
            "vpc_zone_identifier": [],
            "warm_pool": []
          }
        },
        {
          "address": "aws_autoscaling_group.iriusrisk_web",
          "mode": "managed",
          "type": "aws_autoscaling_group",
          "name": "iriusrisk_web",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "capacity_rebalance": null,
            "context": null,
            "default_instance_warmup": null,
            "desired_capacity": 3,
            "desired_capacity_type": null,
            "enabled_metrics": [
              "GroupAndWarmPoolDesiredCapacity",
              "GroupAndWarmPoolTotalCapacity",
              "GroupDesiredCapacity",
              "GroupInServiceCapacity",
              "GroupInServiceInstances",
              "GroupMaxSize",
              "GroupMinSize",
              "GroupPendingCapacity",
              "GroupPendingInstances",
              "GroupStandbyCapacity",
              "GroupStandbyInstances",
              "GroupTerminatingCapacity",
              "GroupTerminatingInstances",
              "GroupTotalCapacity",
              "GroupTotalInstances"
            ],
            "force_delete": true,
            "force_delete_warm_pool": false,
            "health_check_grace_period": 1100,
            "health_check_type": "ELB",
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_configuration": null,
            "launch_template": [
              {
                "version": "$Latest"
              }
            ],
            "load_balancers": null,
            "max_instance_lifetime": null,
            "max_size": 5,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 3,
            "mixed_instances_policy": [],
            "name": "habase-test-web-ASG",
            "placement_group": null,
            "protect_from_scale_in": false,
            "suspended_processes": null,
            "tag": [
              {
                "key": "Name",
                "propagate_at_launch": true,
                "value": "habase-test WebServer"
              },
              {
                "key": "asg-name",
                "propagate_at_launch": true,
                "value": "habase-test-web-ASG"
              },
              {
                "key": "endpoint",
                "propagate_at_launch": true,
                "value": "habase-test.iriusrisk.com"
              },
              {
                "key": "environment",
                "propagate_at_launch": true,
                "value": "test"
              },
              {
                "key": "iriusrisk",
                "propagate_at_launch": true,
                "value": "true"
              },
              {
                "key": "terraform.repository",
                "propagate_at_launch": true,
                "value": "adominfguez-local"
              },
              {
                "key": "type",
                "propagate_at_launch": true,
                "value": "internal"
              },
              {
                "key": "update_scenario",
                "propagate_at_launch": true,
                "value": "exceptional"
              }
            ],
            "tags": null,
            "termination_policies": null,
            "timeouts": null,
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": []
          },
          "sensitive_values": {
            "availability_zones": [],
            "enabled_metrics": [
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false,
              false
            ],
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_template": [
              {}
            ],
            "mixed_instances_policy": [],
            "tag": [
              {},
              {},
              {},
              {},
              {},
              {},
              {},
              {}
            ],
            "target_group_arns": [],
            "vpc_zone_identifier": [],
            "warm_pool": []
          }
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_api_scaling_down",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_api_scaling_down",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "adjustment_type": "ChangeInCapacity",
            "autoscaling_group_name": "habase-test-api-ASG",
            "cooldown": 400,
            "enabled": true,
            "estimated_instance_warmup": null,
            "min_adjustment_magnitude": null,
            "name": "habase-test_api_asg_scaling_down_policy",
            "policy_type": "SimpleScaling",
            "predictive_scaling_configuration": [],
            "scaling_adjustment": -1,
            "step_adjustment": [],
            "target_tracking_configuration": []
          },
          "sensitive_values": {
            "predictive_scaling_configuration": [],
            "step_adjustment": [],
            "target_tracking_configuration": []
          }
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_api_scaling_up",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_api_scaling_up",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "adjustment_type": "ChangeInCapacity",
            "autoscaling_group_name": "habase-test-api-ASG",
            "cooldown": 400,
            "enabled": true,
            "estimated_instance_warmup": null,
            "min_adjustment_magnitude": null,
            "name": "habase-test_api_asg_scaling_up_policy",
            "policy_type": "SimpleScaling",
            "predictive_scaling_configuration": [],
            "scaling_adjustment": 2,
            "step_adjustment": [],
            "target_tracking_configuration": []
          },
          "sensitive_values": {
            "predictive_scaling_configuration": [],
            "step_adjustment": [],
            "target_tracking_configuration": []
          }
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_web_scaling_down",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_web_scaling_down",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "adjustment_type": "ChangeInCapacity",
            "autoscaling_group_name": "habase-test-web-ASG",
            "cooldown": 400,
            "enabled": true,
            "estimated_instance_warmup": null,
            "min_adjustment_magnitude": null,
            "name": "habase-test_web_asg_scaling_down_policy",
            "policy_type": "SimpleScaling",
            "predictive_scaling_configuration": [],
            "scaling_adjustment": -1,
            "step_adjustment": [],
            "target_tracking_configuration": []
          },
          "sensitive_values": {
            "predictive_scaling_configuration": [],
            "step_adjustment": [],
            "target_tracking_configuration": []
          }
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_web_scaling_up",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_web_scaling_up",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "adjustment_type": "ChangeInCapacity",
            "autoscaling_group_name": "habase-test-web-ASG",
            "cooldown": 400,
            "enabled": true,
            "estimated_instance_warmup": null,
            "min_adjustment_magnitude": null,
            "name": "habase-test_web_asg_scaling_up_policy",
            "policy_type": "SimpleScaling",
            "predictive_scaling_configuration": [],
            "scaling_adjustment": 2,
            "step_adjustment": [],
            "target_tracking_configuration": []
          },
          "sensitive_values": {
            "predictive_scaling_configuration": [],
            "step_adjustment": [],
            "target_tracking_configuration": []
          }
        },
        {
          "address": "aws_cloudwatch_log_group.cw_log_group",
          "mode": "managed",
          "type": "aws_cloudwatch_log_group",
          "name": "cw_log_group",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "kms_key_id": null,
            "name": "/clients/test/habase-test",
            "retention_in_days": 365,
            "skip_destroy": false,
            "tags": null
          },
          "sensitive_values": {
            "tags_all": {}
          }
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_api_cloudwatch_alarm_down",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_api_cloudwatch_alarm_down",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "actions_enabled": true,
            "alarm_description": "Scale-down if CPU \u003c 30% for 10 minutes",
            "alarm_name": "habase-test-iriusrisk-api-cpu-below-30",
            "comparison_operator": "LessThanThreshold",
            "datapoints_to_alarm": null,
            "dimensions": {
              "AutoScalingGroupName": "habase-test-api-ASG"
            },
            "evaluation_periods": 2,
            "extended_statistic": null,
            "insufficient_data_actions": null,
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/EC2",
            "ok_actions": null,
            "period": 300,
            "statistic": "Average",
            "tags": null,
            "threshold": 30,
            "threshold_metric_id": null,
            "treat_missing_data": "missing",
            "unit": null
          },
          "sensitive_values": {
            "alarm_actions": [],
            "dimensions": {},
            "metric_query": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_api_cloudwatch_alarm_up",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_api_cloudwatch_alarm_up",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "actions_enabled": true,
            "alarm_description": "Scale-up if CPU \u003e 70% for 2 minutes",
            "alarm_name": "habase-test-iriusrisk-api-cpu-above-70",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": null,
            "dimensions": {
              "AutoScalingGroupName": "habase-test-api-ASG"
            },
            "evaluation_periods": 1,
            "extended_statistic": null,
            "insufficient_data_actions": null,
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/EC2",
            "ok_actions": null,
            "period": 120,
            "statistic": "Average",
            "tags": null,
            "threshold": 70,
            "threshold_metric_id": null,
            "treat_missing_data": "missing",
            "unit": null
          },
          "sensitive_values": {
            "alarm_actions": [],
            "dimensions": {},
            "metric_query": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_db_cloudwatch_alarm_above_600",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_db_cloudwatch_alarm_above_600",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "actions_enabled": true,
            "alarm_actions": null,
            "alarm_description": "DB connections \u003e 600",
            "alarm_name": "habase-test-iriusrisk-db-connections-above-600",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": null,
            "dimensions": {
              "DBInstanceIdentifier": "habase-test-rds-green-one"
            },
            "evaluation_periods": 1,
            "extended_statistic": null,
            "insufficient_data_actions": null,
            "metric_name": "DatabaseConnections",
            "metric_query": [],
            "namespace": "AWS/RDS",
            "ok_actions": null,
            "period": 60,
            "statistic": "Average",
            "tags": null,
            "threshold": 600,
            "threshold_metric_id": null,
            "treat_missing_data": "missing",
            "unit": null
          },
          "sensitive_values": {
            "dimensions": {},
            "metric_query": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_web_cloudwatch_alarm_down",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_web_cloudwatch_alarm_down",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "actions_enabled": true,
            "alarm_description": "Scale-down if CPU \u003c 30% for 10 minutes",
            "alarm_name": "habase-test-iriusrisk-web-cpu-below-30",
            "comparison_operator": "LessThanThreshold",
            "datapoints_to_alarm": null,
            "dimensions": {
              "AutoScalingGroupName": "habase-test-web-ASG"
            },
            "evaluation_periods": 2,
            "extended_statistic": null,
            "insufficient_data_actions": null,
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/EC2",
            "ok_actions": null,
            "period": 300,
            "statistic": "Average",
            "tags": null,
            "threshold": 30,
            "threshold_metric_id": null,
            "treat_missing_data": "missing",
            "unit": null
          },
          "sensitive_values": {
            "alarm_actions": [],
            "dimensions": {},
            "metric_query": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_web_cloudwatch_alarm_up",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_web_cloudwatch_alarm_up",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "actions_enabled": true,
            "alarm_description": "Scale-up if CPU \u003e 70% for 5 minutes",
            "alarm_name": "habase-test-iriusrisk-web-cpu-above-70",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": null,
            "dimensions": {
              "AutoScalingGroupName": "habase-test-web-ASG"
            },
            "evaluation_periods": 1,
            "extended_statistic": null,
            "insufficient_data_actions": null,
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/EC2",
            "ok_actions": null,
            "period": 300,
            "statistic": "Average",
            "tags": null,
            "threshold": 70,
            "threshold_metric_id": null,
            "treat_missing_data": "missing",
            "unit": null
          },
          "sensitive_values": {
            "alarm_actions": [],
            "dimensions": {},
            "metric_query": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_instance_profile.instance_profile",
          "mode": "managed",
          "type": "aws_iam_instance_profile",
          "name": "instance_profile",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "name": "habase-test-instance-profile",
            "name_prefix": null,
            "path": "/",
            "role": "habase-test-access-role",
            "tags": null
          },
          "sensitive_values": {
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_policy.secret-access",
          "mode": "managed",
          "type": "aws_iam_policy",
          "name": "secret-access",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "description": "habase-test policy to secrets access. TERRAFORM GENERATED",
            "name": "habase-test-secret-access",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-1:154977180039:secret:prod/certificate/habase-test/*\",\"Sid\":\"TerraformGenerated0\"}],\"Version\":\"2012-10-17\"}",
            "tags": null
          },
          "sensitive_values": {
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_role.access-role",
          "mode": "managed",
          "type": "aws_iam_role",
          "name": "access-role",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
            "description": "habase-test role. TERRAFORM GENERATED",
            "force_detach_policies": false,
            "max_session_duration": 3600,
            "name": "habase-test-access-role",
            "path": "/",
            "permissions_boundary": null,
            "tags": null
          },
          "sensitive_values": {
            "inline_policy": [],
            "managed_policy_arns": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_iam_role_policy_attachment.existing-policies-attachment[0]",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "existing-policies-attachment",
          "index": 0,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM",
            "role": "habase-test-access-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.existing-policies-attachment[1]",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "existing-policies-attachment",
          "index": 1,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "policy_arn": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
            "role": "habase-test-access-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.existing-policies-attachment[2]",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "existing-policies-attachment",
          "index": 2,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "policy_arn": "arn:aws:iam::154977180039:policy/AllowLogRetentionUpdate",
            "role": "habase-test-access-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.existing-policies-attachment[3]",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "existing-policies-attachment",
          "index": 3,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "policy_arn": "arn:aws:iam::154977180039:policy/allow-invoke-lambda-ascii-banner",
            "role": "habase-test-access-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.existing-policies-attachment[4]",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "existing-policies-attachment",
          "index": 4,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "policy_arn": "arn:aws:iam::154977180039:policy/AccessSecretsProdCertificateIriusrisk",
            "role": "habase-test-access-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.existing-policies-attachment[5]",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "existing-policies-attachment",
          "index": 5,
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "policy_arn": "arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy",
            "role": "habase-test-access-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_iam_role_policy_attachment.secret-access-attachment",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "secret-access-attachment",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "role": "habase-test-access-role"
          },
          "sensitive_values": {}
        },
        {
          "address": "aws_launch_template.iriusrisk",
          "mode": "managed",
          "type": "aws_launch_template",
          "name": "iriusrisk",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": [
                  {
                    "delete_on_termination": "true",
                    "encrypted": "true",
                    "kms_key_id": null,
                    "snapshot_id": null,
                    "volume_size": 32,
                    "volume_type": "gp3"
                  }
                ],
                "no_device": null,
                "virtual_name": null
              }
            ],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "description": null,
            "disable_api_stop": null,
            "disable_api_termination": null,
            "ebs_optimized": null,
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {
                "arn": null,
                "name": "habase-test-instance-profile"
              }
            ],
            "image_id": "ami-0893e738795aad326",
            "instance_initiated_shutdown_behavior": null,
            "instance_market_options": [],
            "instance_requirements": [],
            "instance_type": "c5.xlarge",
            "kernel_id": null,
            "key_name": "IriusRisk",
            "license_specification": [],
            "maintenance_options": [],
            "monitoring": [],
            "name_prefix": "habase-test-LT",
            "network_interfaces": [
              {
                "associate_carrier_ip_address": null,
                "associate_public_ip_address": "true",
                "delete_on_termination": "true",
                "description": "primary interface",
                "device_index": 0,
                "interface_type": null,
                "ipv4_address_count": null,
                "ipv4_addresses": null,
                "ipv4_prefix_count": null,
                "ipv4_prefixes": null,
                "ipv6_address_count": null,
                "ipv6_addresses": null,
                "ipv6_prefix_count": null,
                "ipv6_prefixes": null,
                "network_card_index": null,
                "network_interface_id": null,
                "private_ip_address": null,
                "subnet_id": null
              }
            ],
            "placement": [],
            "private_dns_name_options": [],
            "ram_disk_id": null,
            "security_group_names": null,
            "tag_specifications": [],
            "tags": null,
            "update_default_version": null,
            "vpc_security_group_ids": null
          },
          "sensitive_values": {
            "block_device_mappings": [
              {
                "ebs": [
                  {}
                ]
              }
            ],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {}
            ],
            "instance_market_options": [],
            "instance_requirements": [],
            "license_specification": [],
            "maintenance_options": [],
            "metadata_options": [],
            "monitoring": [],
            "network_interfaces": [
              {
                "security_groups": []
              }
            ],
            "placement": [],
            "private_dns_name_options": [],
            "tag_specifications": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_secretsmanager_secret.jwt-secret",
          "mode": "managed",
          "type": "aws_secretsmanager_secret",
          "name": "jwt-secret",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "description": "JWT certificate for habase-test",
            "force_overwrite_replica_secret": false,
            "kms_key_id": null,
            "name": "prod/certificate/habase-test/jwt",
            "recovery_window_in_days": 0,
            "tags": null
          },
          "sensitive_values": {
            "replica": [],
            "rotation_rules": [],
            "tags_all": {}
          }
        },
        {
          "address": "aws_secretsmanager_secret_version.secret-value",
          "mode": "managed",
          "type": "aws_secretsmanager_secret_version",
          "name": "secret-value",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "secret_binary": null
          },
          "sensitive_values": {
            "secret_string": true,
            "version_stages": []
          }
        },
        {
          "address": "aws_security_group.alb",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "alb",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "description": "Allow access HTTP \u0026 HTTPS traffic to ALB",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "HTTP access from the world",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "HTTPS access from the world",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "habase-test ALB SG",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "habase-test ALB SG",
              "type": "internal"
            },
            "tags_all": {
              "Name": "habase-test ALB SG",
              "type": "internal"
            },
            "timeouts": null
          },
          "sensitive_values": {
            "egress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              },
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_security_group.aurora-db-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "aurora-db-sg",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "description": "Allow access to RDS database",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "PSQL access from worker nodes",
                "from_port": 5432,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "self": false,
                "to_port": 5432
              }
            ],
            "name": "habase-test RDS SG",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "habase-test RDS SG",
              "environment": "test",
              "terraform.repository": "adominfguez-local",
              "type": "internal"
            },
            "tags_all": {
              "Name": "habase-test RDS SG",
              "environment": "test",
              "terraform.repository": "adominfguez-local",
              "type": "internal"
            },
            "timeouts": null
          },
          "sensitive_values": {
            "egress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_security_group.iriusrisk",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "iriusrisk",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 1,
          "values": {
            "description": "Allow access HTTP and SSH traffic to WebServerInstance",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [
                  "52.30.97.44/32"
                ],
                "description": "SSH access from bastion host",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [],
                "description": "HTTP access from ALB",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "self": false,
                "to_port": 8080
              }
            ],
            "name": "habase-test WebServer SG",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "habase-test WebServer SG",
              "environment": "test",
              "terraform.repository": "adominfguez-local",
              "type": "internal"
            },
            "tags_all": {
              "Name": "habase-test WebServer SG",
              "environment": "test",
              "terraform.repository": "adominfguez-local",
              "type": "internal"
            },
            "timeouts": null
          },
          "sensitive_values": {
            "egress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "ingress": [
              {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              },
              {
                "cidr_blocks": [],
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "security_groups": []
              }
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "cloudflare_record.dns_cname",
          "mode": "managed",
          "type": "cloudflare_record",
          "name": "dns_cname",
          "provider_name": "registry.terraform.io/cloudflare/cloudflare",
          "schema_version": 2,
          "values": {
            "allow_overwrite": false,
            "comment": null,
            "data": [],
            "name": "habase-test",
            "priority": null,
            "proxied": true,
            "tags": null,
            "timeouts": null,
            "type": "CNAME",
            "zone_id": "322584a91b72b6a7f152b5f548cad339"
          },
          "sensitive_values": {
            "data": [],
            "metadata": {}
          }
        },
        {
          "address": "data.template_file.iriusrisk",
          "mode": "data",
          "type": "template_file",
          "name": "iriusrisk",
          "provider_name": "registry.terraform.io/hashicorp/template",
          "schema_version": 0,
          "values": {
            "filename": null,
            "template": "#!/bin/bash -xe\n\n# Update instance\n#yum update -y\n\n# Redirect web \u0026 RDS endpoints in docker-compose file\nsed -i 's/rds.iriusrisk.com/${rds_endpoint}/g' /home/ec2-user/docker/docker-compose.yml\n\n# Download ec_private.pem from secrets manager\naws secretsmanager get-secret-value --secret-id prod/certificate/${stack_name}/jwt --query SecretString --output text --region ${aws_region} \u003e /home/ec2-user/docker/ec_private.pem\n\n# Change CW log group (Check log group into docker-compose file in ansible repository)\nsed -i 's/\\/clients\\/prod\\/{customerName}/${log_group}/g' /home/ec2-user/docker/docker-compose.yml\n\n# Change user, password, URL and edition\n# Download ec_private.pem from secrets manager\naws secretsmanager get-secret-value --secret-id ${jwt_secret_name} --query SecretString --output text --region ${aws_region} \u003e /home/ec2-user/docker/ec_private.pem\nsed -i 's/iriusprod/${dbname}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/dbuser/${dbuser}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/dbpassword/${dbpassword}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/http\\\\:\\/\\/ha.iriusrisk.com/https\\\\:\\/\\/${dns_name}.iriusrisk.com/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/ir_edition/saas/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/{region}/${aws_region}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/{customerName}/${stack_name}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/{instance_id}/${stack_name}/g' /home/ec2-user/docker/docker-compose.yml\n\n# Change docker image\nsed -i \"s/container_name\\:tag/iriusrisk-prod\\:tomcat-${iriusrisk_version}/g\" /home/ec2-user/docker/docker-compose.yml\nsed -i \"s/container_name\\:startleft-tag/iriusrisk-prod\\:startleft-${startleft_version}/g\" /home/ec2-user/docker/docker-compose.yml\n\n# Remove SAML and disbale issue tracker for non-production environment\nif [ ${env} != 'prod' ];\nthen\n  sed -i 's,\\\"-Dsaml.config.path=\\/etc\\/irius\\/SAMLv2-config.groovy\\\" ,,g' /home/ec2-user/docker/docker-compose.yml\n  sed -i '/IRIUS_EDITION=saas/a\\      - ISSUE_TRACKER_AUTO_SYNC_DISABLED=true' /home/ec2-user/docker/docker-compose.yml\nfi\n\n# Change hostname\necho '${stack_name}-web' \u003e /etc/hostname\nhostname ${stack_name}-web\nbash /tmp/change_motd_ec2.sh ${stack_name}-web\n# Start and enable docker-compose service\nsystemctl start docker-compose.service\nsystemctl enable docker-compose.service",
            "vars": {
              "aws_region": "eu-west-1",
              "dbname": "iriusprod",
              "dbpassword": "alongandcomplexpassword1234",
              "dbuser": "iriusprod",
              "dns_name": "habase-test",
              "env": "test",
              "iriusrisk_version": "4.12.1",
              "jwt_secret_name": "prod/certificate/habase-test/jwt",
              "log_group": "\\/clients\\/test\\/habase-test",
              "stack_name": "habase-test",
              "startleft_version": "1.10.0",
              "type": "internal"
            }
          },
          "sensitive_values": {
            "vars": {
              "dbpassword": true
            }
          }
        },
        {
          "address": "time_sleep.wait_180_seconds",
          "mode": "managed",
          "type": "time_sleep",
          "name": "wait_180_seconds",
          "provider_name": "registry.terraform.io/hashicorp/time",
          "schema_version": 0,
          "values": {
            "create_duration": "180s",
            "destroy_duration": null,
            "triggers": null
          },
          "sensitive_values": {}
        },
        {
          "address": "tls_private_key.ec_private",
          "mode": "managed",
          "type": "tls_private_key",
          "name": "ec_private",
          "provider_name": "registry.terraform.io/hashicorp/tls",
          "schema_version": 1,
          "values": {
            "algorithm": "ECDSA",
            "ecdsa_curve": "P256",
            "rsa_bits": 2048
          },
          "sensitive_values": {}
        }
      ],
      "child_modules": [
        {
          "resources": [
            {
              "address": "module.aurora-db-green.aws_db_subnet_group.this[0]",
              "mode": "managed",
              "type": "aws_db_subnet_group",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "description": "For Aurora cluster habase-test-rds-green",
                "name": "habase-test-rds-subnets-green",
                "tags": {
                  "Name": "iriusrisk-habase-test-rds-green",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "iriusrisk-habase-test-rds-green",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                }
              },
              "sensitive_values": {
                "subnet_ids": [],
                "supported_network_types": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.aurora-db-green.aws_rds_cluster.this[0]",
              "mode": "managed",
              "type": "aws_rds_cluster",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "allow_major_version_upgrade": false,
                "backtrack_window": 0,
                "backup_retention_period": 35,
                "cluster_identifier": "habase-test-rds-green",
                "copy_tags_to_snapshot": true,
                "database_name": "iriusprod",
                "db_cluster_instance_class": null,
                "db_instance_parameter_group_name": null,
                "db_subnet_group_name": "habase-test-rds-subnets-green",
                "deletion_protection": false,
                "enable_global_write_forwarding": false,
                "enable_http_endpoint": false,
                "enabled_cloudwatch_logs_exports": null,
                "engine": "aurora-postgresql",
                "engine_mode": "provisioned",
                "engine_version": "11.16",
                "final_snapshot_identifier": null,
                "global_cluster_identifier": null,
                "iam_database_authentication_enabled": null,
                "iops": null,
                "master_password": "alongandcomplexpassword1234",
                "master_username": "iriusprod",
                "port": 5432,
                "preferred_backup_window": "16:50-18:50",
                "preferred_maintenance_window": "mon:02:00-mon:03:00",
                "replication_source_identifier": null,
                "restore_to_point_in_time": [],
                "s3_import": [],
                "scaling_configuration": [],
                "serverlessv2_scaling_configuration": [],
                "skip_final_snapshot": true,
                "snapshot_identifier": null,
                "source_region": null,
                "storage_encrypted": true,
                "storage_type": null,
                "tags": {
                  "Name": "iriusrisk-habase-test-rds-green",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "iriusrisk-habase-test-rds-green",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": {
                  "create": null,
                  "delete": null,
                  "update": null
                }
              },
              "sensitive_values": {
                "availability_zones": [],
                "cluster_members": [],
                "iam_roles": [],
                "master_password": true,
                "restore_to_point_in_time": [],
                "s3_import": [],
                "scaling_configuration": [],
                "serverlessv2_scaling_configuration": [],
                "tags": {},
                "tags_all": {},
                "timeouts": {},
                "vpc_security_group_ids": []
              }
            },
            {
              "address": "module.aurora-db-green.aws_rds_cluster_instance.this[\"one\"]",
              "mode": "managed",
              "type": "aws_rds_cluster_instance",
              "name": "this",
              "index": "one",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "auto_minor_version_upgrade": false,
                "copy_tags_to_snapshot": true,
                "db_subnet_group_name": "habase-test-rds-subnets-green",
                "engine": "aurora-postgresql",
                "engine_version": "11.16",
                "identifier": "habase-test-rds-green-one",
                "instance_class": "db.r6g.xlarge",
                "monitoring_interval": 0,
                "performance_insights_enabled": true,
                "performance_insights_retention_period": 31,
                "preferred_maintenance_window": "mon:02:00-mon:03:00",
                "promotion_tier": 0,
                "publicly_accessible": false,
                "tags": {
                  "Name": "iriusrisk-habase-test-rds-green",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "iriusrisk-habase-test-rds-green",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": {
                  "create": null,
                  "delete": null,
                  "update": null
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {},
                "timeouts": {}
              }
            }
          ],
          "address": "module.aurora-db-green"
        },
        {
          "resources": [
            {
              "address": "module.iriusrisk_alb.aws_lb.this[0]",
              "mode": "managed",
              "type": "aws_lb",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "access_logs": [],
                "customer_owned_ipv4_pool": null,
                "desync_mitigation_mode": "defensive",
                "drop_invalid_header_fields": false,
                "enable_cross_zone_load_balancing": null,
                "enable_deletion_protection": false,
                "enable_http2": true,
                "enable_waf_fail_open": false,
                "idle_timeout": 900,
                "internal": false,
                "ip_address_type": "ipv4",
                "load_balancer_type": "application",
                "name": "habase-test-alb",
                "name_prefix": null,
                "preserve_host_header": false,
                "tags": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": {
                  "create": "10m",
                  "delete": "10m",
                  "update": "10m"
                }
              },
              "sensitive_values": {
                "access_logs": [],
                "security_groups": [],
                "subnet_mapping": [],
                "subnets": [],
                "tags": {},
                "tags_all": {},
                "timeouts": {}
              }
            },
            {
              "address": "module.iriusrisk_alb.aws_lb_listener.frontend_http_tcp[0]",
              "mode": "managed",
              "type": "aws_lb_listener",
              "name": "frontend_http_tcp",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "alpn_policy": null,
                "certificate_arn": null,
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": [
                      {
                        "host": "#{host}",
                        "path": "/#{path}",
                        "port": "443",
                        "protocol": "HTTPS",
                        "query": "#{query}",
                        "status_code": "HTTP_302"
                      }
                    ],
                    "target_group_arn": null,
                    "type": "redirect"
                  }
                ],
                "port": 80,
                "protocol": "HTTP",
                "tags": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": [
                      {}
                    ]
                  }
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.iriusrisk_alb.aws_lb_listener.frontend_https[0]",
              "mode": "managed",
              "type": "aws_lb_listener",
              "name": "frontend_https",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "alpn_policy": null,
                "certificate_arn": "arn:aws:iam::154977180039:server-certificate/wildcard-iriusrisk-com-until-27-oct-2023",
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": [],
                    "type": "forward"
                  }
                ],
                "port": 443,
                "protocol": "HTTPS",
                "ssl_policy": "ELBSecurityPolicy-2016-08",
                "tags": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "default_action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": []
                  }
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.iriusrisk_alb.aws_lb_listener_rule.https_listener_rule[0]",
              "mode": "managed",
              "type": "aws_lb_listener_rule",
              "name": "https_listener_rule",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": [],
                    "type": "forward"
                  }
                ],
                "condition": [
                  {
                    "host_header": [],
                    "http_header": [],
                    "http_request_method": [],
                    "path_pattern": [
                      {
                        "values": [
                          "/api",
                          "/api/*"
                        ]
                      }
                    ],
                    "query_string": [],
                    "source_ip": []
                  }
                ],
                "tags": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-alb",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                }
              },
              "sensitive_values": {
                "action": [
                  {
                    "authenticate_cognito": [],
                    "authenticate_oidc": [],
                    "fixed_response": [],
                    "forward": [],
                    "redirect": []
                  }
                ],
                "condition": [
                  {
                    "host_header": [],
                    "http_header": [],
                    "http_request_method": [],
                    "path_pattern": [
                      {
                        "values": [
                          false,
                          false
                        ]
                      }
                    ],
                    "query_string": [],
                    "source_ip": []
                  }
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.iriusrisk_alb.aws_lb_target_group.main[0]",
              "mode": "managed",
              "type": "aws_lb_target_group",
              "name": "main",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "connection_termination": false,
                "deregistration_delay": "30",
                "health_check": [
                  {
                    "enabled": true,
                    "healthy_threshold": 4,
                    "interval": 20,
                    "path": "/health",
                    "port": "traffic-port",
                    "protocol": "HTTP",
                    "timeout": 5,
                    "unhealthy_threshold": 2
                  }
                ],
                "lambda_multi_value_headers_enabled": false,
                "load_balancing_algorithm_type": "round_robin",
                "name": "habase-test-web-TG",
                "name_prefix": null,
                "port": 8080,
                "protocol": "HTTP",
                "proxy_protocol_v2": false,
                "slow_start": 0,
                "stickiness": [
                  {
                    "cookie_duration": 600,
                    "cookie_name": null,
                    "enabled": true,
                    "type": "lb_cookie"
                  }
                ],
                "tags": {
                  "Name": "habase-test-web-TG",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-web-TG",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "target_type": "instance"
              },
              "sensitive_values": {
                "health_check": [
                  {}
                ],
                "stickiness": [
                  {}
                ],
                "tags": {},
                "tags_all": {},
                "target_failover": []
              }
            },
            {
              "address": "module.iriusrisk_alb.aws_lb_target_group.main[1]",
              "mode": "managed",
              "type": "aws_lb_target_group",
              "name": "main",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "connection_termination": false,
                "deregistration_delay": "30",
                "health_check": [
                  {
                    "enabled": true,
                    "healthy_threshold": 4,
                    "interval": 20,
                    "path": "/health",
                    "port": "traffic-port",
                    "protocol": "HTTP",
                    "timeout": 5,
                    "unhealthy_threshold": 2
                  }
                ],
                "lambda_multi_value_headers_enabled": false,
                "load_balancing_algorithm_type": "round_robin",
                "name": "habase-test-api-TG",
                "name_prefix": null,
                "port": 8080,
                "protocol": "HTTP",
                "proxy_protocol_v2": false,
                "slow_start": 0,
                "tags": {
                  "Name": "habase-test-api-TG",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-api-TG",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "target_type": "instance"
              },
              "sensitive_values": {
                "health_check": [
                  {}
                ],
                "stickiness": [],
                "tags": {},
                "tags_all": {},
                "target_failover": []
              }
            }
          ],
          "address": "module.iriusrisk_alb"
        },
        {
          "resources": [
            {
              "address": "module.vpc.aws_internet_gateway.this[0]",
              "mode": "managed",
              "type": "aws_internet_gateway",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "habase-test-VPC",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route.public_internet_gateway[0]",
              "mode": "managed",
              "type": "aws_route",
              "name": "public_internet_gateway",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "carrier_gateway_id": null,
                "core_network_arn": null,
                "destination_cidr_block": "0.0.0.0/0",
                "destination_ipv6_cidr_block": null,
                "destination_prefix_list_id": null,
                "egress_only_gateway_id": null,
                "local_gateway_id": null,
                "nat_gateway_id": null,
                "timeouts": {
                  "create": "5m",
                  "delete": null,
                  "update": null
                },
                "transit_gateway_id": null,
                "vpc_endpoint_id": null,
                "vpc_peering_connection_id": null
              },
              "sensitive_values": {
                "timeouts": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.private[0]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "habase-test-VPC-private-eu-west-1a",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC-private-eu-west-1a",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.private[1]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "habase-test-VPC-private-eu-west-1b",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC-private-eu-west-1b",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table.public[0]",
              "mode": "managed",
              "type": "aws_route_table",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "tags": {
                  "Name": "habase-test-VPC-public",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC-public",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "propagating_vgws": [],
                "route": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_route_table_association.private[0]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.private[1]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.public[0]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_route_table_association.public[1]",
              "mode": "managed",
              "type": "aws_route_table_association",
              "name": "public",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "gateway_id": null
              },
              "sensitive_values": {}
            },
            {
              "address": "module.vpc.aws_subnet.private[0]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "private",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "eu-west-1a",
                "cidr_block": "10.125.20.0/24",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": false,
                "outpost_arn": null,
                "tags": {
                  "Name": "habase-test-VPC-private-eu-west-1a",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC-private-eu-west-1a",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.private[1]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "private",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "eu-west-1b",
                "cidr_block": "10.125.21.0/24",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": false,
                "outpost_arn": null,
                "tags": {
                  "Name": "habase-test-VPC-private-eu-west-1b",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC-private-eu-west-1b",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.public[0]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "public",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "eu-west-1a",
                "cidr_block": "10.125.10.0/24",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": true,
                "outpost_arn": null,
                "tags": {
                  "Name": "habase-test-VPC-public-eu-west-1a",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC-public-eu-west-1a",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_subnet.public[1]",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "public",
              "index": 1,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_ipv6_address_on_creation": false,
                "availability_zone": "eu-west-1b",
                "cidr_block": "10.125.11.0/24",
                "customer_owned_ipv4_pool": null,
                "enable_dns64": false,
                "enable_resource_name_dns_a_record_on_launch": false,
                "enable_resource_name_dns_aaaa_record_on_launch": false,
                "ipv6_cidr_block": null,
                "ipv6_native": false,
                "map_customer_owned_ip_on_launch": null,
                "map_public_ip_on_launch": true,
                "outpost_arn": null,
                "tags": {
                  "Name": "habase-test-VPC-public-eu-west-1b",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC-public-eu-west-1b",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "timeouts": null
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.vpc.aws_vpc.this[0]",
              "mode": "managed",
              "type": "aws_vpc",
              "name": "this",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "assign_generated_ipv6_cidr_block": false,
                "cidr_block": "10.125.0.0/16",
                "enable_dns_hostnames": true,
                "enable_dns_support": true,
                "instance_tenancy": "default",
                "ipv4_ipam_pool_id": null,
                "ipv4_netmask_length": null,
                "ipv6_ipam_pool_id": null,
                "ipv6_netmask_length": null,
                "tags": {
                  "Name": "habase-test-VPC",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                },
                "tags_all": {
                  "Name": "habase-test-VPC",
                  "environment": "test",
                  "terraform.repository": "adominfguez-local",
                  "type": "internal"
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            }
          ],
          "address": "module.vpc"
        }
      ]
    }
  },
  "resource_changes": [
    {
      "address": "aws_autoscaling_group.iriusrisk_api",
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "iriusrisk_api",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "capacity_rebalance": null,
          "context": null,
          "default_instance_warmup": null,
          "desired_capacity": 3,
          "desired_capacity_type": null,
          "enabled_metrics": [
            "GroupAndWarmPoolDesiredCapacity",
            "GroupAndWarmPoolTotalCapacity",
            "GroupDesiredCapacity",
            "GroupInServiceCapacity",
            "GroupInServiceInstances",
            "GroupMaxSize",
            "GroupMinSize",
            "GroupPendingCapacity",
            "GroupPendingInstances",
            "GroupStandbyCapacity",
            "GroupStandbyInstances",
            "GroupTerminatingCapacity",
            "GroupTerminatingInstances",
            "GroupTotalCapacity",
            "GroupTotalInstances"
          ],
          "force_delete": true,
          "force_delete_warm_pool": false,
          "health_check_grace_period": 1100,
          "health_check_type": "ELB",
          "initial_lifecycle_hook": [],
          "instance_refresh": [],
          "launch_configuration": null,
          "launch_template": [
            {
              "version": "$Latest"
            }
          ],
          "load_balancers": null,
          "max_instance_lifetime": null,
          "max_size": 5,
          "metrics_granularity": "1Minute",
          "min_elb_capacity": null,
          "min_size": 3,
          "mixed_instances_policy": [],
          "name": "habase-test-api-ASG",
          "placement_group": null,
          "protect_from_scale_in": false,
          "suspended_processes": null,
          "tag": [
            {
              "key": "Name",
              "propagate_at_launch": true,
              "value": "habase-test ApiServer"
            },
            {
              "key": "asg-name",
              "propagate_at_launch": true,
              "value": "habase-test-api-ASG"
            },
            {
              "key": "endpoint",
              "propagate_at_launch": true,
              "value": "habase-test.iriusrisk.com"
            },
            {
              "key": "environment",
              "propagate_at_launch": true,
              "value": "test"
            },
            {
              "key": "iriusrisk",
              "propagate_at_launch": true,
              "value": "true"
            },
            {
              "key": "terraform.repository",
              "propagate_at_launch": true,
              "value": "adominfguez-local"
            },
            {
              "key": "type",
              "propagate_at_launch": true,
              "value": "internal"
            },
            {
              "key": "update_scenario",
              "propagate_at_launch": true,
              "value": "exceptional"
            }
          ],
          "tags": null,
          "termination_policies": null,
          "timeouts": null,
          "wait_for_capacity_timeout": "10m",
          "wait_for_elb_capacity": null,
          "warm_pool": []
        },
        "after_unknown": {
          "arn": true,
          "availability_zones": true,
          "default_cooldown": true,
          "enabled_metrics": [
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false
          ],
          "id": true,
          "initial_lifecycle_hook": [],
          "instance_refresh": [],
          "launch_template": [
            {
              "id": true,
              "name": true
            }
          ],
          "mixed_instances_policy": [],
          "name_prefix": true,
          "service_linked_role_arn": true,
          "tag": [
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {}
          ],
          "target_group_arns": true,
          "vpc_zone_identifier": true,
          "warm_pool": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "availability_zones": [],
          "enabled_metrics": [
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false
          ],
          "initial_lifecycle_hook": [],
          "instance_refresh": [],
          "launch_template": [
            {}
          ],
          "mixed_instances_policy": [],
          "tag": [
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {}
          ],
          "target_group_arns": [],
          "vpc_zone_identifier": [],
          "warm_pool": []
        }
      }
    },
    {
      "address": "aws_autoscaling_group.iriusrisk_web",
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "iriusrisk_web",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "capacity_rebalance": null,
          "context": null,
          "default_instance_warmup": null,
          "desired_capacity": 3,
          "desired_capacity_type": null,
          "enabled_metrics": [
            "GroupAndWarmPoolDesiredCapacity",
            "GroupAndWarmPoolTotalCapacity",
            "GroupDesiredCapacity",
            "GroupInServiceCapacity",
            "GroupInServiceInstances",
            "GroupMaxSize",
            "GroupMinSize",
            "GroupPendingCapacity",
            "GroupPendingInstances",
            "GroupStandbyCapacity",
            "GroupStandbyInstances",
            "GroupTerminatingCapacity",
            "GroupTerminatingInstances",
            "GroupTotalCapacity",
            "GroupTotalInstances"
          ],
          "force_delete": true,
          "force_delete_warm_pool": false,
          "health_check_grace_period": 1100,
          "health_check_type": "ELB",
          "initial_lifecycle_hook": [],
          "instance_refresh": [],
          "launch_configuration": null,
          "launch_template": [
            {
              "version": "$Latest"
            }
          ],
          "load_balancers": null,
          "max_instance_lifetime": null,
          "max_size": 5,
          "metrics_granularity": "1Minute",
          "min_elb_capacity": null,
          "min_size": 3,
          "mixed_instances_policy": [],
          "name": "habase-test-web-ASG",
          "placement_group": null,
          "protect_from_scale_in": false,
          "suspended_processes": null,
          "tag": [
            {
              "key": "Name",
              "propagate_at_launch": true,
              "value": "habase-test WebServer"
            },
            {
              "key": "asg-name",
              "propagate_at_launch": true,
              "value": "habase-test-web-ASG"
            },
            {
              "key": "endpoint",
              "propagate_at_launch": true,
              "value": "habase-test.iriusrisk.com"
            },
            {
              "key": "environment",
              "propagate_at_launch": true,
              "value": "test"
            },
            {
              "key": "iriusrisk",
              "propagate_at_launch": true,
              "value": "true"
            },
            {
              "key": "terraform.repository",
              "propagate_at_launch": true,
              "value": "adominfguez-local"
            },
            {
              "key": "type",
              "propagate_at_launch": true,
              "value": "internal"
            },
            {
              "key": "update_scenario",
              "propagate_at_launch": true,
              "value": "exceptional"
            }
          ],
          "tags": null,
          "termination_policies": null,
          "timeouts": null,
          "wait_for_capacity_timeout": "10m",
          "wait_for_elb_capacity": null,
          "warm_pool": []
        },
        "after_unknown": {
          "arn": true,
          "availability_zones": true,
          "default_cooldown": true,
          "enabled_metrics": [
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false
          ],
          "id": true,
          "initial_lifecycle_hook": [],
          "instance_refresh": [],
          "launch_template": [
            {
              "id": true,
              "name": true
            }
          ],
          "mixed_instances_policy": [],
          "name_prefix": true,
          "service_linked_role_arn": true,
          "tag": [
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {}
          ],
          "target_group_arns": true,
          "vpc_zone_identifier": true,
          "warm_pool": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "availability_zones": [],
          "enabled_metrics": [
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false,
            false
          ],
          "initial_lifecycle_hook": [],
          "instance_refresh": [],
          "launch_template": [
            {}
          ],
          "mixed_instances_policy": [],
          "tag": [
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {}
          ],
          "target_group_arns": [],
          "vpc_zone_identifier": [],
          "warm_pool": []
        }
      }
    },
    {
      "address": "aws_autoscaling_policy.iriusrisk_api_scaling_down",
      "mode": "managed",
      "type": "aws_autoscaling_policy",
      "name": "iriusrisk_api_scaling_down",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "adjustment_type": "ChangeInCapacity",
          "autoscaling_group_name": "habase-test-api-ASG",
          "cooldown": 400,
          "enabled": true,
          "estimated_instance_warmup": null,
          "min_adjustment_magnitude": null,
          "name": "habase-test_api_asg_scaling_down_policy",
          "policy_type": "SimpleScaling",
          "predictive_scaling_configuration": [],
          "scaling_adjustment": -1,
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "metric_aggregation_type": true,
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        }
      }
    },
    {
      "address": "aws_autoscaling_policy.iriusrisk_api_scaling_up",
      "mode": "managed",
      "type": "aws_autoscaling_policy",
      "name": "iriusrisk_api_scaling_up",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "adjustment_type": "ChangeInCapacity",
          "autoscaling_group_name": "habase-test-api-ASG",
          "cooldown": 400,
          "enabled": true,
          "estimated_instance_warmup": null,
          "min_adjustment_magnitude": null,
          "name": "habase-test_api_asg_scaling_up_policy",
          "policy_type": "SimpleScaling",
          "predictive_scaling_configuration": [],
          "scaling_adjustment": 2,
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "metric_aggregation_type": true,
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        }
      }
    },
    {
      "address": "aws_autoscaling_policy.iriusrisk_web_scaling_down",
      "mode": "managed",
      "type": "aws_autoscaling_policy",
      "name": "iriusrisk_web_scaling_down",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "adjustment_type": "ChangeInCapacity",
          "autoscaling_group_name": "habase-test-web-ASG",
          "cooldown": 400,
          "enabled": true,
          "estimated_instance_warmup": null,
          "min_adjustment_magnitude": null,
          "name": "habase-test_web_asg_scaling_down_policy",
          "policy_type": "SimpleScaling",
          "predictive_scaling_configuration": [],
          "scaling_adjustment": -1,
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "metric_aggregation_type": true,
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        }
      }
    },
    {
      "address": "aws_autoscaling_policy.iriusrisk_web_scaling_up",
      "mode": "managed",
      "type": "aws_autoscaling_policy",
      "name": "iriusrisk_web_scaling_up",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "adjustment_type": "ChangeInCapacity",
          "autoscaling_group_name": "habase-test-web-ASG",
          "cooldown": 400,
          "enabled": true,
          "estimated_instance_warmup": null,
          "min_adjustment_magnitude": null,
          "name": "habase-test_web_asg_scaling_up_policy",
          "policy_type": "SimpleScaling",
          "predictive_scaling_configuration": [],
          "scaling_adjustment": 2,
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "metric_aggregation_type": true,
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        },
        "before_sensitive": false,
        "after_sensitive": {
          "predictive_scaling_configuration": [],
          "step_adjustment": [],
          "target_tracking_configuration": []
        }
      }
    },
    {
      "address": "aws_cloudwatch_log_group.cw_log_group",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "cw_log_group",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "kms_key_id": null,
          "name": "/clients/test/habase-test",
          "retention_in_days": 365,
          "skip_destroy": false,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "name_prefix": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_cloudwatch_metric_alarm.iriusrisk_api_cloudwatch_alarm_down",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iriusrisk_api_cloudwatch_alarm_down",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "actions_enabled": true,
          "alarm_description": "Scale-down if CPU \u003c 30% for 10 minutes",
          "alarm_name": "habase-test-iriusrisk-api-cpu-below-30",
          "comparison_operator": "LessThanThreshold",
          "datapoints_to_alarm": null,
          "dimensions": {
            "AutoScalingGroupName": "habase-test-api-ASG"
          },
          "evaluation_periods": 2,
          "extended_statistic": null,
          "insufficient_data_actions": null,
          "metric_name": "CPUUtilization",
          "metric_query": [],
          "namespace": "AWS/EC2",
          "ok_actions": null,
          "period": 300,
          "statistic": "Average",
          "tags": null,
          "threshold": 30,
          "threshold_metric_id": null,
          "treat_missing_data": "missing",
          "unit": null
        },
        "after_unknown": {
          "alarm_actions": true,
          "arn": true,
          "dimensions": {},
          "evaluate_low_sample_count_percentiles": true,
          "id": true,
          "metric_query": [],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "alarm_actions": [],
          "dimensions": {},
          "metric_query": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_cloudwatch_metric_alarm.iriusrisk_api_cloudwatch_alarm_up",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iriusrisk_api_cloudwatch_alarm_up",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "actions_enabled": true,
          "alarm_description": "Scale-up if CPU \u003e 70% for 2 minutes",
          "alarm_name": "habase-test-iriusrisk-api-cpu-above-70",
          "comparison_operator": "GreaterThanThreshold",
          "datapoints_to_alarm": null,
          "dimensions": {
            "AutoScalingGroupName": "habase-test-api-ASG"
          },
          "evaluation_periods": 1,
          "extended_statistic": null,
          "insufficient_data_actions": null,
          "metric_name": "CPUUtilization",
          "metric_query": [],
          "namespace": "AWS/EC2",
          "ok_actions": null,
          "period": 120,
          "statistic": "Average",
          "tags": null,
          "threshold": 70,
          "threshold_metric_id": null,
          "treat_missing_data": "missing",
          "unit": null
        },
        "after_unknown": {
          "alarm_actions": true,
          "arn": true,
          "dimensions": {},
          "evaluate_low_sample_count_percentiles": true,
          "id": true,
          "metric_query": [],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "alarm_actions": [],
          "dimensions": {},
          "metric_query": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_cloudwatch_metric_alarm.iriusrisk_db_cloudwatch_alarm_above_600",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iriusrisk_db_cloudwatch_alarm_above_600",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "actions_enabled": true,
          "alarm_actions": null,
          "alarm_description": "DB connections \u003e 600",
          "alarm_name": "habase-test-iriusrisk-db-connections-above-600",
          "comparison_operator": "GreaterThanThreshold",
          "datapoints_to_alarm": null,
          "dimensions": {
            "DBInstanceIdentifier": "habase-test-rds-green-one"
          },
          "evaluation_periods": 1,
          "extended_statistic": null,
          "insufficient_data_actions": null,
          "metric_name": "DatabaseConnections",
          "metric_query": [],
          "namespace": "AWS/RDS",
          "ok_actions": null,
          "period": 60,
          "statistic": "Average",
          "tags": null,
          "threshold": 600,
          "threshold_metric_id": null,
          "treat_missing_data": "missing",
          "unit": null
        },
        "after_unknown": {
          "arn": true,
          "dimensions": {},
          "evaluate_low_sample_count_percentiles": true,
          "id": true,
          "metric_query": [],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "dimensions": {},
          "metric_query": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_cloudwatch_metric_alarm.iriusrisk_web_cloudwatch_alarm_down",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iriusrisk_web_cloudwatch_alarm_down",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "actions_enabled": true,
          "alarm_description": "Scale-down if CPU \u003c 30% for 10 minutes",
          "alarm_name": "habase-test-iriusrisk-web-cpu-below-30",
          "comparison_operator": "LessThanThreshold",
          "datapoints_to_alarm": null,
          "dimensions": {
            "AutoScalingGroupName": "habase-test-web-ASG"
          },
          "evaluation_periods": 2,
          "extended_statistic": null,
          "insufficient_data_actions": null,
          "metric_name": "CPUUtilization",
          "metric_query": [],
          "namespace": "AWS/EC2",
          "ok_actions": null,
          "period": 300,
          "statistic": "Average",
          "tags": null,
          "threshold": 30,
          "threshold_metric_id": null,
          "treat_missing_data": "missing",
          "unit": null
        },
        "after_unknown": {
          "alarm_actions": true,
          "arn": true,
          "dimensions": {},
          "evaluate_low_sample_count_percentiles": true,
          "id": true,
          "metric_query": [],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "alarm_actions": [],
          "dimensions": {},
          "metric_query": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_cloudwatch_metric_alarm.iriusrisk_web_cloudwatch_alarm_up",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iriusrisk_web_cloudwatch_alarm_up",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "actions_enabled": true,
          "alarm_description": "Scale-up if CPU \u003e 70% for 5 minutes",
          "alarm_name": "habase-test-iriusrisk-web-cpu-above-70",
          "comparison_operator": "GreaterThanThreshold",
          "datapoints_to_alarm": null,
          "dimensions": {
            "AutoScalingGroupName": "habase-test-web-ASG"
          },
          "evaluation_periods": 1,
          "extended_statistic": null,
          "insufficient_data_actions": null,
          "metric_name": "CPUUtilization",
          "metric_query": [],
          "namespace": "AWS/EC2",
          "ok_actions": null,
          "period": 300,
          "statistic": "Average",
          "tags": null,
          "threshold": 70,
          "threshold_metric_id": null,
          "treat_missing_data": "missing",
          "unit": null
        },
        "after_unknown": {
          "alarm_actions": true,
          "arn": true,
          "dimensions": {},
          "evaluate_low_sample_count_percentiles": true,
          "id": true,
          "metric_query": [],
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "alarm_actions": [],
          "dimensions": {},
          "metric_query": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_instance_profile.instance_profile",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "instance_profile",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "name": "habase-test-instance-profile",
          "name_prefix": null,
          "path": "/",
          "role": "habase-test-access-role",
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "tags_all": true,
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_policy.secret-access",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "secret-access",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "habase-test policy to secrets access. TERRAFORM GENERATED",
          "name": "habase-test-secret-access",
          "name_prefix": null,
          "path": "/",
          "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:DescribeSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-1:154977180039:secret:prod/certificate/habase-test/*\",\"Sid\":\"TerraformGenerated0\"}],\"Version\":\"2012-10-17\"}",
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "policy_id": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_role.access-role",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "access-role",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}",
          "description": "habase-test role. TERRAFORM GENERATED",
          "force_detach_policies": false,
          "max_session_duration": 3600,
          "name": "habase-test-access-role",
          "path": "/",
          "permissions_boundary": null,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "create_date": true,
          "id": true,
          "inline_policy": true,
          "managed_policy_arns": true,
          "name_prefix": true,
          "tags_all": true,
          "unique_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.existing-policies-attachment[0]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "existing-policies-attachment",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM",
          "role": "habase-test-access-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.existing-policies-attachment[1]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "existing-policies-attachment",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/AmazonS3FullAccess",
          "role": "habase-test-access-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.existing-policies-attachment[2]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "existing-policies-attachment",
      "index": 2,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::154977180039:policy/AllowLogRetentionUpdate",
          "role": "habase-test-access-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.existing-policies-attachment[3]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "existing-policies-attachment",
      "index": 3,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::154977180039:policy/allow-invoke-lambda-ascii-banner",
          "role": "habase-test-access-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.existing-policies-attachment[4]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "existing-policies-attachment",
      "index": 4,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::154977180039:policy/AccessSecretsProdCertificateIriusrisk",
          "role": "habase-test-access-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.existing-policies-attachment[5]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "existing-policies-attachment",
      "index": 5,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "policy_arn": "arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy",
          "role": "habase-test-access-role"
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_iam_role_policy_attachment.secret-access-attachment",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "secret-access-attachment",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "role": "habase-test-access-role"
        },
        "after_unknown": {
          "id": true,
          "policy_arn": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "aws_launch_template.iriusrisk",
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "iriusrisk",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "block_device_mappings": [
            {
              "device_name": "/dev/xvda",
              "ebs": [
                {
                  "delete_on_termination": "true",
                  "encrypted": "true",
                  "kms_key_id": null,
                  "snapshot_id": null,
                  "volume_size": 32,
                  "volume_type": "gp3"
                }
              ],
              "no_device": null,
              "virtual_name": null
            }
          ],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "description": null,
          "disable_api_stop": null,
          "disable_api_termination": null,
          "ebs_optimized": null,
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {
              "arn": null,
              "name": "habase-test-instance-profile"
            }
          ],
          "image_id": "ami-0893e738795aad326",
          "instance_initiated_shutdown_behavior": null,
          "instance_market_options": [],
          "instance_requirements": [],
          "instance_type": "c5.xlarge",
          "kernel_id": null,
          "key_name": "IriusRisk",
          "license_specification": [],
          "maintenance_options": [],
          "monitoring": [],
          "name_prefix": "habase-test-LT",
          "network_interfaces": [
            {
              "associate_carrier_ip_address": null,
              "associate_public_ip_address": "true",
              "delete_on_termination": "true",
              "description": "primary interface",
              "device_index": 0,
              "interface_type": null,
              "ipv4_address_count": null,
              "ipv4_addresses": null,
              "ipv4_prefix_count": null,
              "ipv4_prefixes": null,
              "ipv6_address_count": null,
              "ipv6_addresses": null,
              "ipv6_prefix_count": null,
              "ipv6_prefixes": null,
              "network_card_index": null,
              "network_interface_id": null,
              "private_ip_address": null,
              "subnet_id": null
            }
          ],
          "placement": [],
          "private_dns_name_options": [],
          "ram_disk_id": null,
          "security_group_names": null,
          "tag_specifications": [],
          "tags": null,
          "update_default_version": null,
          "vpc_security_group_ids": null
        },
        "after_unknown": {
          "arn": true,
          "block_device_mappings": [
            {
              "ebs": [
                {
                  "iops": true,
                  "throughput": true
                }
              ]
            }
          ],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "default_version": true,
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {}
          ],
          "id": true,
          "instance_market_options": [],
          "instance_requirements": [],
          "latest_version": true,
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": true,
          "monitoring": [],
          "name": true,
          "network_interfaces": [
            {
              "security_groups": true
            }
          ],
          "placement": [],
          "private_dns_name_options": [],
          "tag_specifications": [],
          "tags_all": true,
          "user_data": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "block_device_mappings": [
            {
              "ebs": [
                {}
              ]
            }
          ],
          "capacity_reservation_specification": [],
          "cpu_options": [],
          "credit_specification": [],
          "elastic_gpu_specifications": [],
          "elastic_inference_accelerator": [],
          "enclave_options": [],
          "hibernation_options": [],
          "iam_instance_profile": [
            {}
          ],
          "instance_market_options": [],
          "instance_requirements": [],
          "license_specification": [],
          "maintenance_options": [],
          "metadata_options": [],
          "monitoring": [],
          "network_interfaces": [
            {
              "security_groups": []
            }
          ],
          "placement": [],
          "private_dns_name_options": [],
          "tag_specifications": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_secretsmanager_secret.jwt-secret",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "jwt-secret",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "JWT certificate for habase-test",
          "force_overwrite_replica_secret": false,
          "kms_key_id": null,
          "name": "prod/certificate/habase-test/jwt",
          "recovery_window_in_days": 0,
          "tags": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "name_prefix": true,
          "policy": true,
          "replica": true,
          "rotation_enabled": true,
          "rotation_lambda_arn": true,
          "rotation_rules": true,
          "tags_all": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "replica": [],
          "rotation_rules": [],
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_secretsmanager_secret_version.secret-value",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "secret-value",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "secret_binary": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "secret_id": true,
          "secret_string": true,
          "version_id": true,
          "version_stages": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "secret_binary": true,
          "secret_string": true,
          "version_stages": []
        }
      }
    },
    {
      "address": "aws_security_group.alb",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "alb",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Allow access HTTP \u0026 HTTPS traffic to ALB",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "HTTP access from the world",
              "from_port": 80,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 80
            },
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "HTTPS access from the world",
              "from_port": 443,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 443
            }
          ],
          "name": "habase-test ALB SG",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "habase-test ALB SG",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test ALB SG",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "name_prefix": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_security_group.aurora-db-sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "aurora-db-sg",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Allow access to RDS database",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "description": "PSQL access from worker nodes",
              "from_port": 5432,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "self": false,
              "to_port": 5432
            }
          ],
          "name": "habase-test RDS SG",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "habase-test RDS SG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test RDS SG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": true
            }
          ],
          "name_prefix": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_security_group.iriusrisk",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "iriusrisk",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "Allow access HTTP and SSH traffic to WebServerInstance",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                "52.30.97.44/32"
              ],
              "description": "SSH access from bastion host",
              "from_port": 22,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "security_groups": [],
              "self": false,
              "to_port": 22
            },
            {
              "cidr_blocks": [],
              "description": "HTTP access from ALB",
              "from_port": 8080,
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "protocol": "tcp",
              "self": false,
              "to_port": 8080
            }
          ],
          "name": "habase-test WebServer SG",
          "revoke_rules_on_delete": false,
          "tags": {
            "Name": "habase-test WebServer SG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test WebServer SG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "id": true,
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": true
            }
          ],
          "name_prefix": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            },
            {
              "cidr_blocks": [],
              "ipv6_cidr_blocks": [],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "cloudflare_record.dns_cname",
      "mode": "managed",
      "type": "cloudflare_record",
      "name": "dns_cname",
      "provider_name": "registry.terraform.io/cloudflare/cloudflare",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "allow_overwrite": false,
          "comment": null,
          "data": [],
          "name": "habase-test",
          "priority": null,
          "proxied": true,
          "tags": null,
          "timeouts": null,
          "type": "CNAME",
          "zone_id": "322584a91b72b6a7f152b5f548cad339"
        },
        "after_unknown": {
          "created_on": true,
          "data": [],
          "hostname": true,
          "id": true,
          "metadata": true,
          "modified_on": true,
          "proxiable": true,
          "ttl": true,
          "value": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "data": [],
          "metadata": {}
        }
      }
    },
    {
      "address": "data.template_file.iriusrisk",
      "mode": "data",
      "type": "template_file",
      "name": "iriusrisk",
      "provider_name": "registry.terraform.io/hashicorp/template",
      "change": {
        "actions": [
          "read"
        ],
        "before": null,
        "after": {
          "filename": null,
          "template": "#!/bin/bash -xe\n\n# Update instance\n#yum update -y\n\n# Redirect web \u0026 RDS endpoints in docker-compose file\nsed -i 's/rds.iriusrisk.com/${rds_endpoint}/g' /home/ec2-user/docker/docker-compose.yml\n\n# Download ec_private.pem from secrets manager\naws secretsmanager get-secret-value --secret-id prod/certificate/${stack_name}/jwt --query SecretString --output text --region ${aws_region} \u003e /home/ec2-user/docker/ec_private.pem\n\n# Change CW log group (Check log group into docker-compose file in ansible repository)\nsed -i 's/\\/clients\\/prod\\/{customerName}/${log_group}/g' /home/ec2-user/docker/docker-compose.yml\n\n# Change user, password, URL and edition\n# Download ec_private.pem from secrets manager\naws secretsmanager get-secret-value --secret-id ${jwt_secret_name} --query SecretString --output text --region ${aws_region} \u003e /home/ec2-user/docker/ec_private.pem\nsed -i 's/iriusprod/${dbname}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/dbuser/${dbuser}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/dbpassword/${dbpassword}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/http\\\\:\\/\\/ha.iriusrisk.com/https\\\\:\\/\\/${dns_name}.iriusrisk.com/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/ir_edition/saas/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/{region}/${aws_region}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/{customerName}/${stack_name}/g' /home/ec2-user/docker/docker-compose.yml\nsed -i 's/{instance_id}/${stack_name}/g' /home/ec2-user/docker/docker-compose.yml\n\n# Change docker image\nsed -i \"s/container_name\\:tag/iriusrisk-prod\\:tomcat-${iriusrisk_version}/g\" /home/ec2-user/docker/docker-compose.yml\nsed -i \"s/container_name\\:startleft-tag/iriusrisk-prod\\:startleft-${startleft_version}/g\" /home/ec2-user/docker/docker-compose.yml\n\n# Remove SAML and disbale issue tracker for non-production environment\nif [ ${env} != 'prod' ];\nthen\n  sed -i 's,\\\"-Dsaml.config.path=\\/etc\\/irius\\/SAMLv2-config.groovy\\\" ,,g' /home/ec2-user/docker/docker-compose.yml\n  sed -i '/IRIUS_EDITION=saas/a\\      - ISSUE_TRACKER_AUTO_SYNC_DISABLED=true' /home/ec2-user/docker/docker-compose.yml\nfi\n\n# Change hostname\necho '${stack_name}-web' \u003e /etc/hostname\nhostname ${stack_name}-web\nbash /tmp/change_motd_ec2.sh ${stack_name}-web\n# Start and enable docker-compose service\nsystemctl start docker-compose.service\nsystemctl enable docker-compose.service",
          "vars": {
            "aws_region": "eu-west-1",
            "dbname": "iriusprod",
            "dbpassword": "alongandcomplexpassword1234",
            "dbuser": "iriusprod",
            "dns_name": "habase-test",
            "env": "test",
            "iriusrisk_version": "4.12.1",
            "jwt_secret_name": "prod/certificate/habase-test/jwt",
            "log_group": "\\/clients\\/test\\/habase-test",
            "stack_name": "habase-test",
            "startleft_version": "1.10.0",
            "type": "internal"
          }
        },
        "after_unknown": {
          "id": true,
          "rendered": true,
          "vars": {
            "rds_endpoint": true
          }
        },
        "before_sensitive": false,
        "after_sensitive": {
          "vars": {
            "dbpassword": true
          }
        }
      },
      "action_reason": "read_because_config_unknown"
    },
    {
      "address": "module.aurora-db-green.aws_db_subnet_group.this[0]",
      "module_address": "module.aurora-db-green",
      "mode": "managed",
      "type": "aws_db_subnet_group",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "description": "For Aurora cluster habase-test-rds-green",
          "name": "habase-test-rds-subnets-green",
          "tags": {
            "Name": "iriusrisk-habase-test-rds-green",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "iriusrisk-habase-test-rds-green",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          }
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "name_prefix": true,
          "subnet_ids": true,
          "supported_network_types": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "subnet_ids": [],
          "supported_network_types": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "module_address": "module.aurora-db-green",
      "mode": "managed",
      "type": "aws_rds_cluster",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "allow_major_version_upgrade": false,
          "backtrack_window": 0,
          "backup_retention_period": 35,
          "cluster_identifier": "habase-test-rds-green",
          "copy_tags_to_snapshot": true,
          "database_name": "iriusprod",
          "db_cluster_instance_class": null,
          "db_instance_parameter_group_name": null,
          "db_subnet_group_name": "habase-test-rds-subnets-green",
          "deletion_protection": false,
          "enable_global_write_forwarding": false,
          "enable_http_endpoint": false,
          "enabled_cloudwatch_logs_exports": null,
          "engine": "aurora-postgresql",
          "engine_mode": "provisioned",
          "engine_version": "11.16",
          "final_snapshot_identifier": null,
          "global_cluster_identifier": null,
          "iam_database_authentication_enabled": null,
          "iops": null,
          "master_password": "alongandcomplexpassword1234",
          "master_username": "iriusprod",
          "port": 5432,
          "preferred_backup_window": "16:50-18:50",
          "preferred_maintenance_window": "mon:02:00-mon:03:00",
          "replication_source_identifier": null,
          "restore_to_point_in_time": [],
          "s3_import": [],
          "scaling_configuration": [],
          "serverlessv2_scaling_configuration": [],
          "skip_final_snapshot": true,
          "snapshot_identifier": null,
          "source_region": null,
          "storage_encrypted": true,
          "storage_type": null,
          "tags": {
            "Name": "iriusrisk-habase-test-rds-green",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "iriusrisk-habase-test-rds-green",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          }
        },
        "after_unknown": {
          "allocated_storage": true,
          "apply_immediately": true,
          "arn": true,
          "availability_zones": true,
          "cluster_identifier_prefix": true,
          "cluster_members": true,
          "cluster_resource_id": true,
          "db_cluster_parameter_group_name": true,
          "endpoint": true,
          "engine_version_actual": true,
          "hosted_zone_id": true,
          "iam_roles": true,
          "id": true,
          "kms_key_id": true,
          "network_type": true,
          "reader_endpoint": true,
          "restore_to_point_in_time": [],
          "s3_import": [],
          "scaling_configuration": [],
          "serverlessv2_scaling_configuration": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "vpc_security_group_ids": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "availability_zones": [],
          "cluster_members": [],
          "iam_roles": [],
          "master_password": true,
          "restore_to_point_in_time": [],
          "s3_import": [],
          "scaling_configuration": [],
          "serverlessv2_scaling_configuration": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "vpc_security_group_ids": []
        }
      }
    },
    {
      "address": "module.aurora-db-green.aws_rds_cluster_instance.this[\"one\"]",
      "module_address": "module.aurora-db-green",
      "mode": "managed",
      "type": "aws_rds_cluster_instance",
      "name": "this",
      "index": "one",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "auto_minor_version_upgrade": false,
          "copy_tags_to_snapshot": true,
          "db_subnet_group_name": "habase-test-rds-subnets-green",
          "engine": "aurora-postgresql",
          "engine_version": "11.16",
          "identifier": "habase-test-rds-green-one",
          "instance_class": "db.r6g.xlarge",
          "monitoring_interval": 0,
          "performance_insights_enabled": true,
          "performance_insights_retention_period": 31,
          "preferred_maintenance_window": "mon:02:00-mon:03:00",
          "promotion_tier": 0,
          "publicly_accessible": false,
          "tags": {
            "Name": "iriusrisk-habase-test-rds-green",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "iriusrisk-habase-test-rds-green",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": {
            "create": null,
            "delete": null,
            "update": null
          }
        },
        "after_unknown": {
          "apply_immediately": true,
          "arn": true,
          "availability_zone": true,
          "ca_cert_identifier": true,
          "cluster_identifier": true,
          "db_parameter_group_name": true,
          "dbi_resource_id": true,
          "endpoint": true,
          "engine_version_actual": true,
          "id": true,
          "identifier_prefix": true,
          "kms_key_id": true,
          "monitoring_role_arn": true,
          "network_type": true,
          "performance_insights_kms_key_id": true,
          "port": true,
          "preferred_backup_window": true,
          "storage_encrypted": true,
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "writer": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {},
          "timeouts": {}
        }
      }
    },
    {
      "address": "module.iriusrisk_alb.aws_lb.this[0]",
      "module_address": "module.iriusrisk_alb",
      "mode": "managed",
      "type": "aws_lb",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "access_logs": [],
          "customer_owned_ipv4_pool": null,
          "desync_mitigation_mode": "defensive",
          "drop_invalid_header_fields": false,
          "enable_cross_zone_load_balancing": null,
          "enable_deletion_protection": false,
          "enable_http2": true,
          "enable_waf_fail_open": false,
          "idle_timeout": 900,
          "internal": false,
          "ip_address_type": "ipv4",
          "load_balancer_type": "application",
          "name": "habase-test-alb",
          "name_prefix": null,
          "preserve_host_header": false,
          "tags": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": {
            "create": "10m",
            "delete": "10m",
            "update": "10m"
          }
        },
        "after_unknown": {
          "access_logs": [],
          "arn": true,
          "arn_suffix": true,
          "dns_name": true,
          "id": true,
          "security_groups": true,
          "subnet_mapping": true,
          "subnets": true,
          "tags": {},
          "tags_all": {},
          "timeouts": {},
          "vpc_id": true,
          "zone_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "access_logs": [],
          "security_groups": [],
          "subnet_mapping": [],
          "subnets": [],
          "tags": {},
          "tags_all": {},
          "timeouts": {}
        }
      }
    },
    {
      "address": "module.iriusrisk_alb.aws_lb_listener.frontend_http_tcp[0]",
      "module_address": "module.iriusrisk_alb",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "frontend_http_tcp",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "alpn_policy": null,
          "certificate_arn": null,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [
                {
                  "host": "#{host}",
                  "path": "/#{path}",
                  "port": "443",
                  "protocol": "HTTPS",
                  "query": "#{query}",
                  "status_code": "HTTP_302"
                }
              ],
              "target_group_arn": null,
              "type": "redirect"
            }
          ],
          "port": 80,
          "protocol": "HTTP",
          "tags": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": true,
              "redirect": [
                {}
              ]
            }
          ],
          "id": true,
          "load_balancer_arn": true,
          "ssl_policy": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [
                {}
              ]
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.iriusrisk_alb.aws_lb_listener.frontend_https[0]",
      "module_address": "module.iriusrisk_alb",
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "frontend_https",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "alpn_policy": null,
          "certificate_arn": "arn:aws:iam::154977180039:server-certificate/wildcard-iriusrisk-com-until-27-oct-2023",
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [],
              "type": "forward"
            }
          ],
          "port": 443,
          "protocol": "HTTPS",
          "ssl_policy": "ELBSecurityPolicy-2016-08",
          "tags": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": true,
              "redirect": [],
              "target_group_arn": true
            }
          ],
          "id": true,
          "load_balancer_arn": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "default_action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.iriusrisk_alb.aws_lb_listener_rule.https_listener_rule[0]",
      "module_address": "module.iriusrisk_alb",
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "https_listener_rule",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": [],
              "type": "forward"
            }
          ],
          "condition": [
            {
              "host_header": [],
              "http_header": [],
              "http_request_method": [],
              "path_pattern": [
                {
                  "values": [
                    "/api",
                    "/api/*"
                  ]
                }
              ],
              "query_string": [],
              "source_ip": []
            }
          ],
          "tags": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-alb",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          }
        },
        "after_unknown": {
          "action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "order": true,
              "redirect": [],
              "target_group_arn": true
            }
          ],
          "arn": true,
          "condition": [
            {
              "host_header": [],
              "http_header": [],
              "http_request_method": [],
              "path_pattern": [
                {
                  "values": [
                    false,
                    false
                  ]
                }
              ],
              "query_string": [],
              "source_ip": []
            }
          ],
          "id": true,
          "listener_arn": true,
          "priority": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "action": [
            {
              "authenticate_cognito": [],
              "authenticate_oidc": [],
              "fixed_response": [],
              "forward": [],
              "redirect": []
            }
          ],
          "condition": [
            {
              "host_header": [],
              "http_header": [],
              "http_request_method": [],
              "path_pattern": [
                {
                  "values": [
                    false,
                    false
                  ]
                }
              ],
              "query_string": [],
              "source_ip": []
            }
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.iriusrisk_alb.aws_lb_target_group.main[0]",
      "module_address": "module.iriusrisk_alb",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "main",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "connection_termination": false,
          "deregistration_delay": "30",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 4,
              "interval": 20,
              "path": "/health",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 5,
              "unhealthy_threshold": 2
            }
          ],
          "lambda_multi_value_headers_enabled": false,
          "load_balancing_algorithm_type": "round_robin",
          "name": "habase-test-web-TG",
          "name_prefix": null,
          "port": 8080,
          "protocol": "HTTP",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "stickiness": [
            {
              "cookie_duration": 600,
              "cookie_name": null,
              "enabled": true,
              "type": "lb_cookie"
            }
          ],
          "tags": {
            "Name": "habase-test-web-TG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-web-TG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "target_type": "instance"
        },
        "after_unknown": {
          "arn": true,
          "arn_suffix": true,
          "health_check": [
            {
              "matcher": true
            }
          ],
          "id": true,
          "ip_address_type": true,
          "preserve_client_ip": true,
          "protocol_version": true,
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {},
          "target_failover": true,
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "health_check": [
            {}
          ],
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {},
          "target_failover": []
        }
      }
    },
    {
      "address": "module.iriusrisk_alb.aws_lb_target_group.main[1]",
      "module_address": "module.iriusrisk_alb",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "main",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "connection_termination": false,
          "deregistration_delay": "30",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 4,
              "interval": 20,
              "path": "/health",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 5,
              "unhealthy_threshold": 2
            }
          ],
          "lambda_multi_value_headers_enabled": false,
          "load_balancing_algorithm_type": "round_robin",
          "name": "habase-test-api-TG",
          "name_prefix": null,
          "port": 8080,
          "protocol": "HTTP",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "tags": {
            "Name": "habase-test-api-TG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-api-TG",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "target_type": "instance"
        },
        "after_unknown": {
          "arn": true,
          "arn_suffix": true,
          "health_check": [
            {
              "matcher": true
            }
          ],
          "id": true,
          "ip_address_type": true,
          "preserve_client_ip": true,
          "protocol_version": true,
          "stickiness": true,
          "tags": {},
          "tags_all": {},
          "target_failover": true,
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "health_check": [
            {}
          ],
          "stickiness": [],
          "tags": {},
          "tags_all": {},
          "target_failover": []
        }
      }
    },
    {
      "address": "module.vpc.aws_internet_gateway.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "habase-test-VPC",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route.public_internet_gateway[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "public_internet_gateway",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "carrier_gateway_id": null,
          "core_network_arn": null,
          "destination_cidr_block": "0.0.0.0/0",
          "destination_ipv6_cidr_block": null,
          "destination_prefix_list_id": null,
          "egress_only_gateway_id": null,
          "local_gateway_id": null,
          "nat_gateway_id": null,
          "timeouts": {
            "create": "5m",
            "delete": null,
            "update": null
          },
          "transit_gateway_id": null,
          "vpc_endpoint_id": null,
          "vpc_peering_connection_id": null
        },
        "after_unknown": {
          "gateway_id": true,
          "id": true,
          "instance_id": true,
          "instance_owner_id": true,
          "network_interface_id": true,
          "origin": true,
          "route_table_id": true,
          "state": true,
          "timeouts": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "timeouts": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "habase-test-VPC-private-eu-west-1a",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC-private-eu-west-1a",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "propagating_vgws": true,
          "route": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "habase-test-VPC-private-eu-west-1b",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC-private-eu-west-1b",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "propagating_vgws": true,
          "route": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "tags": {
            "Name": "habase-test-VPC-public",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC-public",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "id": true,
          "owner_id": true,
          "propagating_vgws": true,
          "route": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "propagating_vgws": [],
          "route": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_route_table_association.public[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "gateway_id": null
        },
        "after_unknown": {
          "id": true,
          "route_table_id": true,
          "subnet_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "module.vpc.aws_subnet.private[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "eu-west-1a",
          "cidr_block": "10.125.20.0/24",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": false,
          "outpost_arn": null,
          "tags": {
            "Name": "habase-test-VPC-private-eu-west-1a",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC-private-eu-west-1a",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.private[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "eu-west-1b",
          "cidr_block": "10.125.21.0/24",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": false,
          "outpost_arn": null,
          "tags": {
            "Name": "habase-test-VPC-private-eu-west-1b",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC-private-eu-west-1b",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.public[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "eu-west-1a",
          "cidr_block": "10.125.10.0/24",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": true,
          "outpost_arn": null,
          "tags": {
            "Name": "habase-test-VPC-public-eu-west-1a",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC-public-eu-west-1a",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_subnet.public[1]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "index": 1,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_ipv6_address_on_creation": false,
          "availability_zone": "eu-west-1b",
          "cidr_block": "10.125.11.0/24",
          "customer_owned_ipv4_pool": null,
          "enable_dns64": false,
          "enable_resource_name_dns_a_record_on_launch": false,
          "enable_resource_name_dns_aaaa_record_on_launch": false,
          "ipv6_cidr_block": null,
          "ipv6_native": false,
          "map_customer_owned_ip_on_launch": null,
          "map_public_ip_on_launch": true,
          "outpost_arn": null,
          "tags": {
            "Name": "habase-test-VPC-public-eu-west-1b",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC-public-eu-west-1b",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "timeouts": null
        },
        "after_unknown": {
          "arn": true,
          "availability_zone_id": true,
          "id": true,
          "ipv6_cidr_block_association_id": true,
          "owner_id": true,
          "private_dns_hostname_type_on_launch": true,
          "tags": {},
          "tags_all": {},
          "vpc_id": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.vpc.aws_vpc.this[0]",
      "module_address": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "assign_generated_ipv6_cidr_block": false,
          "cidr_block": "10.125.0.0/16",
          "enable_dns_hostnames": true,
          "enable_dns_support": true,
          "instance_tenancy": "default",
          "ipv4_ipam_pool_id": null,
          "ipv4_netmask_length": null,
          "ipv6_ipam_pool_id": null,
          "ipv6_netmask_length": null,
          "tags": {
            "Name": "habase-test-VPC",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          },
          "tags_all": {
            "Name": "habase-test-VPC",
            "environment": "test",
            "terraform.repository": "adominfguez-local",
            "type": "internal"
          }
        },
        "after_unknown": {
          "arn": true,
          "default_network_acl_id": true,
          "default_route_table_id": true,
          "default_security_group_id": true,
          "dhcp_options_id": true,
          "enable_classiclink": true,
          "enable_classiclink_dns_support": true,
          "enable_network_address_usage_metrics": true,
          "id": true,
          "ipv6_association_id": true,
          "ipv6_cidr_block": true,
          "ipv6_cidr_block_network_border_group": true,
          "main_route_table_id": true,
          "owner_id": true,
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "time_sleep.wait_180_seconds",
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_180_seconds",
      "provider_name": "registry.terraform.io/hashicorp/time",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "create_duration": "180s",
          "destroy_duration": null,
          "triggers": null
        },
        "after_unknown": {
          "id": true
        },
        "before_sensitive": false,
        "after_sensitive": {}
      }
    },
    {
      "address": "tls_private_key.ec_private",
      "mode": "managed",
      "type": "tls_private_key",
      "name": "ec_private",
      "provider_name": "registry.terraform.io/hashicorp/tls",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "algorithm": "ECDSA",
          "ecdsa_curve": "P256",
          "rsa_bits": 2048
        },
        "after_unknown": {
          "id": true,
          "private_key_openssh": true,
          "private_key_pem": true,
          "private_key_pem_pkcs8": true,
          "public_key_fingerprint_md5": true,
          "public_key_fingerprint_sha256": true,
          "public_key_openssh": true,
          "public_key_pem": true
        },
        "before_sensitive": false,
        "after_sensitive": {
          "private_key_openssh": true,
          "private_key_pem": true,
          "private_key_pem_pkcs8": true
        }
      }
    }
  ],
  "output_changes": {
    "analytics_build": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "asg_api_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "asg_web_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "aurora_db_sg_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "aws_ami_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "ami-0893e738795aad326",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "deployment_flag": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "green",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "iriusrisk_lb_sg_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "iriusrisk_version": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "4.12.1",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "lb_arn": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "lb_dns_name": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "lb_https_listeners_arn": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": [
        null
      ],
      "after_unknown": [
        true
      ],
      "before_sensitive": false,
      "after_sensitive": false
    },
    "log_group": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "/clients/test/habase-test",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "private_subnets": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": [
        null,
        null
      ],
      "after_unknown": [
        true,
        true
      ],
      "before_sensitive": false,
      "after_sensitive": false
    },
    "public_subnets": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": [
        null,
        null
      ],
      "after_unknown": [
        true,
        true
      ],
      "before_sensitive": false,
      "after_sensitive": false
    },
    "rds_arn": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "rds_endpoint": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "rds_identifier": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "startleft_version": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "1.10.0",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "vpc_id": {
      "actions": [
        "create"
      ],
      "before": null,
      "after_unknown": true,
      "before_sensitive": false,
      "after_sensitive": false
    },
    "web_endpoint": {
      "actions": [
        "create"
      ],
      "before": null,
      "after": "habase-test.iriusrisk.com",
      "after_unknown": false,
      "before_sensitive": false,
      "after_sensitive": false
    }
  },
  "prior_state": {
    "format_version": "1.0",
    "terraform_version": "1.3.1",
    "values": {
      "outputs": {
        "analytics_build": {
          "sensitive": false,
          "value": "",
          "type": "string"
        },
        "aws_ami_id": {
          "sensitive": false,
          "value": "ami-0893e738795aad326",
          "type": "string"
        },
        "deployment_flag": {
          "sensitive": false,
          "value": "green",
          "type": "string"
        },
        "iriusrisk_version": {
          "sensitive": false,
          "value": "4.12.1",
          "type": "string"
        },
        "log_group": {
          "sensitive": false,
          "value": "/clients/test/habase-test",
          "type": "string"
        },
        "startleft_version": {
          "sensitive": false,
          "value": "1.10.0",
          "type": "string"
        },
        "web_endpoint": {
          "sensitive": false,
          "value": "habase-test.iriusrisk.com",
          "type": "string"
        }
      },
      "root_module": {
        "resources": [
          {
            "address": "data.aws_ami.iriusrisk",
            "mode": "data",
            "type": "aws_ami",
            "name": "iriusrisk",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "architecture": "x86_64",
              "arn": "arn:aws:ec2:eu-west-1::image/ami-0893e738795aad326",
              "block_device_mappings": [
                {
                  "device_name": "/dev/xvda",
                  "ebs": {
                    "delete_on_termination": "true",
                    "encrypted": "true",
                    "iops": "0",
                    "snapshot_id": "snap-050f8fb274f4e42a1",
                    "throughput": "0",
                    "volume_size": "32",
                    "volume_type": "gp2"
                  },
                  "no_device": "",
                  "virtual_name": ""
                }
              ],
              "boot_mode": "",
              "creation_date": "2023-02-09T17:36:34.000Z",
              "deprecation_time": "",
              "description": "",
              "ena_support": true,
              "executable_users": null,
              "filter": [
                {
                  "name": "name",
                  "values": [
                    "IriusRisk_HA_4.12.1*"
                  ]
                }
              ],
              "hypervisor": "xen",
              "id": "ami-0893e738795aad326",
              "image_id": "ami-0893e738795aad326",
              "image_location": "154977180039/IriusRisk_HA_4.12.1_202302091731",
              "image_owner_alias": "",
              "image_type": "machine",
              "imds_support": "",
              "include_deprecated": false,
              "kernel_id": "",
              "most_recent": true,
              "name": "IriusRisk_HA_4.12.1_202302091731",
              "name_regex": null,
              "owner_id": "154977180039",
              "owners": [
                "154977180039"
              ],
              "platform": "",
              "platform_details": "Linux/UNIX",
              "product_codes": [],
              "public": false,
              "ramdisk_id": "",
              "root_device_name": "/dev/xvda",
              "root_device_type": "ebs",
              "root_snapshot_id": "snap-050f8fb274f4e42a1",
              "sriov_net_support": "simple",
              "state": "available",
              "state_reason": {
                "code": "UNSET",
                "message": "UNSET"
              },
              "tags": {
                "Name": "IriusRisk_HA_4.12.1_202302091731",
                "type": "prod"
              },
              "timeouts": null,
              "tpm_support": "",
              "usage_operation": "RunInstances",
              "virtualization_type": "hvm"
            },
            "sensitive_values": {
              "block_device_mappings": [
                {
                  "ebs": {}
                }
              ],
              "filter": [
                {
                  "values": [
                    false
                  ]
                }
              ],
              "owners": [
                false
              ],
              "product_codes": [],
              "state_reason": {},
              "tags": {}
            }
          }
        ],
        "child_modules": [
          {
            "resources": [
              {
                "address": "module.aurora-db-blue.data.aws_iam_policy_document.monitoring_rds_assume_role",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "monitoring_rds_assume_role",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "1813475199",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"monitoring.rds.amazonaws.com\"\n      }\n    }\n  ]\n}",
                  "override_json": null,
                  "override_policy_documents": null,
                  "policy_id": null,
                  "source_json": null,
                  "source_policy_documents": null,
                  "statement": [
                    {
                      "actions": [
                        "sts:AssumeRole"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            "monitoring.rds.amazonaws.com"
                          ],
                          "type": "Service"
                        }
                      ],
                      "resources": [],
                      "sid": ""
                    }
                  ],
                  "version": "2012-10-17"
                },
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            false
                          ]
                        }
                      ],
                      "resources": []
                    }
                  ]
                }
              },
              {
                "address": "module.aurora-db-blue.data.aws_partition.current",
                "mode": "data",
                "type": "aws_partition",
                "name": "current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "dns_suffix": "amazonaws.com",
                  "id": "aws",
                  "partition": "aws",
                  "reverse_dns_prefix": "com.amazonaws"
                },
                "sensitive_values": {}
              }
            ],
            "address": "module.aurora-db-blue"
          },
          {
            "resources": [
              {
                "address": "module.aurora-db-green.data.aws_iam_policy_document.monitoring_rds_assume_role",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "monitoring_rds_assume_role",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "1813475199",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"monitoring.rds.amazonaws.com\"\n      }\n    }\n  ]\n}",
                  "override_json": null,
                  "override_policy_documents": null,
                  "policy_id": null,
                  "source_json": null,
                  "source_policy_documents": null,
                  "statement": [
                    {
                      "actions": [
                        "sts:AssumeRole"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            "monitoring.rds.amazonaws.com"
                          ],
                          "type": "Service"
                        }
                      ],
                      "resources": [],
                      "sid": ""
                    }
                  ],
                  "version": "2012-10-17"
                },
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            false
                          ]
                        }
                      ],
                      "resources": []
                    }
                  ]
                }
              },
              {
                "address": "module.aurora-db-green.data.aws_partition.current",
                "mode": "data",
                "type": "aws_partition",
                "name": "current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "dns_suffix": "amazonaws.com",
                  "id": "aws",
                  "partition": "aws",
                  "reverse_dns_prefix": "com.amazonaws"
                },
                "sensitive_values": {}
              }
            ],
            "address": "module.aurora-db-green"
          }
        ]
      }
    }
  },
  "configuration": {
    "provider_config": {
      "aws": {
        "name": "aws",
        "full_name": "registry.terraform.io/hashicorp/aws",
        "version_constraint": "\u003e= 3.74.0",
        "expressions": {
          "profile": {
            "references": [
              "var.aws_profile"
            ]
          },
          "region": {
            "references": [
              "var.aws_region"
            ]
          }
        }
      },
      "cloudflare": {
        "name": "cloudflare",
        "full_name": "registry.terraform.io/cloudflare/cloudflare",
        "version_constraint": "~\u003e 3.0",
        "expressions": {
          "api_token": {
            "references": [
              "var.cloudflare_token"
            ]
          }
        }
      },
      "module.aurora-db-blue:random": {
        "name": "random",
        "full_name": "registry.terraform.io/hashicorp/random",
        "version_constraint": "\u003e= 2.2.0",
        "module_address": "module.aurora-db-blue"
      },
      "module.aurora-db-green:random": {
        "name": "random",
        "full_name": "registry.terraform.io/hashicorp/random",
        "version_constraint": "\u003e= 2.2.0",
        "module_address": "module.aurora-db-green"
      },
      "newrelic": {
        "name": "newrelic",
        "full_name": "registry.terraform.io/newrelic/newrelic",
        "version_constraint": "~\u003e 2.49.1",
        "expressions": {
          "account_id": {
            "references": [
              "var.newrelic_account_id"
            ]
          },
          "api_key": {
            "references": [
              "var.newrelic_api_key"
            ]
          },
          "region": {
            "references": [
              "var.newrelic_region"
            ]
          }
        }
      },
      "template": {
        "name": "template",
        "full_name": "registry.terraform.io/hashicorp/template"
      },
      "time": {
        "name": "time",
        "full_name": "registry.terraform.io/hashicorp/time"
      },
      "tls": {
        "name": "tls",
        "full_name": "registry.terraform.io/hashicorp/tls"
      }
    },
    "root_module": {
      "outputs": {
        "analytics_build": {
          "expression": {
            "references": [
              "var.analytics_build"
            ]
          }
        },
        "asg_api_id": {
          "expression": {
            "references": [
              "aws_autoscaling_group.iriusrisk_api.id",
              "aws_autoscaling_group.iriusrisk_api"
            ]
          }
        },
        "asg_web_id": {
          "expression": {
            "references": [
              "aws_autoscaling_group.iriusrisk_web.id",
              "aws_autoscaling_group.iriusrisk_web"
            ]
          }
        },
        "aurora_db_sg_id": {
          "expression": {
            "references": [
              "aws_security_group.aurora-db-sg.id",
              "aws_security_group.aurora-db-sg"
            ]
          }
        },
        "aws_ami_id": {
          "expression": {
            "references": [
              "data.aws_ami.iriusrisk.id",
              "data.aws_ami.iriusrisk"
            ]
          }
        },
        "deployment_flag": {
          "expression": {
            "references": [
              "local.local_deployment_flag"
            ]
          }
        },
        "iriusrisk_lb_sg_id": {
          "expression": {
            "references": [
              "aws_security_group.alb.id",
              "aws_security_group.alb"
            ]
          }
        },
        "iriusrisk_version": {
          "expression": {
            "references": [
              "var.iriusrisk_version"
            ]
          }
        },
        "lb_arn": {
          "expression": {
            "references": [
              "module.iriusrisk_alb.lb_arn",
              "module.iriusrisk_alb"
            ]
          }
        },
        "lb_dns_name": {
          "expression": {
            "references": [
              "module.iriusrisk_alb.lb_dns_name",
              "module.iriusrisk_alb"
            ]
          }
        },
        "lb_https_listeners_arn": {
          "expression": {
            "references": [
              "module.iriusrisk_alb.https_listener_arns",
              "module.iriusrisk_alb"
            ]
          }
        },
        "log_group": {
          "expression": {
            "references": [
              "aws_cloudwatch_log_group.cw_log_group.name",
              "aws_cloudwatch_log_group.cw_log_group"
            ]
          }
        },
        "private_subnets": {
          "expression": {
            "references": [
              "module.vpc.private_subnets",
              "module.vpc"
            ]
          }
        },
        "public_subnets": {
          "expression": {
            "references": [
              "module.vpc.public_subnets",
              "module.vpc"
            ]
          }
        },
        "rds_arn": {
          "expression": {
            "references": [
              "local.local_deployment_flag",
              "module.aurora-db-green.cluster_arn",
              "module.aurora-db-green",
              "module.aurora-db-blue.cluster_arn",
              "module.aurora-db-blue"
            ]
          }
        },
        "rds_endpoint": {
          "expression": {
            "references": [
              "local.local_deployment_flag",
              "module.aurora-db-green.cluster_endpoint",
              "module.aurora-db-green",
              "module.aurora-db-blue.cluster_endpoint",
              "module.aurora-db-blue"
            ]
          }
        },
        "rds_identifier": {
          "expression": {
            "references": [
              "local.local_deployment_flag",
              "module.aurora-db-green.cluster_id",
              "module.aurora-db-green",
              "module.aurora-db-blue.cluster_id",
              "module.aurora-db-blue"
            ]
          }
        },
        "startleft_version": {
          "expression": {
            "references": [
              "var.startleft_version"
            ]
          }
        },
        "vpc_id": {
          "expression": {
            "references": [
              "module.vpc.vpc_id",
              "module.vpc"
            ]
          }
        },
        "web_endpoint": {
          "expression": {
            "references": [
              "local.web_endpoint"
            ]
          }
        }
      },
      "resources": [
        {
          "address": "aws_autoscaling_group.iriusrisk_api",
          "mode": "managed",
          "type": "aws_autoscaling_group",
          "name": "iriusrisk_api",
          "provider_config_key": "aws",
          "expressions": {
            "desired_capacity": {
              "references": [
                "var.api_desired_capacity"
              ]
            },
            "enabled_metrics": {
              "constant_value": [
                "GroupMinSize",
                "GroupMaxSize",
                "GroupDesiredCapacity",
                "GroupInServiceInstances",
                "GroupPendingInstances",
                "GroupStandbyInstances",
                "GroupTerminatingInstances",
                "GroupTotalInstances",
                "GroupInServiceCapacity",
                "GroupPendingCapacity",
                "GroupStandbyCapacity",
                "GroupTerminatingCapacity",
                "GroupTotalCapacity",
                "GroupAndWarmPoolDesiredCapacity",
                "GroupAndWarmPoolTotalCapacity"
              ]
            },
            "force_delete": {
              "constant_value": true
            },
            "health_check_grace_period": {
              "constant_value": 1100
            },
            "health_check_type": {
              "constant_value": "ELB"
            },
            "launch_template": [
              {
                "id": {
                  "references": [
                    "aws_launch_template.iriusrisk.id",
                    "aws_launch_template.iriusrisk"
                  ]
                },
                "version": {
                  "constant_value": "$Latest"
                }
              }
            ],
            "max_size": {
              "references": [
                "var.api_max_size"
              ]
            },
            "metrics_granularity": {
              "constant_value": "1Minute"
            },
            "min_size": {
              "references": [
                "var.api_min_size"
              ]
            },
            "name": {
              "references": [
                "local.iriusrisk_api_asg_name"
              ]
            },
            "tag": [
              {
                "key": {
                  "constant_value": "Name"
                },
                "propagate_at_launch": {
                  "constant_value": true
                },
                "value": {
                  "references": [
                    "var.stack_name"
                  ]
                }
              },
              {
                "key": {
                  "constant_value": "asg-name"
                },
                "propagate_at_launch": {
                  "constant_value": true
                },
                "value": {
                  "references": [
                    "local.iriusrisk_api_asg_name"
                  ]
                }
              }
            ],
            "target_group_arns": {
              "references": [
                "module.iriusrisk_alb.target_group_arns[1]",
                "module.iriusrisk_alb.target_group_arns",
                "module.iriusrisk_alb"
              ]
            },
            "vpc_zone_identifier": {
              "references": [
                "module.vpc.public_subnets",
                "module.vpc"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_autoscaling_group.iriusrisk_web",
          "mode": "managed",
          "type": "aws_autoscaling_group",
          "name": "iriusrisk_web",
          "provider_config_key": "aws",
          "expressions": {
            "desired_capacity": {
              "references": [
                "var.web_desired_capacity"
              ]
            },
            "enabled_metrics": {
              "constant_value": [
                "GroupMinSize",
                "GroupMaxSize",
                "GroupDesiredCapacity",
                "GroupInServiceInstances",
                "GroupPendingInstances",
                "GroupStandbyInstances",
                "GroupTerminatingInstances",
                "GroupTotalInstances",
                "GroupInServiceCapacity",
                "GroupPendingCapacity",
                "GroupStandbyCapacity",
                "GroupTerminatingCapacity",
                "GroupTotalCapacity",
                "GroupAndWarmPoolDesiredCapacity",
                "GroupAndWarmPoolTotalCapacity"
              ]
            },
            "force_delete": {
              "constant_value": true
            },
            "health_check_grace_period": {
              "constant_value": 1100
            },
            "health_check_type": {
              "constant_value": "ELB"
            },
            "launch_template": [
              {
                "id": {
                  "references": [
                    "aws_launch_template.iriusrisk.id",
                    "aws_launch_template.iriusrisk"
                  ]
                },
                "version": {
                  "constant_value": "$Latest"
                }
              }
            ],
            "max_size": {
              "references": [
                "var.web_max_size"
              ]
            },
            "metrics_granularity": {
              "constant_value": "1Minute"
            },
            "min_size": {
              "references": [
                "var.web_min_size"
              ]
            },
            "name": {
              "references": [
                "local.iriusrisk_web_asg_name"
              ]
            },
            "tag": [
              {
                "key": {
                  "constant_value": "Name"
                },
                "propagate_at_launch": {
                  "constant_value": true
                },
                "value": {
                  "references": [
                    "var.stack_name"
                  ]
                }
              },
              {
                "key": {
                  "constant_value": "asg-name"
                },
                "propagate_at_launch": {
                  "constant_value": true
                },
                "value": {
                  "references": [
                    "local.iriusrisk_web_asg_name"
                  ]
                }
              }
            ],
            "target_group_arns": {
              "references": [
                "module.iriusrisk_alb.target_group_arns[0]",
                "module.iriusrisk_alb.target_group_arns",
                "module.iriusrisk_alb"
              ]
            },
            "vpc_zone_identifier": {
              "references": [
                "module.vpc.public_subnets",
                "module.vpc"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_api_scaling_down",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_api_scaling_down",
          "provider_config_key": "aws",
          "expressions": {
            "adjustment_type": {
              "constant_value": "ChangeInCapacity"
            },
            "autoscaling_group_name": {
              "references": [
                "aws_autoscaling_group.iriusrisk_api.name",
                "aws_autoscaling_group.iriusrisk_api"
              ]
            },
            "cooldown": {
              "constant_value": 400
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "scaling_adjustment": {
              "constant_value": -1
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_api_scaling_up",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_api_scaling_up",
          "provider_config_key": "aws",
          "expressions": {
            "adjustment_type": {
              "constant_value": "ChangeInCapacity"
            },
            "autoscaling_group_name": {
              "references": [
                "aws_autoscaling_group.iriusrisk_api.name",
                "aws_autoscaling_group.iriusrisk_api"
              ]
            },
            "cooldown": {
              "constant_value": 400
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "scaling_adjustment": {
              "constant_value": 2
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_web_scaling_down",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_web_scaling_down",
          "provider_config_key": "aws",
          "expressions": {
            "adjustment_type": {
              "constant_value": "ChangeInCapacity"
            },
            "autoscaling_group_name": {
              "references": [
                "aws_autoscaling_group.iriusrisk_web.name",
                "aws_autoscaling_group.iriusrisk_web"
              ]
            },
            "cooldown": {
              "constant_value": 400
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "scaling_adjustment": {
              "constant_value": -1
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_autoscaling_policy.iriusrisk_web_scaling_up",
          "mode": "managed",
          "type": "aws_autoscaling_policy",
          "name": "iriusrisk_web_scaling_up",
          "provider_config_key": "aws",
          "expressions": {
            "adjustment_type": {
              "constant_value": "ChangeInCapacity"
            },
            "autoscaling_group_name": {
              "references": [
                "aws_autoscaling_group.iriusrisk_web.name",
                "aws_autoscaling_group.iriusrisk_web"
              ]
            },
            "cooldown": {
              "constant_value": 400
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "scaling_adjustment": {
              "constant_value": 2
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_cloudwatch_log_group.cw_log_group",
          "mode": "managed",
          "type": "aws_cloudwatch_log_group",
          "name": "cw_log_group",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "references": [
                "var.environment",
                "var.stack_name"
              ]
            },
            "retention_in_days": {
              "constant_value": 365
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_api_cloudwatch_alarm_down",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_api_cloudwatch_alarm_down",
          "provider_config_key": "aws",
          "expressions": {
            "alarm_actions": {
              "references": [
                "aws_autoscaling_policy.iriusrisk_api_scaling_down.arn",
                "aws_autoscaling_policy.iriusrisk_api_scaling_down"
              ]
            },
            "alarm_description": {
              "constant_value": "Scale-down if CPU \u003c 30% for 10 minutes"
            },
            "alarm_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "comparison_operator": {
              "constant_value": "LessThanThreshold"
            },
            "dimensions": {
              "references": [
                "aws_autoscaling_group.iriusrisk_api.name",
                "aws_autoscaling_group.iriusrisk_api"
              ]
            },
            "evaluation_periods": {
              "constant_value": 2
            },
            "metric_name": {
              "constant_value": "CPUUtilization"
            },
            "namespace": {
              "constant_value": "AWS/EC2"
            },
            "period": {
              "constant_value": 300
            },
            "statistic": {
              "constant_value": "Average"
            },
            "threshold": {
              "constant_value": 30
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_api_cloudwatch_alarm_up",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_api_cloudwatch_alarm_up",
          "provider_config_key": "aws",
          "expressions": {
            "alarm_actions": {
              "references": [
                "aws_autoscaling_policy.iriusrisk_api_scaling_up.arn",
                "aws_autoscaling_policy.iriusrisk_api_scaling_up"
              ]
            },
            "alarm_description": {
              "constant_value": "Scale-up if CPU \u003e 70% for 2 minutes"
            },
            "alarm_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "comparison_operator": {
              "constant_value": "GreaterThanThreshold"
            },
            "dimensions": {
              "references": [
                "aws_autoscaling_group.iriusrisk_api.name",
                "aws_autoscaling_group.iriusrisk_api"
              ]
            },
            "evaluation_periods": {
              "constant_value": 1
            },
            "metric_name": {
              "constant_value": "CPUUtilization"
            },
            "namespace": {
              "constant_value": "AWS/EC2"
            },
            "period": {
              "constant_value": 120
            },
            "statistic": {
              "constant_value": "Average"
            },
            "threshold": {
              "constant_value": 70
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_db_cloudwatch_alarm_above_600",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_db_cloudwatch_alarm_above_600",
          "provider_config_key": "aws",
          "expressions": {
            "alarm_description": {
              "constant_value": "DB connections \u003e 600"
            },
            "alarm_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "comparison_operator": {
              "constant_value": "GreaterThanThreshold"
            },
            "dimensions": {
              "references": [
                "local.local_deployment_flag",
                "module.aurora-db-green.cluster_instances.one.identifier",
                "module.aurora-db-green.cluster_instances.one",
                "module.aurora-db-green.cluster_instances",
                "module.aurora-db-green",
                "module.aurora-db-blue.cluster_instances.one.identifier",
                "module.aurora-db-blue.cluster_instances.one",
                "module.aurora-db-blue.cluster_instances",
                "module.aurora-db-blue"
              ]
            },
            "evaluation_periods": {
              "constant_value": 1
            },
            "metric_name": {
              "constant_value": "DatabaseConnections"
            },
            "namespace": {
              "constant_value": "AWS/RDS"
            },
            "period": {
              "constant_value": 60
            },
            "statistic": {
              "constant_value": "Average"
            },
            "threshold": {
              "constant_value": 600
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_web_cloudwatch_alarm_down",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_web_cloudwatch_alarm_down",
          "provider_config_key": "aws",
          "expressions": {
            "alarm_actions": {
              "references": [
                "aws_autoscaling_policy.iriusrisk_web_scaling_down.arn",
                "aws_autoscaling_policy.iriusrisk_web_scaling_down"
              ]
            },
            "alarm_description": {
              "constant_value": "Scale-down if CPU \u003c 30% for 10 minutes"
            },
            "alarm_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "comparison_operator": {
              "constant_value": "LessThanThreshold"
            },
            "dimensions": {
              "references": [
                "aws_autoscaling_group.iriusrisk_web.name",
                "aws_autoscaling_group.iriusrisk_web"
              ]
            },
            "evaluation_periods": {
              "constant_value": 2
            },
            "metric_name": {
              "constant_value": "CPUUtilization"
            },
            "namespace": {
              "constant_value": "AWS/EC2"
            },
            "period": {
              "constant_value": 300
            },
            "statistic": {
              "constant_value": "Average"
            },
            "threshold": {
              "constant_value": 30
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_cloudwatch_metric_alarm.iriusrisk_web_cloudwatch_alarm_up",
          "mode": "managed",
          "type": "aws_cloudwatch_metric_alarm",
          "name": "iriusrisk_web_cloudwatch_alarm_up",
          "provider_config_key": "aws",
          "expressions": {
            "alarm_actions": {
              "references": [
                "aws_autoscaling_policy.iriusrisk_web_scaling_up.arn",
                "aws_autoscaling_policy.iriusrisk_web_scaling_up"
              ]
            },
            "alarm_description": {
              "constant_value": "Scale-up if CPU \u003e 70% for 5 minutes"
            },
            "alarm_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "comparison_operator": {
              "constant_value": "GreaterThanThreshold"
            },
            "dimensions": {
              "references": [
                "aws_autoscaling_group.iriusrisk_web.name",
                "aws_autoscaling_group.iriusrisk_web"
              ]
            },
            "evaluation_periods": {
              "constant_value": 1
            },
            "metric_name": {
              "constant_value": "CPUUtilization"
            },
            "namespace": {
              "constant_value": "AWS/EC2"
            },
            "period": {
              "constant_value": 300
            },
            "statistic": {
              "constant_value": "Average"
            },
            "threshold": {
              "constant_value": 70
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_iam_instance_profile.instance_profile",
          "mode": "managed",
          "type": "aws_iam_instance_profile",
          "name": "instance_profile",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "role": {
              "references": [
                "aws_iam_role.access-role.name",
                "aws_iam_role.access-role"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_policy.secret-access",
          "mode": "managed",
          "type": "aws_iam_policy",
          "name": "secret-access",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "references": [
                "var.stack_name"
              ]
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "policy": {
              "references": [
                "var.aws_region",
                "var.stack_name"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role.access-role",
          "mode": "managed",
          "type": "aws_iam_role",
          "name": "access-role",
          "provider_config_key": "aws",
          "expressions": {
            "assume_role_policy": {},
            "description": {
              "references": [
                "var.stack_name"
              ]
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_iam_role_policy_attachment.existing-policies-attachment",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "existing-policies-attachment",
          "provider_config_key": "aws",
          "expressions": {
            "policy_arn": {
              "references": [
                "var.iam_policy_arn",
                "count.index"
              ]
            },
            "role": {
              "references": [
                "aws_iam_role.access-role.name",
                "aws_iam_role.access-role"
              ]
            }
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.iam_policy_arn"
            ]
          }
        },
        {
          "address": "aws_iam_role_policy_attachment.secret-access-attachment",
          "mode": "managed",
          "type": "aws_iam_role_policy_attachment",
          "name": "secret-access-attachment",
          "provider_config_key": "aws",
          "expressions": {
            "policy_arn": {
              "references": [
                "aws_iam_policy.secret-access.arn",
                "aws_iam_policy.secret-access"
              ]
            },
            "role": {
              "references": [
                "aws_iam_role.access-role.name",
                "aws_iam_role.access-role"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_launch_template.iriusrisk",
          "mode": "managed",
          "type": "aws_launch_template",
          "name": "iriusrisk",
          "provider_config_key": "aws",
          "expressions": {
            "block_device_mappings": [
              {
                "device_name": {
                  "constant_value": "/dev/xvda"
                },
                "ebs": [
                  {
                    "delete_on_termination": {
                      "constant_value": true
                    },
                    "encrypted": {
                      "constant_value": true
                    },
                    "volume_size": {
                      "constant_value": 32
                    },
                    "volume_type": {
                      "constant_value": "gp3"
                    }
                  }
                ]
              }
            ],
            "iam_instance_profile": [
              {
                "name": {
                  "references": [
                    "aws_iam_instance_profile.instance_profile.name",
                    "aws_iam_instance_profile.instance_profile"
                  ]
                }
              }
            ],
            "image_id": {
              "references": [
                "data.aws_ami.iriusrisk.id",
                "data.aws_ami.iriusrisk"
              ]
            },
            "instance_type": {
              "references": [
                "var.ec2_instance_type"
              ]
            },
            "key_name": {
              "references": [
                "var.key_name"
              ]
            },
            "name_prefix": {
              "references": [
                "var.stack_name"
              ]
            },
            "network_interfaces": [
              {
                "associate_public_ip_address": {
                  "constant_value": true
                },
                "delete_on_termination": {
                  "constant_value": true
                },
                "description": {
                  "constant_value": "primary interface"
                },
                "device_index": {
                  "constant_value": 0
                },
                "security_groups": {
                  "references": [
                    "aws_security_group.iriusrisk.id",
                    "aws_security_group.iriusrisk"
                  ]
                }
              }
            ],
            "user_data": {
              "references": [
                "data.template_file.iriusrisk.rendered",
                "data.template_file.iriusrisk"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_secretsmanager_secret.jwt-secret",
          "mode": "managed",
          "type": "aws_secretsmanager_secret",
          "name": "jwt-secret",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "references": [
                "var.stack_name"
              ]
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "recovery_window_in_days": {
              "constant_value": 0
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_secretsmanager_secret_version.secret-value",
          "mode": "managed",
          "type": "aws_secretsmanager_secret_version",
          "name": "secret-value",
          "provider_config_key": "aws",
          "expressions": {
            "secret_id": {
              "references": [
                "aws_secretsmanager_secret.jwt-secret.id",
                "aws_secretsmanager_secret.jwt-secret"
              ]
            },
            "secret_string": {
              "references": [
                "tls_private_key.ec_private.private_key_pem",
                "tls_private_key.ec_private"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "aws_security_group.alb",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "alb",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Allow access HTTP \u0026 HTTPS traffic to ALB"
            },
            "egress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": null,
                  "from_port": 0,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "-1",
                  "security_groups": null,
                  "self": null,
                  "to_port": 0
                }
              ]
            },
            "ingress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "HTTP access from the world",
                  "from_port": 80,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "tcp",
                  "security_groups": null,
                  "self": null,
                  "to_port": 80
                },
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "HTTPS access from the world",
                  "from_port": 443,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "tcp",
                  "security_groups": null,
                  "self": null,
                  "to_port": 443
                }
              ]
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "tags": {
              "references": [
                "var.stack_name",
                "var.type"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_security_group.aurora-db-sg",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "aurora-db-sg",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Allow access to RDS database"
            },
            "egress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": null,
                  "from_port": 0,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "-1",
                  "security_groups": null,
                  "self": null,
                  "to_port": 0
                }
              ]
            },
            "ingress": {
              "references": [
                "aws_security_group.iriusrisk.id",
                "aws_security_group.iriusrisk"
              ]
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "tags": {
              "references": [
                "local.default_tags",
                "var.stack_name"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1
        },
        {
          "address": "aws_security_group.iriusrisk",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "iriusrisk",
          "provider_config_key": "aws",
          "expressions": {
            "description": {
              "constant_value": "Allow access HTTP and SSH traffic to WebServerInstance"
            },
            "egress": {
              "constant_value": [
                {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": null,
                  "from_port": 0,
                  "ipv6_cidr_blocks": null,
                  "prefix_list_ids": null,
                  "protocol": "-1",
                  "security_groups": null,
                  "self": null,
                  "to_port": 0
                }
              ]
            },
            "ingress": {
              "references": [
                "var.bastion_host_cidrs",
                "aws_security_group.alb.id",
                "aws_security_group.alb"
              ]
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "tags": {
              "references": [
                "local.default_tags",
                "var.stack_name"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "schema_version": 1
        },
        {
          "address": "cloudflare_record.dns_cname",
          "mode": "managed",
          "type": "cloudflare_record",
          "name": "dns_cname",
          "provider_config_key": "cloudflare",
          "expressions": {
            "name": {
              "references": [
                "var.cloudflare_dns_name"
              ]
            },
            "proxied": {
              "constant_value": true
            },
            "type": {
              "constant_value": "CNAME"
            },
            "value": {
              "references": [
                "module.iriusrisk_alb.lb_dns_name",
                "module.iriusrisk_alb"
              ]
            },
            "zone_id": {
              "references": [
                "var.cloudflare_zone_id"
              ]
            }
          },
          "schema_version": 2
        },
        {
          "address": "newrelic_alert_channel.slack",
          "mode": "managed",
          "type": "newrelic_alert_channel",
          "name": "slack",
          "provider_config_key": "newrelic",
          "expressions": {
            "config": [
              {
                "channel": {
                  "references": [
                    "var.slack_channel"
                  ]
                },
                "url": {
                  "references": [
                    "var.slack_webhook_url"
                  ]
                }
              }
            ],
            "name": {
              "references": [
                "local.newrelic_notification_channel"
              ]
            },
            "type": {
              "constant_value": "slack"
            }
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          }
        },
        {
          "address": "newrelic_alert_policy.policy",
          "mode": "managed",
          "type": "newrelic_alert_policy",
          "name": "policy",
          "provider_config_key": "newrelic",
          "expressions": {
            "name": {
              "references": [
                "var.cloudflare_dns_name"
              ]
            }
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          }
        },
        {
          "address": "newrelic_alert_policy_channel.channel_subscribe_api",
          "mode": "managed",
          "type": "newrelic_alert_policy_channel",
          "name": "channel_subscribe_api",
          "provider_config_key": "newrelic",
          "expressions": {
            "channel_ids": {
              "references": [
                "newrelic_alert_channel.slack[0].id",
                "newrelic_alert_channel.slack[0]",
                "newrelic_alert_channel.slack"
              ]
            },
            "policy_id": {
              "references": [
                "newrelic_alert_policy.policy[0].id",
                "newrelic_alert_policy.policy[0]",
                "newrelic_alert_policy.policy"
              ]
            }
          },
          "schema_version": 1,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          }
        },
        {
          "address": "newrelic_alert_policy_channel.channel_subscribe_web",
          "mode": "managed",
          "type": "newrelic_alert_policy_channel",
          "name": "channel_subscribe_web",
          "provider_config_key": "newrelic",
          "expressions": {
            "channel_ids": {
              "references": [
                "newrelic_alert_channel.slack[0].id",
                "newrelic_alert_channel.slack[0]",
                "newrelic_alert_channel.slack"
              ]
            },
            "policy_id": {
              "references": [
                "newrelic_alert_policy.policy[0].id",
                "newrelic_alert_policy.policy[0]",
                "newrelic_alert_policy.policy"
              ]
            }
          },
          "schema_version": 1,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          }
        },
        {
          "address": "newrelic_nrql_alert_condition.rds-DBConnection-alert",
          "mode": "managed",
          "type": "newrelic_nrql_alert_condition",
          "name": "rds-DBConnection-alert",
          "provider_config_key": "newrelic",
          "expressions": {
            "account_id": {
              "references": [
                "var.newrelic_account_id"
              ]
            },
            "aggregation_delay": {
              "constant_value": 120
            },
            "aggregation_method": {
              "constant_value": "event_flow"
            },
            "aggregation_window": {
              "constant_value": 60
            },
            "critical": [
              {
                "operator": {
                  "constant_value": "above"
                },
                "threshold": {
                  "constant_value": 600
                },
                "threshold_duration": {
                  "constant_value": 120
                },
                "threshold_occurrences": {
                  "constant_value": "ALL"
                }
              }
            ],
            "enabled": {
              "constant_value": true
            },
            "fill_option": {
              "constant_value": "static"
            },
            "fill_value": {
              "constant_value": 1
            },
            "name": {
              "references": [
                "var.cloudflare_dns_name"
              ]
            },
            "nrql": [
              {
                "query": {
                  "references": [
                    "local.local_deployment_flag",
                    "module.aurora-db-green.cluster_instances.one.identifier",
                    "module.aurora-db-green.cluster_instances.one",
                    "module.aurora-db-green.cluster_instances",
                    "module.aurora-db-green",
                    "module.aurora-db-blue.cluster_instances.one.identifier",
                    "module.aurora-db-blue.cluster_instances.one",
                    "module.aurora-db-blue.cluster_instances",
                    "module.aurora-db-blue"
                  ]
                }
              }
            ],
            "policy_id": {
              "references": [
                "newrelic_alert_policy.policy[0].id",
                "newrelic_alert_policy.policy[0]",
                "newrelic_alert_policy.policy"
              ]
            },
            "slide_by": {
              "constant_value": 30
            },
            "type": {
              "constant_value": "static"
            },
            "violation_time_limit_seconds": {
              "constant_value": 3600
            },
            "warning": [
              {
                "operator": {
                  "constant_value": "above"
                },
                "threshold": {
                  "constant_value": 300
                },
                "threshold_duration": {
                  "constant_value": 60
                },
                "threshold_occurrences": {
                  "constant_value": "ALL"
                }
              }
            ]
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          }
        },
        {
          "address": "newrelic_nrql_alert_condition.tg-health-nrql-condition-api",
          "mode": "managed",
          "type": "newrelic_nrql_alert_condition",
          "name": "tg-health-nrql-condition-api",
          "provider_config_key": "newrelic",
          "expressions": {
            "account_id": {
              "references": [
                "var.newrelic_account_id"
              ]
            },
            "aggregation_delay": {
              "constant_value": 120
            },
            "aggregation_method": {
              "constant_value": "event_flow"
            },
            "aggregation_window": {
              "constant_value": 60
            },
            "critical": [
              {
                "operator": {
                  "constant_value": "above"
                },
                "threshold": {
                  "constant_value": 1.5
                },
                "threshold_duration": {
                  "constant_value": 120
                },
                "threshold_occurrences": {
                  "constant_value": "ALL"
                }
              }
            ],
            "enabled": {
              "constant_value": true
            },
            "fill_option": {
              "constant_value": "static"
            },
            "fill_value": {
              "constant_value": 1
            },
            "name": {
              "references": [
                "var.cloudflare_dns_name"
              ]
            },
            "nrql": [
              {
                "query": {
                  "references": [
                    "data.newrelic_entity.api_monitor[0].name",
                    "data.newrelic_entity.api_monitor[0]",
                    "data.newrelic_entity.api_monitor"
                  ]
                }
              }
            ],
            "policy_id": {
              "references": [
                "newrelic_alert_policy.policy[0].id",
                "newrelic_alert_policy.policy[0]",
                "newrelic_alert_policy.policy"
              ]
            },
            "slide_by": {
              "constant_value": 30
            },
            "type": {
              "constant_value": "static"
            },
            "violation_time_limit_seconds": {
              "constant_value": 3600
            },
            "warning": [
              {
                "operator": {
                  "constant_value": "above"
                },
                "threshold": {
                  "constant_value": 0.5
                },
                "threshold_duration": {
                  "constant_value": 120
                },
                "threshold_occurrences": {
                  "constant_value": "ALL"
                }
              }
            ]
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          }
        },
        {
          "address": "newrelic_nrql_alert_condition.tg-health-nrql-condition-web",
          "mode": "managed",
          "type": "newrelic_nrql_alert_condition",
          "name": "tg-health-nrql-condition-web",
          "provider_config_key": "newrelic",
          "expressions": {
            "account_id": {
              "references": [
                "var.newrelic_account_id"
              ]
            },
            "aggregation_delay": {
              "constant_value": 120
            },
            "aggregation_method": {
              "constant_value": "event_flow"
            },
            "aggregation_window": {
              "constant_value": 60
            },
            "critical": [
              {
                "operator": {
                  "constant_value": "above"
                },
                "threshold": {
                  "constant_value": 1.5
                },
                "threshold_duration": {
                  "constant_value": 120
                },
                "threshold_occurrences": {
                  "constant_value": "ALL"
                }
              }
            ],
            "enabled": {
              "constant_value": true
            },
            "fill_option": {
              "constant_value": "static"
            },
            "fill_value": {
              "constant_value": 1
            },
            "name": {
              "references": [
                "var.cloudflare_dns_name"
              ]
            },
            "nrql": [
              {
                "query": {
                  "references": [
                    "data.newrelic_entity.web_monitor[0].name",
                    "data.newrelic_entity.web_monitor[0]",
                    "data.newrelic_entity.web_monitor"
                  ]
                }
              }
            ],
            "policy_id": {
              "references": [
                "newrelic_alert_policy.policy[0].id",
                "newrelic_alert_policy.policy[0]",
                "newrelic_alert_policy.policy"
              ]
            },
            "slide_by": {
              "constant_value": 30
            },
            "type": {
              "constant_value": "static"
            },
            "violation_time_limit_seconds": {
              "constant_value": 3600
            },
            "warning": [
              {
                "operator": {
                  "constant_value": "above"
                },
                "threshold": {
                  "constant_value": 0.5
                },
                "threshold_duration": {
                  "constant_value": 120
                },
                "threshold_occurrences": {
                  "constant_value": "ALL"
                }
              }
            ]
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          }
        },
        {
          "address": "time_sleep.wait_120_seconds",
          "mode": "managed",
          "type": "time_sleep",
          "name": "wait_120_seconds",
          "provider_config_key": "time",
          "expressions": {
            "create_duration": {
              "constant_value": "120s"
            }
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          },
          "depends_on": [
            "aws_autoscaling_group.iriusrisk_web"
          ]
        },
        {
          "address": "time_sleep.wait_180_seconds",
          "mode": "managed",
          "type": "time_sleep",
          "name": "wait_180_seconds",
          "provider_config_key": "time",
          "expressions": {
            "create_duration": {
              "constant_value": "180s"
            }
          },
          "schema_version": 0,
          "depends_on": [
            "aws_autoscaling_group.iriusrisk_web"
          ]
        },
        {
          "address": "tls_private_key.ec_private",
          "mode": "managed",
          "type": "tls_private_key",
          "name": "ec_private",
          "provider_config_key": "tls",
          "expressions": {
            "algorithm": {
              "constant_value": "ECDSA"
            },
            "ecdsa_curve": {
              "constant_value": "P256"
            }
          },
          "schema_version": 1
        },
        {
          "address": "data.aws_ami.iriusrisk",
          "mode": "data",
          "type": "aws_ami",
          "name": "iriusrisk",
          "provider_config_key": "aws",
          "expressions": {
            "filter": [
              {
                "name": {
                  "constant_value": "name"
                },
                "values": {
                  "references": [
                    "var.iriusrisk_version"
                  ]
                }
              }
            ],
            "most_recent": {
              "constant_value": true
            },
            "owners": {
              "constant_value": [
                "154977180039"
              ]
            }
          },
          "schema_version": 0
        },
        {
          "address": "data.newrelic_entity.api_monitor",
          "mode": "data",
          "type": "newrelic_entity",
          "name": "api_monitor",
          "provider_config_key": "newrelic",
          "expressions": {
            "name": {
              "references": [
                "module.iriusrisk_alb.target_group_arns[1]",
                "module.iriusrisk_alb.target_group_arns",
                "module.iriusrisk_alb"
              ]
            }
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          },
          "depends_on": [
            "time_sleep.wait_120_seconds"
          ]
        },
        {
          "address": "data.newrelic_entity.web_monitor",
          "mode": "data",
          "type": "newrelic_entity",
          "name": "web_monitor",
          "provider_config_key": "newrelic",
          "expressions": {
            "name": {
              "references": [
                "module.iriusrisk_alb.target_group_arns[0]",
                "module.iriusrisk_alb.target_group_arns",
                "module.iriusrisk_alb"
              ]
            }
          },
          "schema_version": 0,
          "count_expression": {
            "references": [
              "var.newrelic_enabled"
            ]
          },
          "depends_on": [
            "time_sleep.wait_120_seconds"
          ]
        },
        {
          "address": "data.template_file.iriusrisk",
          "mode": "data",
          "type": "template_file",
          "name": "iriusrisk",
          "provider_config_key": "template",
          "expressions": {
            "template": {
              "references": [
                "path.module"
              ]
            },
            "vars": {
              "references": [
                "var.aws_region",
                "var.stack_name",
                "var.cloudflare_dns_name",
                "var.type",
                "var.environment",
                "var.iriusrisk_version",
                "var.startleft_version",
                "var.dbname",
                "var.dbuser",
                "var.dbpassword",
                "local.local_deployment_flag",
                "module.aurora-db-green.cluster_endpoint",
                "module.aurora-db-green",
                "module.aurora-db-blue.cluster_endpoint",
                "module.aurora-db-blue",
                "aws_secretsmanager_secret.jwt-secret.name",
                "aws_secretsmanager_secret.jwt-secret",
                "aws_cloudwatch_log_group.cw_log_group.name",
                "aws_cloudwatch_log_group.cw_log_group"
              ]
            }
          },
          "schema_version": 0
        }
      ],
      "module_calls": {
        "analytics": {
          "source": "git@bitbucket.org:continuumsec/terraform-aws-ha-analytics-module.git?ref=1.0.1",
          "expressions": {
            "aws_region": {
              "references": [
                "var.aws_region"
              ]
            },
            "build_version": {
              "references": [
                "var.analytics_build"
              ]
            },
            "cluster_id": {
              "references": [
                "var.deployment_flag",
                "module.aurora-db-green.cluster_id",
                "module.aurora-db-green",
                "module.aurora-db-blue.cluster_id",
                "module.aurora-db-blue"
              ]
            },
            "database_sg_id": {
              "references": [
                "aws_security_group.aurora-db-sg.id",
                "aws_security_group.aurora-db-sg"
              ]
            },
            "db_subnet_group_name": {
              "references": [
                "var.deployment_flag",
                "module.aurora-db-green.db_subnet_group_name",
                "module.aurora-db-green",
                "module.aurora-db-blue.db_subnet_group_name",
                "module.aurora-db-blue"
              ]
            },
            "elasticsearch_version": {
              "constant_value": "6.8.7"
            },
            "iriusrisk_ec2_sg_id": {
              "references": [
                "aws_security_group.iriusrisk.id",
                "aws_security_group.iriusrisk"
              ]
            },
            "iriusrisk_lb_sg_id": {
              "references": [
                "aws_security_group.alb.id",
                "aws_security_group.alb"
              ]
            },
            "lb_https_listener_arn": {
              "references": [
                "module.iriusrisk_alb.https_listener_arns[0]",
                "module.iriusrisk_alb.https_listener_arns",
                "module.iriusrisk_alb"
              ]
            },
            "log_group": {
              "references": [
                "aws_cloudwatch_log_group.cw_log_group.name",
                "aws_cloudwatch_log_group.cw_log_group"
              ]
            },
            "public_subnet": {
              "references": [
                "module.vpc.public_subnets[0]",
                "module.vpc.public_subnets",
                "module.vpc"
              ]
            },
            "stack_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "tags": {
              "references": [
                "local.default_tags"
              ]
            },
            "type": {
              "references": [
                "var.type"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            },
            "web_endpoint": {
              "references": [
                "local.stack_endpoint"
              ]
            }
          },
          "count_expression": {
            "references": [
              "var.analytics_enabled"
            ]
          },
          "module": {
            "outputs": {
              "ec2_id": {
                "expression": {
                  "references": [
                    "aws_instance.ec2.id",
                    "aws_instance.ec2"
                  ]
                }
              },
              "eip_public_dns": {
                "expression": {
                  "references": [
                    "aws_eip.ec2.public_dns",
                    "aws_eip.ec2"
                  ]
                }
              },
              "security_group_id": {
                "expression": {
                  "references": [
                    "aws_security_group.ec2-analytics.id",
                    "aws_security_group.ec2-analytics"
                  ]
                }
              },
              "target_group_id": {
                "expression": {
                  "references": [
                    "aws_lb_target_group.tg.id",
                    "aws_lb_target_group.tg"
                  ]
                }
              }
            },
            "resources": [
              {
                "address": "aws_eip.ec2",
                "mode": "managed",
                "type": "aws_eip",
                "name": "ec2",
                "provider_config_key": "aws",
                "expressions": {
                  "instance": {
                    "references": [
                      "aws_instance.ec2.id",
                      "aws_instance.ec2"
                    ]
                  },
                  "vpc": {
                    "constant_value": true
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_instance.ec2",
                "mode": "managed",
                "type": "aws_instance",
                "name": "ec2",
                "provider_config_key": "aws",
                "expressions": {
                  "ami": {
                    "references": [
                      "var.ami_id"
                    ]
                  },
                  "iam_instance_profile": {
                    "references": [
                      "var.iam_instance_profile_name"
                    ]
                  },
                  "instance_type": {
                    "references": [
                      "var.ec2_instance_type"
                    ]
                  },
                  "key_name": {
                    "references": [
                      "var.key_name"
                    ]
                  },
                  "root_block_device": [
                    {
                      "encrypted": {
                        "constant_value": true
                      },
                      "volume_type": {
                        "constant_value": "gp3"
                      }
                    }
                  ],
                  "subnet_id": {
                    "references": [
                      "var.public_subnet"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.stack_name"
                    ]
                  },
                  "user_data": {
                    "references": [
                      "data.template_file.user_data.rendered",
                      "data.template_file.user_data"
                    ]
                  },
                  "vpc_security_group_ids": {
                    "references": [
                      "aws_security_group.ec2-analytics.id",
                      "aws_security_group.ec2-analytics"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_lb_listener_rule.static",
                "mode": "managed",
                "type": "aws_lb_listener_rule",
                "name": "static",
                "provider_config_key": "aws",
                "expressions": {
                  "action": [
                    {
                      "target_group_arn": {
                        "references": [
                          "aws_lb_target_group.tg.arn",
                          "aws_lb_target_group.tg"
                        ]
                      },
                      "type": {
                        "constant_value": "forward"
                      }
                    }
                  ],
                  "condition": [
                    {
                      "path_pattern": [
                        {
                          "values": {
                            "constant_value": [
                              "/analytics",
                              "/analytics/*"
                            ]
                          }
                        }
                      ]
                    }
                  ],
                  "listener_arn": {
                    "references": [
                      "var.lb_https_listener_arn"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb_target_group.tg",
                "mode": "managed",
                "type": "aws_lb_target_group",
                "name": "tg",
                "provider_config_key": "aws",
                "expressions": {
                  "health_check": [
                    {
                      "healthy_threshold": {
                        "constant_value": 4
                      },
                      "interval": {
                        "constant_value": 20
                      },
                      "path": {
                        "constant_value": "/analytics/version"
                      },
                      "port": {
                        "constant_value": 443
                      },
                      "protocol": {
                        "constant_value": "HTTPS"
                      },
                      "timeout": {
                        "constant_value": 5
                      },
                      "unhealthy_threshold": {
                        "constant_value": 2
                      }
                    }
                  ],
                  "name": {
                    "references": [
                      "var.stack_name"
                    ]
                  },
                  "port": {
                    "constant_value": 443
                  },
                  "protocol": {
                    "constant_value": "HTTPS"
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.stack_name"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb_target_group_attachment.tg_attachment",
                "mode": "managed",
                "type": "aws_lb_target_group_attachment",
                "name": "tg_attachment",
                "provider_config_key": "aws",
                "expressions": {
                  "port": {
                    "constant_value": 443
                  },
                  "target_group_arn": {
                    "references": [
                      "aws_lb_target_group.tg.arn",
                      "aws_lb_target_group.tg"
                    ]
                  },
                  "target_id": {
                    "references": [
                      "aws_instance.ec2.id",
                      "aws_instance.ec2"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_rds_cluster_instance.aurora-rds-instance",
                "mode": "managed",
                "type": "aws_rds_cluster_instance",
                "name": "aurora-rds-instance",
                "provider_config_key": "aws",
                "expressions": {
                  "cluster_identifier": {
                    "references": [
                      "var.cluster_id"
                    ]
                  },
                  "db_subnet_group_name": {
                    "references": [
                      "var.db_subnet_group_name"
                    ]
                  },
                  "engine": {
                    "constant_value": "aurora-postgresql"
                  },
                  "engine_version": {
                    "constant_value": "11.16"
                  },
                  "identifier": {
                    "references": [
                      "var.stack_name"
                    ]
                  },
                  "instance_class": {
                    "references": [
                      "var.rds_instance_type"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.stack_name"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_security_group.ec2-analytics",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "ec2-analytics",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "constant_value": "Allow access to analytics instance"
                  },
                  "egress": {
                    "constant_value": [
                      {
                        "cidr_blocks": [
                          "0.0.0.0/0"
                        ],
                        "description": null,
                        "from_port": 0,
                        "ipv6_cidr_blocks": null,
                        "prefix_list_ids": null,
                        "protocol": "-1",
                        "security_groups": null,
                        "self": null,
                        "to_port": 0
                      }
                    ]
                  },
                  "ingress": {
                    "references": [
                      "var.iriusrisk_lb_sg_id",
                      "var.iriusrisk_ec2_sg_id",
                      "var.bastion_host_cidrs"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.stack_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.stack_name"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_security_group_rule.ingress",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "ingress",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "constant_value": "Allow in connection from analytics instance"
                  },
                  "from_port": {
                    "constant_value": 5432
                  },
                  "protocol": {
                    "constant_value": "tcp"
                  },
                  "security_group_id": {
                    "references": [
                      "var.database_sg_id"
                    ]
                  },
                  "source_security_group_id": {
                    "references": [
                      "aws_security_group.ec2-analytics.id",
                      "aws_security_group.ec2-analytics"
                    ]
                  },
                  "to_port": {
                    "constant_value": 5432
                  },
                  "type": {
                    "constant_value": "ingress"
                  }
                },
                "schema_version": 2
              },
              {
                "address": "data.template_file.user_data",
                "mode": "data",
                "type": "template_file",
                "name": "user_data",
                "provider_config_key": "template",
                "expressions": {
                  "template": {
                    "references": [
                      "path.module"
                    ]
                  },
                  "vars": {
                    "references": [
                      "var.stack_name",
                      "var.type",
                      "var.web_endpoint",
                      "var.log_group",
                      "var.aws_region",
                      "var.elasticsearch_version",
                      "var.build_version",
                      "var.iriurisk_certificate",
                      "var.iriurisk_key",
                      "var.dockerhub_account",
                      "var.google_no_reply"
                    ]
                  }
                },
                "schema_version": 0
              }
            ],
            "variables": {
              "ami_id": {
                "default": "ami-046b04a1e9803e3d0",
                "description": "AMI ID"
              },
              "aws_region": {
                "description": "WAS region where the resource will be created"
              },
              "bastion_host_cidrs": {
                "default": [
                  "52.30.97.44/32"
                ],
                "description": "The IP ranges of bastion hosts to ssh web server instances."
              },
              "build_version": {
                "description": "Knowi build version"
              },
              "cluster_id": {
                "description": "Cluster id to attach read replica"
              },
              "database_sg_id": {
                "description": "Database security group to allow access to database replica from Analytics instance"
              },
              "db_subnet_group_name": {
                "description": "RDS subnet group name"
              },
              "dockerhub_account": {
                "default": "prod/docker/automation_dockerhub_account",
                "description": "SecretManager name for DockerHub login"
              },
              "ec2_instance_type": {
                "default": "t3a.2xlarge",
                "description": "AWS EC2 instance type"
              },
              "elasticsearch_version": {
                "description": "ElasticSearch version"
              },
              "google_no_reply": {
                "default": "prod/google/no-reply",
                "description": "SecretManager name for Google no-reply email configuration"
              },
              "iam_instance_profile_name": {
                "default": "myManagedInstanceRoleforSSM",
                "description": "AWS instance profile name for the instance"
              },
              "iriurisk_certificate": {
                "default": "prod/certificate/iriusrisk/cert",
                "description": "SecretManager name for Iriusrisk certificate domain cert"
              },
              "iriurisk_key": {
                "default": "prod/certificate/iriusrisk/key",
                "description": "SecretManager name for Iriusrisk certificate domain key"
              },
              "iriusrisk_ec2_sg_id": {
                "description": "EC2 security group to allow access to analytics instance from IR instance outside LB"
              },
              "iriusrisk_lb_sg_id": {
                "description": "Load Balancer security group id to allow it access to analytics instance"
              },
              "key_name": {
                "default": "IriusRisk",
                "description": "SSH key name to access to the instance"
              },
              "lb_https_listener_arn": {
                "description": "Load balancer https listener ARN to attach /analytics endpoint listener"
              },
              "log_group": {
                "description": "CloudWatch log group where analytics logs will be stored"
              },
              "public_subnet": {
                "description": "Public subnet where EC2 instance will be deployed"
              },
              "rds_instance_type": {
                "default": "db.r6g.xlarge",
                "description": "RDS DB instance type"
              },
              "stack_name": {
                "description": "The stack name. Will be used in naming all related resources, as well as the endpoint to reach IR ({stack_name}.iriusrisk.com)"
              },
              "tags": {
                "description": "Resource tags"
              },
              "type": {
                "description": "A type to describe the environment we are creating, prod/eval/internal."
              },
              "vpc_id": {
                "description": "VPC id"
              },
              "web_endpoint": {
                "description": "DNS name"
              }
            }
          }
        },
        "aurora-db-blue": {
          "source": "terraform-aws-modules/rds-aurora/aws",
          "expressions": {
            "auto_minor_version_upgrade": {
              "references": [
                "var.environment"
              ]
            },
            "backup_retention_period": {
              "constant_value": 35
            },
            "copy_tags_to_snapshot": {
              "constant_value": true
            },
            "create_cluster": {
              "references": [
                "local.local_deployment_flag",
                "var.keep_previous_rds"
              ]
            },
            "create_db_subnet_group": {
              "constant_value": true
            },
            "create_monitoring_role": {
              "constant_value": false
            },
            "create_random_password": {
              "constant_value": false
            },
            "create_security_group": {
              "constant_value": false
            },
            "database_name": {
              "references": [
                "var.dbname"
              ]
            },
            "db_parameter_group_family": {
              "constant_value": "aurora-postgresql11"
            },
            "db_subnet_group_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "deletion_protection": {
              "references": [
                "local.local_deployment_flag",
                "var.environment"
              ]
            },
            "engine": {
              "references": [
                "var.rds_engine"
              ]
            },
            "engine_version": {
              "references": [
                "var.rds_engine_version"
              ]
            },
            "instance_class": {
              "references": [
                "var.rds_instance_type"
              ]
            },
            "instances": {
              "constant_value": {
                "one": {}
              }
            },
            "master_password": {
              "references": [
                "var.dbpassword"
              ]
            },
            "master_username": {
              "references": [
                "var.dbuser"
              ]
            },
            "monitoring_interval": {
              "constant_value": 0
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "performance_insights_enabled": {
              "constant_value": true
            },
            "performance_insights_retention_period": {
              "constant_value": 31
            },
            "preferred_backup_window": {
              "constant_value": "16:50-18:50"
            },
            "preferred_maintenance_window": {
              "constant_value": "Mon:02:00-Mon:03:00"
            },
            "skip_final_snapshot": {
              "references": [
                "var.environment"
              ]
            },
            "snapshot_identifier": {
              "references": [
                "var.is_rollback",
                "local.local_deployment_flag",
                "var.rds_snapshot"
              ]
            },
            "storage_encrypted": {
              "constant_value": true
            },
            "subnets": {
              "references": [
                "module.vpc.private_subnets",
                "module.vpc"
              ]
            },
            "tags": {
              "references": [
                "local.default_tags",
                "var.stack_name"
              ]
            },
            "vpc_security_group_ids": {
              "references": [
                "aws_security_group.aurora-db-sg.id",
                "aws_security_group.aurora-db-sg"
              ]
            }
          },
          "module": {
            "outputs": {
              "additional_cluster_endpoints": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_endpoint.this"
                  ]
                },
                "description": "A map of additional cluster endpoints and their attributes"
              },
              "cluster_arn": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].arn",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "Amazon Resource Name (ARN) of cluster"
              },
              "cluster_database_name": {
                "expression": {
                  "references": [
                    "var.database_name"
                  ]
                },
                "description": "Name for an automatically created database on cluster creation"
              },
              "cluster_endpoint": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].endpoint",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "Writer endpoint for the cluster"
              },
              "cluster_engine_version_actual": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].engine_version_actual",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The running version of the cluster database"
              },
              "cluster_hosted_zone_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].hosted_zone_id",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The Route53 Hosted Zone ID of the endpoint"
              },
              "cluster_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].id",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The RDS Cluster Identifier"
              },
              "cluster_instances": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_instance.this"
                  ]
                },
                "description": "A map of cluster instances and their attributes"
              },
              "cluster_master_password": {
                "sensitive": true,
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].master_password",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The database master password"
              },
              "cluster_master_username": {
                "sensitive": true,
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].master_username",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The database master username"
              },
              "cluster_members": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].cluster_members",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "List of RDS Instances that are a part of this cluster"
              },
              "cluster_port": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].port",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The database port"
              },
              "cluster_reader_endpoint": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].reader_endpoint",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "A read-only endpoint for the cluster, automatically load-balanced across replicas"
              },
              "cluster_resource_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].cluster_resource_id",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The RDS Cluster Resource ID"
              },
              "cluster_role_associations": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_role_association.this"
                  ]
                },
                "description": "A map of IAM roles associated with the cluster and their attributes"
              },
              "db_cluster_parameter_group_arn": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_parameter_group.this[0].arn",
                    "aws_rds_cluster_parameter_group.this[0]",
                    "aws_rds_cluster_parameter_group.this"
                  ]
                },
                "description": "The ARN of the DB cluster parameter group created"
              },
              "db_cluster_parameter_group_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_parameter_group.this[0].id",
                    "aws_rds_cluster_parameter_group.this[0]",
                    "aws_rds_cluster_parameter_group.this"
                  ]
                },
                "description": "The ID of the DB cluster parameter group created"
              },
              "db_parameter_group_arn": {
                "expression": {
                  "references": [
                    "aws_db_parameter_group.this[0].arn",
                    "aws_db_parameter_group.this[0]",
                    "aws_db_parameter_group.this"
                  ]
                },
                "description": "The ARN of the DB parameter group created"
              },
              "db_parameter_group_id": {
                "expression": {
                  "references": [
                    "aws_db_parameter_group.this[0].id",
                    "aws_db_parameter_group.this[0]",
                    "aws_db_parameter_group.this"
                  ]
                },
                "description": "The ID of the DB parameter group created"
              },
              "db_subnet_group_name": {
                "expression": {
                  "references": [
                    "local.db_subnet_group_name"
                  ]
                },
                "description": "The db subnet group name"
              },
              "enhanced_monitoring_iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.rds_enhanced_monitoring[0].arn",
                    "aws_iam_role.rds_enhanced_monitoring[0]",
                    "aws_iam_role.rds_enhanced_monitoring"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) specifying the enhanced monitoring role"
              },
              "enhanced_monitoring_iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.rds_enhanced_monitoring[0].name",
                    "aws_iam_role.rds_enhanced_monitoring[0]",
                    "aws_iam_role.rds_enhanced_monitoring"
                  ]
                },
                "description": "The name of the enhanced monitoring role"
              },
              "enhanced_monitoring_iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.rds_enhanced_monitoring[0].unique_id",
                    "aws_iam_role.rds_enhanced_monitoring[0]",
                    "aws_iam_role.rds_enhanced_monitoring"
                  ]
                },
                "description": "Stable and unique string identifying the enhanced monitoring role"
              },
              "security_group_id": {
                "expression": {
                  "references": [
                    "aws_security_group.this[0].id",
                    "aws_security_group.this[0]",
                    "aws_security_group.this"
                  ]
                },
                "description": "The security group ID of the cluster"
              }
            },
            "resources": [
              {
                "address": "aws_appautoscaling_policy.this",
                "mode": "managed",
                "type": "aws_appautoscaling_policy",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.autoscaling_policy_name"
                    ]
                  },
                  "policy_type": {
                    "constant_value": "TargetTrackingScaling"
                  },
                  "resource_id": {
                    "references": [
                      "aws_rds_cluster.this[0].cluster_identifier",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "rds:cluster:ReadReplicaCount"
                  },
                  "service_namespace": {
                    "constant_value": "rds"
                  },
                  "target_tracking_scaling_policy_configuration": [
                    {
                      "predefined_metric_specification": [
                        {
                          "predefined_metric_type": {
                            "references": [
                              "var.predefined_metric_type"
                            ]
                          }
                        }
                      ],
                      "scale_in_cooldown": {
                        "references": [
                          "var.autoscaling_scale_in_cooldown"
                        ]
                      },
                      "scale_out_cooldown": {
                        "references": [
                          "var.autoscaling_scale_out_cooldown"
                        ]
                      },
                      "target_value": {
                        "references": [
                          "var.predefined_metric_type",
                          "var.autoscaling_target_cpu",
                          "var.autoscaling_target_connections"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.autoscaling_enabled",
                    "local.is_serverless"
                  ]
                },
                "depends_on": [
                  "aws_appautoscaling_target.this"
                ]
              },
              {
                "address": "aws_appautoscaling_target.this",
                "mode": "managed",
                "type": "aws_appautoscaling_target",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "max_capacity": {
                    "references": [
                      "var.autoscaling_max_capacity"
                    ]
                  },
                  "min_capacity": {
                    "references": [
                      "var.autoscaling_min_capacity"
                    ]
                  },
                  "resource_id": {
                    "references": [
                      "aws_rds_cluster.this[0].cluster_identifier",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "rds:cluster:ReadReplicaCount"
                  },
                  "service_namespace": {
                    "constant_value": "rds"
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.autoscaling_enabled",
                    "local.is_serverless"
                  ]
                }
              },
              {
                "address": "aws_db_parameter_group.this",
                "mode": "managed",
                "type": "aws_db_parameter_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.db_parameter_group_description"
                    ]
                  },
                  "family": {
                    "references": [
                      "var.db_parameter_group_family"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.db_parameter_group_use_name_prefix",
                      "local.db_parameter_group_name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.db_parameter_group_use_name_prefix",
                      "local.db_parameter_group_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_db_parameter_group"
                  ]
                }
              },
              {
                "address": "aws_db_subnet_group.this",
                "mode": "managed",
                "type": "aws_db_subnet_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.internal_db_subnet_group_name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.subnets"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_db_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_iam_role.rds_enhanced_monitoring",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "rds_enhanced_monitoring",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.monitoring_rds_assume_role.json",
                      "data.aws_iam_policy_document.monitoring_rds_assume_role"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.iam_role_description"
                    ]
                  },
                  "force_detach_policies": {
                    "references": [
                      "var.iam_role_force_detach_policies"
                    ]
                  },
                  "managed_policy_arns": {
                    "references": [
                      "var.iam_role_managed_policy_arns"
                    ]
                  },
                  "max_session_duration": {
                    "references": [
                      "var.iam_role_max_session_duration"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "var.iam_role_name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "var.iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.iam_role_path"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.iam_role_permissions_boundary"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_monitoring_role",
                    "var.monitoring_interval"
                  ]
                }
              },
              {
                "address": "aws_iam_role_policy_attachment.rds_enhanced_monitoring",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "rds_enhanced_monitoring",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "references": [
                      "data.aws_partition.current.partition",
                      "data.aws_partition.current"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.rds_enhanced_monitoring[0].name",
                      "aws_iam_role.rds_enhanced_monitoring[0]",
                      "aws_iam_role.rds_enhanced_monitoring"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_monitoring_role",
                    "var.monitoring_interval"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster.this",
                "mode": "managed",
                "type": "aws_rds_cluster",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "allocated_storage": {
                    "references": [
                      "var.allocated_storage"
                    ]
                  },
                  "allow_major_version_upgrade": {
                    "references": [
                      "var.allow_major_version_upgrade"
                    ]
                  },
                  "apply_immediately": {
                    "references": [
                      "var.apply_immediately"
                    ]
                  },
                  "availability_zones": {
                    "references": [
                      "var.availability_zones"
                    ]
                  },
                  "backtrack_window": {
                    "references": [
                      "local.backtrack_window"
                    ]
                  },
                  "backup_retention_period": {
                    "references": [
                      "var.backup_retention_period"
                    ]
                  },
                  "cluster_identifier": {
                    "references": [
                      "var.cluster_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "cluster_identifier_prefix": {
                    "references": [
                      "var.cluster_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "cluster_members": {
                    "references": [
                      "var.cluster_members"
                    ]
                  },
                  "copy_tags_to_snapshot": {
                    "references": [
                      "var.copy_tags_to_snapshot"
                    ]
                  },
                  "database_name": {
                    "references": [
                      "var.is_primary_cluster",
                      "var.database_name"
                    ]
                  },
                  "db_cluster_instance_class": {
                    "references": [
                      "var.db_cluster_instance_class"
                    ]
                  },
                  "db_cluster_parameter_group_name": {
                    "references": [
                      "var.create_db_cluster_parameter_group",
                      "aws_rds_cluster_parameter_group.this[0].id",
                      "aws_rds_cluster_parameter_group.this[0]",
                      "aws_rds_cluster_parameter_group.this",
                      "var.db_cluster_parameter_group_name"
                    ]
                  },
                  "db_instance_parameter_group_name": {
                    "references": [
                      "var.allow_major_version_upgrade",
                      "var.db_cluster_db_instance_parameter_group_name"
                    ]
                  },
                  "db_subnet_group_name": {
                    "references": [
                      "local.db_subnet_group_name"
                    ]
                  },
                  "deletion_protection": {
                    "references": [
                      "var.deletion_protection"
                    ]
                  },
                  "enable_global_write_forwarding": {
                    "references": [
                      "var.enable_global_write_forwarding"
                    ]
                  },
                  "enable_http_endpoint": {
                    "references": [
                      "var.enable_http_endpoint"
                    ]
                  },
                  "enabled_cloudwatch_logs_exports": {
                    "references": [
                      "var.enabled_cloudwatch_logs_exports"
                    ]
                  },
                  "engine": {
                    "references": [
                      "var.engine"
                    ]
                  },
                  "engine_mode": {
                    "references": [
                      "var.engine_mode"
                    ]
                  },
                  "engine_version": {
                    "references": [
                      "var.engine_version"
                    ]
                  },
                  "final_snapshot_identifier": {
                    "references": [
                      "var.skip_final_snapshot",
                      "local.final_snapshot_identifier_prefix"
                    ]
                  },
                  "global_cluster_identifier": {
                    "references": [
                      "var.global_cluster_identifier"
                    ]
                  },
                  "iam_database_authentication_enabled": {
                    "references": [
                      "var.iam_database_authentication_enabled"
                    ]
                  },
                  "iops": {
                    "references": [
                      "var.iops"
                    ]
                  },
                  "kms_key_id": {
                    "references": [
                      "var.kms_key_id"
                    ]
                  },
                  "master_password": {
                    "references": [
                      "var.is_primary_cluster",
                      "local.master_password"
                    ]
                  },
                  "master_username": {
                    "references": [
                      "var.is_primary_cluster",
                      "var.master_username"
                    ]
                  },
                  "network_type": {
                    "references": [
                      "var.network_type"
                    ]
                  },
                  "port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "preferred_backup_window": {
                    "references": [
                      "local.is_serverless",
                      "var.preferred_backup_window"
                    ]
                  },
                  "preferred_maintenance_window": {
                    "references": [
                      "local.is_serverless",
                      "var.preferred_maintenance_window"
                    ]
                  },
                  "replication_source_identifier": {
                    "references": [
                      "var.replication_source_identifier"
                    ]
                  },
                  "skip_final_snapshot": {
                    "references": [
                      "var.skip_final_snapshot"
                    ]
                  },
                  "snapshot_identifier": {
                    "references": [
                      "var.snapshot_identifier"
                    ]
                  },
                  "source_region": {
                    "references": [
                      "var.source_region"
                    ]
                  },
                  "storage_encrypted": {
                    "references": [
                      "var.storage_encrypted"
                    ]
                  },
                  "storage_type": {
                    "references": [
                      "var.storage_type"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.cluster_tags"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.cluster_timeouts.create",
                        "var.cluster_timeouts"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.cluster_timeouts.delete",
                        "var.cluster_timeouts"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.cluster_timeouts.update",
                        "var.cluster_timeouts"
                      ]
                    }
                  },
                  "vpc_security_group_ids": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this",
                      "var.vpc_security_group_ids"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster_endpoint.this",
                "mode": "managed",
                "type": "aws_rds_cluster_endpoint",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "cluster_endpoint_identifier": {
                    "references": [
                      "each.value.identifier",
                      "each.value"
                    ]
                  },
                  "cluster_identifier": {
                    "references": [
                      "aws_rds_cluster.this[0].id",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "custom_endpoint_type": {
                    "references": [
                      "each.value.type",
                      "each.value"
                    ]
                  },
                  "excluded_members": {
                    "references": [
                      "each.value.excluded_members",
                      "each.value"
                    ]
                  },
                  "static_members": {
                    "references": [
                      "each.value.static_members",
                      "each.value"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.endpoints",
                    "local.create_cluster",
                    "local.is_serverless"
                  ]
                },
                "depends_on": [
                  "aws_rds_cluster_instance.this"
                ]
              },
              {
                "address": "aws_rds_cluster_instance.this",
                "mode": "managed",
                "type": "aws_rds_cluster_instance",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "apply_immediately": {
                    "references": [
                      "each.value.apply_immediately",
                      "each.value",
                      "var.apply_immediately"
                    ]
                  },
                  "auto_minor_version_upgrade": {
                    "references": [
                      "each.value.auto_minor_version_upgrade",
                      "each.value",
                      "var.auto_minor_version_upgrade"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "each.value.availability_zone",
                      "each.value"
                    ]
                  },
                  "ca_cert_identifier": {
                    "references": [
                      "var.ca_cert_identifier"
                    ]
                  },
                  "cluster_identifier": {
                    "references": [
                      "aws_rds_cluster.this[0].id",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "copy_tags_to_snapshot": {
                    "references": [
                      "each.value.copy_tags_to_snapshot",
                      "each.value",
                      "var.copy_tags_to_snapshot"
                    ]
                  },
                  "db_parameter_group_name": {
                    "references": [
                      "var.create_db_parameter_group",
                      "aws_db_parameter_group.this[0].id",
                      "aws_db_parameter_group.this[0]",
                      "aws_db_parameter_group.this",
                      "var.db_parameter_group_name"
                    ]
                  },
                  "db_subnet_group_name": {
                    "references": [
                      "local.db_subnet_group_name"
                    ]
                  },
                  "engine": {
                    "references": [
                      "var.engine"
                    ]
                  },
                  "engine_version": {
                    "references": [
                      "var.engine_version"
                    ]
                  },
                  "identifier": {
                    "references": [
                      "var.instances_use_identifier_prefix",
                      "each.value.identifier",
                      "each.value",
                      "var.name",
                      "each.key"
                    ]
                  },
                  "identifier_prefix": {
                    "references": [
                      "var.instances_use_identifier_prefix",
                      "each.value.identifier_prefix",
                      "each.value",
                      "var.name",
                      "each.key"
                    ]
                  },
                  "instance_class": {
                    "references": [
                      "each.value.instance_class",
                      "each.value",
                      "var.instance_class"
                    ]
                  },
                  "monitoring_interval": {
                    "references": [
                      "each.value.monitoring_interval",
                      "each.value",
                      "var.monitoring_interval"
                    ]
                  },
                  "monitoring_role_arn": {
                    "references": [
                      "var.create_monitoring_role",
                      "aws_iam_role.rds_enhanced_monitoring[0].arn",
                      "aws_iam_role.rds_enhanced_monitoring[0]",
                      "aws_iam_role.rds_enhanced_monitoring",
                      "var.monitoring_role_arn"
                    ]
                  },
                  "performance_insights_enabled": {
                    "references": [
                      "each.value.performance_insights_enabled",
                      "each.value",
                      "var.performance_insights_enabled"
                    ]
                  },
                  "performance_insights_kms_key_id": {
                    "references": [
                      "each.value.performance_insights_kms_key_id",
                      "each.value",
                      "var.performance_insights_kms_key_id"
                    ]
                  },
                  "performance_insights_retention_period": {
                    "references": [
                      "each.value.performance_insights_retention_period",
                      "each.value",
                      "var.performance_insights_retention_period"
                    ]
                  },
                  "preferred_maintenance_window": {
                    "references": [
                      "each.value.preferred_maintenance_window",
                      "each.value",
                      "var.preferred_maintenance_window"
                    ]
                  },
                  "promotion_tier": {
                    "references": [
                      "each.value.promotion_tier",
                      "each.value"
                    ]
                  },
                  "publicly_accessible": {
                    "references": [
                      "each.value.publicly_accessible",
                      "each.value",
                      "var.publicly_accessible"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.instance_timeouts.create",
                        "var.instance_timeouts"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.instance_timeouts.delete",
                        "var.instance_timeouts"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.instance_timeouts.update",
                        "var.instance_timeouts"
                      ]
                    }
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.instances",
                    "local.create_cluster",
                    "local.is_serverless"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster_parameter_group.this",
                "mode": "managed",
                "type": "aws_rds_cluster_parameter_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.db_cluster_parameter_group_description"
                    ]
                  },
                  "family": {
                    "references": [
                      "var.db_cluster_parameter_group_family"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.db_cluster_parameter_group_use_name_prefix",
                      "local.cluster_parameter_group_name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.db_cluster_parameter_group_use_name_prefix",
                      "local.cluster_parameter_group_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_db_cluster_parameter_group"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster_role_association.this",
                "mode": "managed",
                "type": "aws_rds_cluster_role_association",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "db_cluster_identifier": {
                    "references": [
                      "aws_rds_cluster.this[0].id",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "feature_name": {
                    "references": [
                      "each.value.feature_name",
                      "each.value"
                    ]
                  },
                  "role_arn": {
                    "references": [
                      "each.value.role_arn",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.iam_roles",
                    "local.create_cluster"
                  ]
                }
              },
              {
                "address": "aws_security_group.this",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.security_group_description",
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.security_group_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.security_group_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.security_group_tags",
                      "var.name"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group"
                  ]
                }
              },
              {
                "address": "aws_security_group_rule.cidr_ingress",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "cidr_ingress",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_blocks": {
                    "references": [
                      "var.allowed_cidr_blocks"
                    ]
                  },
                  "description": {
                    "constant_value": "From allowed CIDRs"
                  },
                  "from_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "protocol": {
                    "constant_value": "tcp"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "type": {
                    "constant_value": "ingress"
                  }
                },
                "schema_version": 2,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group",
                    "var.allowed_cidr_blocks"
                  ]
                }
              },
              {
                "address": "aws_security_group_rule.default_ingress",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "default_ingress",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "constant_value": "From allowed SGs"
                  },
                  "from_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "protocol": {
                    "constant_value": "tcp"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this"
                    ]
                  },
                  "source_security_group_id": {
                    "references": [
                      "var.allowed_security_groups",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "type": {
                    "constant_value": "ingress"
                  }
                },
                "schema_version": 2,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group",
                    "var.allowed_security_groups"
                  ]
                }
              },
              {
                "address": "aws_security_group_rule.egress",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "egress",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_blocks": {
                    "references": [
                      "each.value.cidr_blocks",
                      "each.value"
                    ]
                  },
                  "description": {
                    "references": [
                      "each.value.description",
                      "each.value"
                    ]
                  },
                  "from_port": {
                    "references": [
                      "each.value.from_port",
                      "each.value",
                      "local.port"
                    ]
                  },
                  "ipv6_cidr_blocks": {
                    "references": [
                      "each.value.ipv6_cidr_blocks",
                      "each.value"
                    ]
                  },
                  "prefix_list_ids": {
                    "references": [
                      "each.value.prefix_list_ids",
                      "each.value"
                    ]
                  },
                  "protocol": {
                    "constant_value": "tcp"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this"
                    ]
                  },
                  "source_security_group_id": {
                    "references": [
                      "each.value.source_security_group_id",
                      "each.value"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "each.value.to_port",
                      "each.value",
                      "local.port"
                    ]
                  },
                  "type": {
                    "constant_value": "egress"
                  }
                },
                "schema_version": 2,
                "for_each_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group",
                    "var.security_group_egress_rules"
                  ]
                }
              },
              {
                "address": "random_id.snapshot_identifier",
                "mode": "managed",
                "type": "random_id",
                "name": "snapshot_identifier",
                "provider_config_key": "module.aurora-db-blue:random",
                "expressions": {
                  "byte_length": {
                    "constant_value": 4
                  },
                  "keepers": {
                    "references": [
                      "var.name"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.skip_final_snapshot"
                  ]
                }
              },
              {
                "address": "random_password.master_password",
                "mode": "managed",
                "type": "random_password",
                "name": "master_password",
                "provider_config_key": "module.aurora-db-blue:random",
                "expressions": {
                  "length": {
                    "references": [
                      "var.random_password_length"
                    ]
                  },
                  "special": {
                    "constant_value": false
                  }
                },
                "schema_version": 3,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_random_password"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.monitoring_rds_assume_role",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "monitoring_rds_assume_role",
                "provider_config_key": "aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole"
                        ]
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "monitoring.rds.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ]
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_partition.current",
                "mode": "data",
                "type": "aws_partition",
                "name": "current",
                "provider_config_key": "aws",
                "schema_version": 0
              }
            ],
            "variables": {
              "allocated_storage": {
                "default": null,
                "description": "The amount of storage in gibibytes (GiB) to allocate to each DB instance in the Multi-AZ DB cluster. (This setting is required to create a Multi-AZ DB cluster)"
              },
              "allow_major_version_upgrade": {
                "default": false,
                "description": "Enable to allow major engine version upgrades when changing engine versions. Defaults to `false`"
              },
              "allowed_cidr_blocks": {
                "default": [],
                "description": "A list of CIDR blocks which are allowed to access the database"
              },
              "allowed_security_groups": {
                "default": [],
                "description": "A list of Security Group ID's to allow access to"
              },
              "apply_immediately": {
                "default": null,
                "description": "Specifies whether any cluster modifications are applied immediately, or during the next maintenance window. Default is `false`"
              },
              "auto_minor_version_upgrade": {
                "default": null,
                "description": "Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window. Default `true`"
              },
              "autoscaling_enabled": {
                "default": false,
                "description": "Determines whether autoscaling of the cluster read replicas is enabled"
              },
              "autoscaling_max_capacity": {
                "default": 2,
                "description": "Maximum number of read replicas permitted when autoscaling is enabled"
              },
              "autoscaling_min_capacity": {
                "default": 0,
                "description": "Minimum number of read replicas permitted when autoscaling is enabled"
              },
              "autoscaling_policy_name": {
                "default": "target-metric",
                "description": "Autoscaling policy name"
              },
              "autoscaling_scale_in_cooldown": {
                "default": 300,
                "description": "Cooldown in seconds before allowing further scaling operations after a scale in"
              },
              "autoscaling_scale_out_cooldown": {
                "default": 300,
                "description": "Cooldown in seconds before allowing further scaling operations after a scale out"
              },
              "autoscaling_target_connections": {
                "default": 700,
                "description": "Average number of connections threshold which will initiate autoscaling. Default value is 70% of db.r4/r5/r6g.large's default max_connections"
              },
              "autoscaling_target_cpu": {
                "default": 70,
                "description": "CPU threshold which will initiate autoscaling"
              },
              "availability_zones": {
                "default": null,
                "description": "List of EC2 Availability Zones for the DB cluster storage where DB cluster instances can be created. RDS automatically assigns 3 AZs if less than 3 AZs are configured, which will show as a difference requiring resource recreation next Terraform apply"
              },
              "backtrack_window": {
                "default": null,
                "description": "The target backtrack window, in seconds. Only available for `aurora` engine currently. To disable backtracking, set this value to 0. Must be between 0 and 259200 (72 hours)"
              },
              "backup_retention_period": {
                "default": 7,
                "description": "The days to retain backups for. Default `7`"
              },
              "ca_cert_identifier": {
                "default": null,
                "description": "The identifier of the CA certificate for the DB instance"
              },
              "cluster_members": {
                "default": null,
                "description": "List of RDS Instances that are a part of this cluster"
              },
              "cluster_tags": {
                "default": {},
                "description": "A map of tags to add to only the cluster. Used for AWS Instance Scheduler tagging"
              },
              "cluster_timeouts": {
                "default": {},
                "description": "Create, update, and delete timeout configurations for the cluster"
              },
              "cluster_use_name_prefix": {
                "default": false,
                "description": "Whether to use `name` as a prefix for the cluster"
              },
              "copy_tags_to_snapshot": {
                "default": null,
                "description": "Copy all Cluster `tags` to snapshots"
              },
              "create_cluster": {
                "default": true,
                "description": "Whether cluster should be created (affects nearly all resources)"
              },
              "create_db_cluster_parameter_group": {
                "default": false,
                "description": "Determines whether a cluster parameter should be created or use existing"
              },
              "create_db_parameter_group": {
                "default": false,
                "description": "Determines whether a DB parameter should be created or use existing"
              },
              "create_db_subnet_group": {
                "default": true,
                "description": "Determines whether to create the database subnet group or use existing"
              },
              "create_monitoring_role": {
                "default": true,
                "description": "Determines whether to create the IAM role for RDS enhanced monitoring"
              },
              "create_random_password": {
                "default": true,
                "description": "Determines whether to create random password for RDS primary cluster"
              },
              "create_security_group": {
                "default": true,
                "description": "Determines whether to create security group for RDS cluster"
              },
              "database_name": {
                "default": null,
                "description": "Name for an automatically created database on cluster creation"
              },
              "db_cluster_db_instance_parameter_group_name": {
                "default": null,
                "description": "Instance parameter group to associate with all instances of the DB cluster. The `db_cluster_db_instance_parameter_group_name` is only valid in combination with `allow_major_version_upgrade`"
              },
              "db_cluster_instance_class": {
                "default": null,
                "description": "The compute and memory capacity of each DB instance in the Multi-AZ DB cluster, for example db.m6g.xlarge. Not all DB instance classes are available in all AWS Regions, or for all database engines"
              },
              "db_cluster_parameter_group_description": {
                "default": null,
                "description": "The description of the DB cluster parameter group. Defaults to \"Managed by Terraform\""
              },
              "db_cluster_parameter_group_family": {
                "default": "",
                "description": "The family of the DB cluster parameter group"
              },
              "db_cluster_parameter_group_name": {
                "default": null,
                "description": "The name of the DB cluster parameter group"
              },
              "db_cluster_parameter_group_parameters": {
                "default": [],
                "description": "A list of DB cluster parameters to apply. Note that parameters may differ from a family to an other"
              },
              "db_cluster_parameter_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether the DB cluster parameter group name is used as a prefix"
              },
              "db_parameter_group_description": {
                "default": null,
                "description": "The description of the DB parameter group. Defaults to \"Managed by Terraform\""
              },
              "db_parameter_group_family": {
                "default": "",
                "description": "The family of the DB parameter group"
              },
              "db_parameter_group_name": {
                "default": null,
                "description": "The name of the DB parameter group"
              },
              "db_parameter_group_parameters": {
                "default": [],
                "description": "A list of DB parameters to apply. Note that parameters may differ from a family to an other"
              },
              "db_parameter_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether the DB parameter group name is used as a prefix"
              },
              "db_subnet_group_name": {
                "default": "",
                "description": "The name of the subnet group name (existing or created)"
              },
              "deletion_protection": {
                "default": null,
                "description": "If the DB instance should have deletion protection enabled. The database can't be deleted when this value is set to `true`. The default is `false`"
              },
              "enable_global_write_forwarding": {
                "default": null,
                "description": "Whether cluster should forward writes to an associated global cluster. Applied to secondary clusters to enable them to forward writes to an `aws_rds_global_cluster`'s primary cluster"
              },
              "enable_http_endpoint": {
                "default": null,
                "description": "Enable HTTP endpoint (data API). Only valid when engine_mode is set to `serverless`"
              },
              "enabled_cloudwatch_logs_exports": {
                "default": [],
                "description": "Set of log types to export to cloudwatch. If omitted, no logs will be exported. The following log types are supported: `audit`, `error`, `general`, `slowquery`, `postgresql`"
              },
              "endpoints": {
                "default": {},
                "description": "Map of additional cluster endpoints and their attributes to be created"
              },
              "engine": {
                "default": null,
                "description": "The name of the database engine to be used for this DB cluster. Defaults to `aurora`. Valid Values: `aurora`, `aurora-mysql`, `aurora-postgresql`"
              },
              "engine_mode": {
                "default": null,
                "description": "The database engine mode. Valid values: `global`, `multimaster`, `parallelquery`, `provisioned`, `serverless`. Defaults to: `provisioned`"
              },
              "engine_version": {
                "default": null,
                "description": "The database engine version. Updating this argument results in an outage"
              },
              "final_snapshot_identifier_prefix": {
                "default": "final",
                "description": "The prefix name to use when creating a final snapshot on cluster destroy; a 8 random digits are appended to name to ensure it's unique"
              },
              "global_cluster_identifier": {
                "default": null,
                "description": "The global cluster identifier specified on `aws_rds_global_cluster`"
              },
              "iam_database_authentication_enabled": {
                "default": null,
                "description": "Specifies whether or mappings of AWS Identity and Access Management (IAM) accounts to database accounts is enabled"
              },
              "iam_role_description": {
                "default": null,
                "description": "Description of the monitoring role"
              },
              "iam_role_force_detach_policies": {
                "default": null,
                "description": "Whether to force detaching any policies the monitoring role has before destroying it"
              },
              "iam_role_managed_policy_arns": {
                "default": null,
                "description": "Set of exclusive IAM managed policy ARNs to attach to the monitoring role"
              },
              "iam_role_max_session_duration": {
                "default": null,
                "description": "Maximum session duration (in seconds) that you want to set for the monitoring role"
              },
              "iam_role_name": {
                "default": null,
                "description": "Friendly name of the monitoring role"
              },
              "iam_role_path": {
                "default": null,
                "description": "Path for the monitoring role"
              },
              "iam_role_permissions_boundary": {
                "default": null,
                "description": "The ARN of the policy that is used to set the permissions boundary for the monitoring role"
              },
              "iam_role_use_name_prefix": {
                "default": false,
                "description": "Determines whether to use `iam_role_name` as is or create a unique name beginning with the `iam_role_name` as the prefix"
              },
              "iam_roles": {
                "default": {},
                "description": "Map of IAM roles and supported feature names to associate with the cluster"
              },
              "instance_class": {
                "default": "",
                "description": "Instance type to use at master instance. Note: if `autoscaling_enabled` is `true`, this will be the same instance class used on instances created by autoscaling"
              },
              "instance_timeouts": {
                "default": {},
                "description": "Create, update, and delete timeout configurations for the cluster instance(s)"
              },
              "instances": {
                "default": {},
                "description": "Map of cluster instances and any specific/overriding attributes to be created"
              },
              "instances_use_identifier_prefix": {
                "default": false,
                "description": "Determines whether cluster instance identifiers are used as prefixes"
              },
              "iops": {
                "default": null,
                "description": "The amount of Provisioned IOPS (input/output operations per second) to be initially allocated for each DB instance in the Multi-AZ DB cluster"
              },
              "is_primary_cluster": {
                "default": true,
                "description": "Determines whether cluster is primary cluster with writer instance (set to `false` for global cluster and replica clusters)"
              },
              "kms_key_id": {
                "default": null,
                "description": "The ARN for the KMS encryption key. When specifying `kms_key_id`, `storage_encrypted` needs to be set to `true`"
              },
              "master_password": {
                "default": null,
                "description": "Password for the master DB user. Note - when specifying a value here, 'create_random_password' should be set to `false`"
              },
              "master_username": {
                "default": "root",
                "description": "Username for the master DB user"
              },
              "monitoring_interval": {
                "default": 0,
                "description": "The interval, in seconds, between points when Enhanced Monitoring metrics are collected for instances. Set to `0` to disable. Default is `0`"
              },
              "monitoring_role_arn": {
                "default": "",
                "description": "IAM role used by RDS to send enhanced monitoring metrics to CloudWatch"
              },
              "name": {
                "default": "",
                "description": "Name used across resources created"
              },
              "network_type": {
                "default": null,
                "description": "The type of network stack to use (IPV4 or DUAL)"
              },
              "performance_insights_enabled": {
                "default": null,
                "description": "Specifies whether Performance Insights is enabled or not"
              },
              "performance_insights_kms_key_id": {
                "default": null,
                "description": "The ARN for the KMS key to encrypt Performance Insights data"
              },
              "performance_insights_retention_period": {
                "default": null,
                "description": "Amount of time in days to retain Performance Insights data. Either 7 (7 days) or 731 (2 years)"
              },
              "port": {
                "default": null,
                "description": "The port on which the DB accepts connections"
              },
              "predefined_metric_type": {
                "default": "RDSReaderAverageCPUUtilization",
                "description": "The metric type to scale on. Valid values are `RDSReaderAverageCPUUtilization` and `RDSReaderAverageDatabaseConnections`"
              },
              "preferred_backup_window": {
                "default": "02:00-03:00",
                "description": "The daily time range during which automated backups are created if automated backups are enabled using the `backup_retention_period` parameter. Time in UTC"
              },
              "preferred_maintenance_window": {
                "default": "sun:05:00-sun:06:00",
                "description": "The weekly time range during which system maintenance can occur, in (UTC)"
              },
              "publicly_accessible": {
                "default": null,
                "description": "Determines whether instances are publicly accessible. Default false"
              },
              "putin_khuylo": {
                "default": true,
                "description": "Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
              },
              "random_password_length": {
                "default": 10,
                "description": "Length of random password to create. Defaults to `10`"
              },
              "replication_source_identifier": {
                "default": null,
                "description": "ARN of a source DB cluster or DB instance if this DB cluster is to be created as a Read Replica"
              },
              "restore_to_point_in_time": {
                "default": {},
                "description": "Map of nested attributes for cloning Aurora cluster"
              },
              "s3_import": {
                "default": {},
                "description": "Configuration map used to restore from a Percona Xtrabackup in S3 (only MySQL is supported)"
              },
              "scaling_configuration": {
                "default": {},
                "description": "Map of nested attributes with scaling properties. Only valid when `engine_mode` is set to `serverless`"
              },
              "security_group_description": {
                "default": null,
                "description": "The description of the security group. If value is set to empty string it will contain cluster name in the description"
              },
              "security_group_egress_rules": {
                "default": {},
                "description": "A map of security group egress rule definitions to add to the security group created"
              },
              "security_group_tags": {
                "default": {},
                "description": "Additional tags for the security group"
              },
              "security_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether the security group name (`name`) is used as a prefix"
              },
              "serverlessv2_scaling_configuration": {
                "default": {},
                "description": "Map of nested attributes with serverless v2 scaling properties. Only valid when `engine_mode` is set to `provisioned`"
              },
              "skip_final_snapshot": {
                "default": false,
                "description": "Determines whether a final snapshot is created before the cluster is deleted. If true is specified, no snapshot is created"
              },
              "snapshot_identifier": {
                "default": null,
                "description": "Specifies whether or not to create this cluster from a snapshot. You can use either the name or ARN when specifying a DB cluster snapshot, or the ARN when specifying a DB snapshot"
              },
              "source_region": {
                "default": null,
                "description": "The source region for an encrypted replica DB cluster"
              },
              "storage_encrypted": {
                "default": true,
                "description": "Specifies whether the DB cluster is encrypted. The default is `true`"
              },
              "storage_type": {
                "default": null,
                "description": "Specifies the storage type to be associated with the DB cluster. (This setting is required to create a Multi-AZ DB cluster). Valid values: `io1`, Default: `io1`"
              },
              "subnets": {
                "default": [],
                "description": "List of subnet IDs used by database subnet group created"
              },
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "vpc_id": {
                "default": "",
                "description": "ID of the VPC where to create security group"
              },
              "vpc_security_group_ids": {
                "default": [],
                "description": "List of VPC security groups to associate to the cluster in addition to the SG we create in this module"
              }
            }
          },
          "version_constraint": "7.6.0"
        },
        "aurora-db-green": {
          "source": "terraform-aws-modules/rds-aurora/aws",
          "expressions": {
            "auto_minor_version_upgrade": {
              "references": [
                "var.environment"
              ]
            },
            "backup_retention_period": {
              "constant_value": 35
            },
            "copy_tags_to_snapshot": {
              "constant_value": true
            },
            "create_cluster": {
              "references": [
                "local.local_deployment_flag",
                "var.keep_previous_rds"
              ]
            },
            "create_db_subnet_group": {
              "constant_value": true
            },
            "create_monitoring_role": {
              "constant_value": false
            },
            "create_random_password": {
              "constant_value": false
            },
            "create_security_group": {
              "constant_value": false
            },
            "database_name": {
              "references": [
                "var.dbname"
              ]
            },
            "db_parameter_group_family": {
              "constant_value": "aurora-postgresql11"
            },
            "db_subnet_group_name": {
              "references": [
                "var.stack_name"
              ]
            },
            "deletion_protection": {
              "references": [
                "local.local_deployment_flag",
                "var.environment"
              ]
            },
            "engine": {
              "references": [
                "var.rds_engine"
              ]
            },
            "engine_version": {
              "references": [
                "var.rds_engine_version"
              ]
            },
            "instance_class": {
              "references": [
                "var.rds_instance_type"
              ]
            },
            "instances": {
              "constant_value": {
                "one": {}
              }
            },
            "master_password": {
              "references": [
                "var.dbpassword"
              ]
            },
            "master_username": {
              "references": [
                "var.dbuser"
              ]
            },
            "monitoring_interval": {
              "constant_value": 0
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "performance_insights_enabled": {
              "constant_value": true
            },
            "performance_insights_retention_period": {
              "constant_value": 31
            },
            "preferred_backup_window": {
              "constant_value": "16:50-18:50"
            },
            "preferred_maintenance_window": {
              "constant_value": "Mon:02:00-Mon:03:00"
            },
            "skip_final_snapshot": {
              "references": [
                "var.environment"
              ]
            },
            "snapshot_identifier": {
              "references": [
                "var.is_rollback",
                "local.local_deployment_flag",
                "var.rds_snapshot"
              ]
            },
            "storage_encrypted": {
              "constant_value": true
            },
            "subnets": {
              "references": [
                "module.vpc.private_subnets",
                "module.vpc"
              ]
            },
            "tags": {
              "references": [
                "local.default_tags",
                "var.stack_name"
              ]
            },
            "vpc_security_group_ids": {
              "references": [
                "aws_security_group.aurora-db-sg.id",
                "aws_security_group.aurora-db-sg"
              ]
            }
          },
          "module": {
            "outputs": {
              "additional_cluster_endpoints": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_endpoint.this"
                  ]
                },
                "description": "A map of additional cluster endpoints and their attributes"
              },
              "cluster_arn": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].arn",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "Amazon Resource Name (ARN) of cluster"
              },
              "cluster_database_name": {
                "expression": {
                  "references": [
                    "var.database_name"
                  ]
                },
                "description": "Name for an automatically created database on cluster creation"
              },
              "cluster_endpoint": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].endpoint",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "Writer endpoint for the cluster"
              },
              "cluster_engine_version_actual": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].engine_version_actual",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The running version of the cluster database"
              },
              "cluster_hosted_zone_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].hosted_zone_id",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The Route53 Hosted Zone ID of the endpoint"
              },
              "cluster_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].id",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The RDS Cluster Identifier"
              },
              "cluster_instances": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_instance.this"
                  ]
                },
                "description": "A map of cluster instances and their attributes"
              },
              "cluster_master_password": {
                "sensitive": true,
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].master_password",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The database master password"
              },
              "cluster_master_username": {
                "sensitive": true,
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].master_username",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The database master username"
              },
              "cluster_members": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].cluster_members",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "List of RDS Instances that are a part of this cluster"
              },
              "cluster_port": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].port",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The database port"
              },
              "cluster_reader_endpoint": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].reader_endpoint",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "A read-only endpoint for the cluster, automatically load-balanced across replicas"
              },
              "cluster_resource_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster.this[0].cluster_resource_id",
                    "aws_rds_cluster.this[0]",
                    "aws_rds_cluster.this"
                  ]
                },
                "description": "The RDS Cluster Resource ID"
              },
              "cluster_role_associations": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_role_association.this"
                  ]
                },
                "description": "A map of IAM roles associated with the cluster and their attributes"
              },
              "db_cluster_parameter_group_arn": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_parameter_group.this[0].arn",
                    "aws_rds_cluster_parameter_group.this[0]",
                    "aws_rds_cluster_parameter_group.this"
                  ]
                },
                "description": "The ARN of the DB cluster parameter group created"
              },
              "db_cluster_parameter_group_id": {
                "expression": {
                  "references": [
                    "aws_rds_cluster_parameter_group.this[0].id",
                    "aws_rds_cluster_parameter_group.this[0]",
                    "aws_rds_cluster_parameter_group.this"
                  ]
                },
                "description": "The ID of the DB cluster parameter group created"
              },
              "db_parameter_group_arn": {
                "expression": {
                  "references": [
                    "aws_db_parameter_group.this[0].arn",
                    "aws_db_parameter_group.this[0]",
                    "aws_db_parameter_group.this"
                  ]
                },
                "description": "The ARN of the DB parameter group created"
              },
              "db_parameter_group_id": {
                "expression": {
                  "references": [
                    "aws_db_parameter_group.this[0].id",
                    "aws_db_parameter_group.this[0]",
                    "aws_db_parameter_group.this"
                  ]
                },
                "description": "The ID of the DB parameter group created"
              },
              "db_subnet_group_name": {
                "expression": {
                  "references": [
                    "local.db_subnet_group_name"
                  ]
                },
                "description": "The db subnet group name"
              },
              "enhanced_monitoring_iam_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.rds_enhanced_monitoring[0].arn",
                    "aws_iam_role.rds_enhanced_monitoring[0]",
                    "aws_iam_role.rds_enhanced_monitoring"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) specifying the enhanced monitoring role"
              },
              "enhanced_monitoring_iam_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.rds_enhanced_monitoring[0].name",
                    "aws_iam_role.rds_enhanced_monitoring[0]",
                    "aws_iam_role.rds_enhanced_monitoring"
                  ]
                },
                "description": "The name of the enhanced monitoring role"
              },
              "enhanced_monitoring_iam_role_unique_id": {
                "expression": {
                  "references": [
                    "aws_iam_role.rds_enhanced_monitoring[0].unique_id",
                    "aws_iam_role.rds_enhanced_monitoring[0]",
                    "aws_iam_role.rds_enhanced_monitoring"
                  ]
                },
                "description": "Stable and unique string identifying the enhanced monitoring role"
              },
              "security_group_id": {
                "expression": {
                  "references": [
                    "aws_security_group.this[0].id",
                    "aws_security_group.this[0]",
                    "aws_security_group.this"
                  ]
                },
                "description": "The security group ID of the cluster"
              }
            },
            "resources": [
              {
                "address": "aws_appautoscaling_policy.this",
                "mode": "managed",
                "type": "aws_appautoscaling_policy",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.autoscaling_policy_name"
                    ]
                  },
                  "policy_type": {
                    "constant_value": "TargetTrackingScaling"
                  },
                  "resource_id": {
                    "references": [
                      "aws_rds_cluster.this[0].cluster_identifier",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "rds:cluster:ReadReplicaCount"
                  },
                  "service_namespace": {
                    "constant_value": "rds"
                  },
                  "target_tracking_scaling_policy_configuration": [
                    {
                      "predefined_metric_specification": [
                        {
                          "predefined_metric_type": {
                            "references": [
                              "var.predefined_metric_type"
                            ]
                          }
                        }
                      ],
                      "scale_in_cooldown": {
                        "references": [
                          "var.autoscaling_scale_in_cooldown"
                        ]
                      },
                      "scale_out_cooldown": {
                        "references": [
                          "var.autoscaling_scale_out_cooldown"
                        ]
                      },
                      "target_value": {
                        "references": [
                          "var.predefined_metric_type",
                          "var.autoscaling_target_cpu",
                          "var.autoscaling_target_connections"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.autoscaling_enabled",
                    "local.is_serverless"
                  ]
                },
                "depends_on": [
                  "aws_appautoscaling_target.this"
                ]
              },
              {
                "address": "aws_appautoscaling_target.this",
                "mode": "managed",
                "type": "aws_appautoscaling_target",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "max_capacity": {
                    "references": [
                      "var.autoscaling_max_capacity"
                    ]
                  },
                  "min_capacity": {
                    "references": [
                      "var.autoscaling_min_capacity"
                    ]
                  },
                  "resource_id": {
                    "references": [
                      "aws_rds_cluster.this[0].cluster_identifier",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "scalable_dimension": {
                    "constant_value": "rds:cluster:ReadReplicaCount"
                  },
                  "service_namespace": {
                    "constant_value": "rds"
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.autoscaling_enabled",
                    "local.is_serverless"
                  ]
                }
              },
              {
                "address": "aws_db_parameter_group.this",
                "mode": "managed",
                "type": "aws_db_parameter_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.db_parameter_group_description"
                    ]
                  },
                  "family": {
                    "references": [
                      "var.db_parameter_group_family"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.db_parameter_group_use_name_prefix",
                      "local.db_parameter_group_name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.db_parameter_group_use_name_prefix",
                      "local.db_parameter_group_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_db_parameter_group"
                  ]
                }
              },
              {
                "address": "aws_db_subnet_group.this",
                "mode": "managed",
                "type": "aws_db_subnet_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "local.internal_db_subnet_group_name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "var.subnets"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_db_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_iam_role.rds_enhanced_monitoring",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "rds_enhanced_monitoring",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.monitoring_rds_assume_role.json",
                      "data.aws_iam_policy_document.monitoring_rds_assume_role"
                    ]
                  },
                  "description": {
                    "references": [
                      "var.iam_role_description"
                    ]
                  },
                  "force_detach_policies": {
                    "references": [
                      "var.iam_role_force_detach_policies"
                    ]
                  },
                  "managed_policy_arns": {
                    "references": [
                      "var.iam_role_managed_policy_arns"
                    ]
                  },
                  "max_session_duration": {
                    "references": [
                      "var.iam_role_max_session_duration"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "var.iam_role_name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.iam_role_use_name_prefix",
                      "var.iam_role_name"
                    ]
                  },
                  "path": {
                    "references": [
                      "var.iam_role_path"
                    ]
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.iam_role_permissions_boundary"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_monitoring_role",
                    "var.monitoring_interval"
                  ]
                }
              },
              {
                "address": "aws_iam_role_policy_attachment.rds_enhanced_monitoring",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "rds_enhanced_monitoring",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "references": [
                      "data.aws_partition.current.partition",
                      "data.aws_partition.current"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.rds_enhanced_monitoring[0].name",
                      "aws_iam_role.rds_enhanced_monitoring[0]",
                      "aws_iam_role.rds_enhanced_monitoring"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_monitoring_role",
                    "var.monitoring_interval"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster.this",
                "mode": "managed",
                "type": "aws_rds_cluster",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "allocated_storage": {
                    "references": [
                      "var.allocated_storage"
                    ]
                  },
                  "allow_major_version_upgrade": {
                    "references": [
                      "var.allow_major_version_upgrade"
                    ]
                  },
                  "apply_immediately": {
                    "references": [
                      "var.apply_immediately"
                    ]
                  },
                  "availability_zones": {
                    "references": [
                      "var.availability_zones"
                    ]
                  },
                  "backtrack_window": {
                    "references": [
                      "local.backtrack_window"
                    ]
                  },
                  "backup_retention_period": {
                    "references": [
                      "var.backup_retention_period"
                    ]
                  },
                  "cluster_identifier": {
                    "references": [
                      "var.cluster_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "cluster_identifier_prefix": {
                    "references": [
                      "var.cluster_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "cluster_members": {
                    "references": [
                      "var.cluster_members"
                    ]
                  },
                  "copy_tags_to_snapshot": {
                    "references": [
                      "var.copy_tags_to_snapshot"
                    ]
                  },
                  "database_name": {
                    "references": [
                      "var.is_primary_cluster",
                      "var.database_name"
                    ]
                  },
                  "db_cluster_instance_class": {
                    "references": [
                      "var.db_cluster_instance_class"
                    ]
                  },
                  "db_cluster_parameter_group_name": {
                    "references": [
                      "var.create_db_cluster_parameter_group",
                      "aws_rds_cluster_parameter_group.this[0].id",
                      "aws_rds_cluster_parameter_group.this[0]",
                      "aws_rds_cluster_parameter_group.this",
                      "var.db_cluster_parameter_group_name"
                    ]
                  },
                  "db_instance_parameter_group_name": {
                    "references": [
                      "var.allow_major_version_upgrade",
                      "var.db_cluster_db_instance_parameter_group_name"
                    ]
                  },
                  "db_subnet_group_name": {
                    "references": [
                      "local.db_subnet_group_name"
                    ]
                  },
                  "deletion_protection": {
                    "references": [
                      "var.deletion_protection"
                    ]
                  },
                  "enable_global_write_forwarding": {
                    "references": [
                      "var.enable_global_write_forwarding"
                    ]
                  },
                  "enable_http_endpoint": {
                    "references": [
                      "var.enable_http_endpoint"
                    ]
                  },
                  "enabled_cloudwatch_logs_exports": {
                    "references": [
                      "var.enabled_cloudwatch_logs_exports"
                    ]
                  },
                  "engine": {
                    "references": [
                      "var.engine"
                    ]
                  },
                  "engine_mode": {
                    "references": [
                      "var.engine_mode"
                    ]
                  },
                  "engine_version": {
                    "references": [
                      "var.engine_version"
                    ]
                  },
                  "final_snapshot_identifier": {
                    "references": [
                      "var.skip_final_snapshot",
                      "local.final_snapshot_identifier_prefix"
                    ]
                  },
                  "global_cluster_identifier": {
                    "references": [
                      "var.global_cluster_identifier"
                    ]
                  },
                  "iam_database_authentication_enabled": {
                    "references": [
                      "var.iam_database_authentication_enabled"
                    ]
                  },
                  "iops": {
                    "references": [
                      "var.iops"
                    ]
                  },
                  "kms_key_id": {
                    "references": [
                      "var.kms_key_id"
                    ]
                  },
                  "master_password": {
                    "references": [
                      "var.is_primary_cluster",
                      "local.master_password"
                    ]
                  },
                  "master_username": {
                    "references": [
                      "var.is_primary_cluster",
                      "var.master_username"
                    ]
                  },
                  "network_type": {
                    "references": [
                      "var.network_type"
                    ]
                  },
                  "port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "preferred_backup_window": {
                    "references": [
                      "local.is_serverless",
                      "var.preferred_backup_window"
                    ]
                  },
                  "preferred_maintenance_window": {
                    "references": [
                      "local.is_serverless",
                      "var.preferred_maintenance_window"
                    ]
                  },
                  "replication_source_identifier": {
                    "references": [
                      "var.replication_source_identifier"
                    ]
                  },
                  "skip_final_snapshot": {
                    "references": [
                      "var.skip_final_snapshot"
                    ]
                  },
                  "snapshot_identifier": {
                    "references": [
                      "var.snapshot_identifier"
                    ]
                  },
                  "source_region": {
                    "references": [
                      "var.source_region"
                    ]
                  },
                  "storage_encrypted": {
                    "references": [
                      "var.storage_encrypted"
                    ]
                  },
                  "storage_type": {
                    "references": [
                      "var.storage_type"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.cluster_tags"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.cluster_timeouts.create",
                        "var.cluster_timeouts"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.cluster_timeouts.delete",
                        "var.cluster_timeouts"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.cluster_timeouts.update",
                        "var.cluster_timeouts"
                      ]
                    }
                  },
                  "vpc_security_group_ids": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this",
                      "var.vpc_security_group_ids"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster_endpoint.this",
                "mode": "managed",
                "type": "aws_rds_cluster_endpoint",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "cluster_endpoint_identifier": {
                    "references": [
                      "each.value.identifier",
                      "each.value"
                    ]
                  },
                  "cluster_identifier": {
                    "references": [
                      "aws_rds_cluster.this[0].id",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "custom_endpoint_type": {
                    "references": [
                      "each.value.type",
                      "each.value"
                    ]
                  },
                  "excluded_members": {
                    "references": [
                      "each.value.excluded_members",
                      "each.value"
                    ]
                  },
                  "static_members": {
                    "references": [
                      "each.value.static_members",
                      "each.value"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.endpoints",
                    "local.create_cluster",
                    "local.is_serverless"
                  ]
                },
                "depends_on": [
                  "aws_rds_cluster_instance.this"
                ]
              },
              {
                "address": "aws_rds_cluster_instance.this",
                "mode": "managed",
                "type": "aws_rds_cluster_instance",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "apply_immediately": {
                    "references": [
                      "each.value.apply_immediately",
                      "each.value",
                      "var.apply_immediately"
                    ]
                  },
                  "auto_minor_version_upgrade": {
                    "references": [
                      "each.value.auto_minor_version_upgrade",
                      "each.value",
                      "var.auto_minor_version_upgrade"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "each.value.availability_zone",
                      "each.value"
                    ]
                  },
                  "ca_cert_identifier": {
                    "references": [
                      "var.ca_cert_identifier"
                    ]
                  },
                  "cluster_identifier": {
                    "references": [
                      "aws_rds_cluster.this[0].id",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "copy_tags_to_snapshot": {
                    "references": [
                      "each.value.copy_tags_to_snapshot",
                      "each.value",
                      "var.copy_tags_to_snapshot"
                    ]
                  },
                  "db_parameter_group_name": {
                    "references": [
                      "var.create_db_parameter_group",
                      "aws_db_parameter_group.this[0].id",
                      "aws_db_parameter_group.this[0]",
                      "aws_db_parameter_group.this",
                      "var.db_parameter_group_name"
                    ]
                  },
                  "db_subnet_group_name": {
                    "references": [
                      "local.db_subnet_group_name"
                    ]
                  },
                  "engine": {
                    "references": [
                      "var.engine"
                    ]
                  },
                  "engine_version": {
                    "references": [
                      "var.engine_version"
                    ]
                  },
                  "identifier": {
                    "references": [
                      "var.instances_use_identifier_prefix",
                      "each.value.identifier",
                      "each.value",
                      "var.name",
                      "each.key"
                    ]
                  },
                  "identifier_prefix": {
                    "references": [
                      "var.instances_use_identifier_prefix",
                      "each.value.identifier_prefix",
                      "each.value",
                      "var.name",
                      "each.key"
                    ]
                  },
                  "instance_class": {
                    "references": [
                      "each.value.instance_class",
                      "each.value",
                      "var.instance_class"
                    ]
                  },
                  "monitoring_interval": {
                    "references": [
                      "each.value.monitoring_interval",
                      "each.value",
                      "var.monitoring_interval"
                    ]
                  },
                  "monitoring_role_arn": {
                    "references": [
                      "var.create_monitoring_role",
                      "aws_iam_role.rds_enhanced_monitoring[0].arn",
                      "aws_iam_role.rds_enhanced_monitoring[0]",
                      "aws_iam_role.rds_enhanced_monitoring",
                      "var.monitoring_role_arn"
                    ]
                  },
                  "performance_insights_enabled": {
                    "references": [
                      "each.value.performance_insights_enabled",
                      "each.value",
                      "var.performance_insights_enabled"
                    ]
                  },
                  "performance_insights_kms_key_id": {
                    "references": [
                      "each.value.performance_insights_kms_key_id",
                      "each.value",
                      "var.performance_insights_kms_key_id"
                    ]
                  },
                  "performance_insights_retention_period": {
                    "references": [
                      "each.value.performance_insights_retention_period",
                      "each.value",
                      "var.performance_insights_retention_period"
                    ]
                  },
                  "preferred_maintenance_window": {
                    "references": [
                      "each.value.preferred_maintenance_window",
                      "each.value",
                      "var.preferred_maintenance_window"
                    ]
                  },
                  "promotion_tier": {
                    "references": [
                      "each.value.promotion_tier",
                      "each.value"
                    ]
                  },
                  "publicly_accessible": {
                    "references": [
                      "each.value.publicly_accessible",
                      "each.value",
                      "var.publicly_accessible"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value.tags",
                      "each.value"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.instance_timeouts.create",
                        "var.instance_timeouts"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.instance_timeouts.delete",
                        "var.instance_timeouts"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.instance_timeouts.update",
                        "var.instance_timeouts"
                      ]
                    }
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.instances",
                    "local.create_cluster",
                    "local.is_serverless"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster_parameter_group.this",
                "mode": "managed",
                "type": "aws_rds_cluster_parameter_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.db_cluster_parameter_group_description"
                    ]
                  },
                  "family": {
                    "references": [
                      "var.db_cluster_parameter_group_family"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.db_cluster_parameter_group_use_name_prefix",
                      "local.cluster_parameter_group_name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.db_cluster_parameter_group_use_name_prefix",
                      "local.cluster_parameter_group_name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_db_cluster_parameter_group"
                  ]
                }
              },
              {
                "address": "aws_rds_cluster_role_association.this",
                "mode": "managed",
                "type": "aws_rds_cluster_role_association",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "db_cluster_identifier": {
                    "references": [
                      "aws_rds_cluster.this[0].id",
                      "aws_rds_cluster.this[0]",
                      "aws_rds_cluster.this"
                    ]
                  },
                  "feature_name": {
                    "references": [
                      "each.value.feature_name",
                      "each.value"
                    ]
                  },
                  "role_arn": {
                    "references": [
                      "each.value.role_arn",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.iam_roles",
                    "local.create_cluster"
                  ]
                }
              },
              {
                "address": "aws_security_group.this",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.security_group_description",
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.security_group_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.security_group_use_name_prefix",
                      "var.name"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.security_group_tags",
                      "var.name"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group"
                  ]
                }
              },
              {
                "address": "aws_security_group_rule.cidr_ingress",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "cidr_ingress",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_blocks": {
                    "references": [
                      "var.allowed_cidr_blocks"
                    ]
                  },
                  "description": {
                    "constant_value": "From allowed CIDRs"
                  },
                  "from_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "protocol": {
                    "constant_value": "tcp"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "type": {
                    "constant_value": "ingress"
                  }
                },
                "schema_version": 2,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group",
                    "var.allowed_cidr_blocks"
                  ]
                }
              },
              {
                "address": "aws_security_group_rule.default_ingress",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "default_ingress",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "constant_value": "From allowed SGs"
                  },
                  "from_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "protocol": {
                    "constant_value": "tcp"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this"
                    ]
                  },
                  "source_security_group_id": {
                    "references": [
                      "var.allowed_security_groups",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "local.port"
                    ]
                  },
                  "type": {
                    "constant_value": "ingress"
                  }
                },
                "schema_version": 2,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group",
                    "var.allowed_security_groups"
                  ]
                }
              },
              {
                "address": "aws_security_group_rule.egress",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "egress",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_blocks": {
                    "references": [
                      "each.value.cidr_blocks",
                      "each.value"
                    ]
                  },
                  "description": {
                    "references": [
                      "each.value.description",
                      "each.value"
                    ]
                  },
                  "from_port": {
                    "references": [
                      "each.value.from_port",
                      "each.value",
                      "local.port"
                    ]
                  },
                  "ipv6_cidr_blocks": {
                    "references": [
                      "each.value.ipv6_cidr_blocks",
                      "each.value"
                    ]
                  },
                  "prefix_list_ids": {
                    "references": [
                      "each.value.prefix_list_ids",
                      "each.value"
                    ]
                  },
                  "protocol": {
                    "constant_value": "tcp"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.this[0].id",
                      "aws_security_group.this[0]",
                      "aws_security_group.this"
                    ]
                  },
                  "source_security_group_id": {
                    "references": [
                      "each.value.source_security_group_id",
                      "each.value"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "each.value.to_port",
                      "each.value",
                      "local.port"
                    ]
                  },
                  "type": {
                    "constant_value": "egress"
                  }
                },
                "schema_version": 2,
                "for_each_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_security_group",
                    "var.security_group_egress_rules"
                  ]
                }
              },
              {
                "address": "random_id.snapshot_identifier",
                "mode": "managed",
                "type": "random_id",
                "name": "snapshot_identifier",
                "provider_config_key": "module.aurora-db-green:random",
                "expressions": {
                  "byte_length": {
                    "constant_value": 4
                  },
                  "keepers": {
                    "references": [
                      "var.name"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.skip_final_snapshot"
                  ]
                }
              },
              {
                "address": "random_password.master_password",
                "mode": "managed",
                "type": "random_password",
                "name": "master_password",
                "provider_config_key": "module.aurora-db-green:random",
                "expressions": {
                  "length": {
                    "references": [
                      "var.random_password_length"
                    ]
                  },
                  "special": {
                    "constant_value": false
                  }
                },
                "schema_version": 3,
                "count_expression": {
                  "references": [
                    "local.create_cluster",
                    "var.create_random_password"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.monitoring_rds_assume_role",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "monitoring_rds_assume_role",
                "provider_config_key": "aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole"
                        ]
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "monitoring.rds.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ]
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_partition.current",
                "mode": "data",
                "type": "aws_partition",
                "name": "current",
                "provider_config_key": "aws",
                "schema_version": 0
              }
            ],
            "variables": {
              "allocated_storage": {
                "default": null,
                "description": "The amount of storage in gibibytes (GiB) to allocate to each DB instance in the Multi-AZ DB cluster. (This setting is required to create a Multi-AZ DB cluster)"
              },
              "allow_major_version_upgrade": {
                "default": false,
                "description": "Enable to allow major engine version upgrades when changing engine versions. Defaults to `false`"
              },
              "allowed_cidr_blocks": {
                "default": [],
                "description": "A list of CIDR blocks which are allowed to access the database"
              },
              "allowed_security_groups": {
                "default": [],
                "description": "A list of Security Group ID's to allow access to"
              },
              "apply_immediately": {
                "default": null,
                "description": "Specifies whether any cluster modifications are applied immediately, or during the next maintenance window. Default is `false`"
              },
              "auto_minor_version_upgrade": {
                "default": null,
                "description": "Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window. Default `true`"
              },
              "autoscaling_enabled": {
                "default": false,
                "description": "Determines whether autoscaling of the cluster read replicas is enabled"
              },
              "autoscaling_max_capacity": {
                "default": 2,
                "description": "Maximum number of read replicas permitted when autoscaling is enabled"
              },
              "autoscaling_min_capacity": {
                "default": 0,
                "description": "Minimum number of read replicas permitted when autoscaling is enabled"
              },
              "autoscaling_policy_name": {
                "default": "target-metric",
                "description": "Autoscaling policy name"
              },
              "autoscaling_scale_in_cooldown": {
                "default": 300,
                "description": "Cooldown in seconds before allowing further scaling operations after a scale in"
              },
              "autoscaling_scale_out_cooldown": {
                "default": 300,
                "description": "Cooldown in seconds before allowing further scaling operations after a scale out"
              },
              "autoscaling_target_connections": {
                "default": 700,
                "description": "Average number of connections threshold which will initiate autoscaling. Default value is 70% of db.r4/r5/r6g.large's default max_connections"
              },
              "autoscaling_target_cpu": {
                "default": 70,
                "description": "CPU threshold which will initiate autoscaling"
              },
              "availability_zones": {
                "default": null,
                "description": "List of EC2 Availability Zones for the DB cluster storage where DB cluster instances can be created. RDS automatically assigns 3 AZs if less than 3 AZs are configured, which will show as a difference requiring resource recreation next Terraform apply"
              },
              "backtrack_window": {
                "default": null,
                "description": "The target backtrack window, in seconds. Only available for `aurora` engine currently. To disable backtracking, set this value to 0. Must be between 0 and 259200 (72 hours)"
              },
              "backup_retention_period": {
                "default": 7,
                "description": "The days to retain backups for. Default `7`"
              },
              "ca_cert_identifier": {
                "default": null,
                "description": "The identifier of the CA certificate for the DB instance"
              },
              "cluster_members": {
                "default": null,
                "description": "List of RDS Instances that are a part of this cluster"
              },
              "cluster_tags": {
                "default": {},
                "description": "A map of tags to add to only the cluster. Used for AWS Instance Scheduler tagging"
              },
              "cluster_timeouts": {
                "default": {},
                "description": "Create, update, and delete timeout configurations for the cluster"
              },
              "cluster_use_name_prefix": {
                "default": false,
                "description": "Whether to use `name` as a prefix for the cluster"
              },
              "copy_tags_to_snapshot": {
                "default": null,
                "description": "Copy all Cluster `tags` to snapshots"
              },
              "create_cluster": {
                "default": true,
                "description": "Whether cluster should be created (affects nearly all resources)"
              },
              "create_db_cluster_parameter_group": {
                "default": false,
                "description": "Determines whether a cluster parameter should be created or use existing"
              },
              "create_db_parameter_group": {
                "default": false,
                "description": "Determines whether a DB parameter should be created or use existing"
              },
              "create_db_subnet_group": {
                "default": true,
                "description": "Determines whether to create the database subnet group or use existing"
              },
              "create_monitoring_role": {
                "default": true,
                "description": "Determines whether to create the IAM role for RDS enhanced monitoring"
              },
              "create_random_password": {
                "default": true,
                "description": "Determines whether to create random password for RDS primary cluster"
              },
              "create_security_group": {
                "default": true,
                "description": "Determines whether to create security group for RDS cluster"
              },
              "database_name": {
                "default": null,
                "description": "Name for an automatically created database on cluster creation"
              },
              "db_cluster_db_instance_parameter_group_name": {
                "default": null,
                "description": "Instance parameter group to associate with all instances of the DB cluster. The `db_cluster_db_instance_parameter_group_name` is only valid in combination with `allow_major_version_upgrade`"
              },
              "db_cluster_instance_class": {
                "default": null,
                "description": "The compute and memory capacity of each DB instance in the Multi-AZ DB cluster, for example db.m6g.xlarge. Not all DB instance classes are available in all AWS Regions, or for all database engines"
              },
              "db_cluster_parameter_group_description": {
                "default": null,
                "description": "The description of the DB cluster parameter group. Defaults to \"Managed by Terraform\""
              },
              "db_cluster_parameter_group_family": {
                "default": "",
                "description": "The family of the DB cluster parameter group"
              },
              "db_cluster_parameter_group_name": {
                "default": null,
                "description": "The name of the DB cluster parameter group"
              },
              "db_cluster_parameter_group_parameters": {
                "default": [],
                "description": "A list of DB cluster parameters to apply. Note that parameters may differ from a family to an other"
              },
              "db_cluster_parameter_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether the DB cluster parameter group name is used as a prefix"
              },
              "db_parameter_group_description": {
                "default": null,
                "description": "The description of the DB parameter group. Defaults to \"Managed by Terraform\""
              },
              "db_parameter_group_family": {
                "default": "",
                "description": "The family of the DB parameter group"
              },
              "db_parameter_group_name": {
                "default": null,
                "description": "The name of the DB parameter group"
              },
              "db_parameter_group_parameters": {
                "default": [],
                "description": "A list of DB parameters to apply. Note that parameters may differ from a family to an other"
              },
              "db_parameter_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether the DB parameter group name is used as a prefix"
              },
              "db_subnet_group_name": {
                "default": "",
                "description": "The name of the subnet group name (existing or created)"
              },
              "deletion_protection": {
                "default": null,
                "description": "If the DB instance should have deletion protection enabled. The database can't be deleted when this value is set to `true`. The default is `false`"
              },
              "enable_global_write_forwarding": {
                "default": null,
                "description": "Whether cluster should forward writes to an associated global cluster. Applied to secondary clusters to enable them to forward writes to an `aws_rds_global_cluster`'s primary cluster"
              },
              "enable_http_endpoint": {
                "default": null,
                "description": "Enable HTTP endpoint (data API). Only valid when engine_mode is set to `serverless`"
              },
              "enabled_cloudwatch_logs_exports": {
                "default": [],
                "description": "Set of log types to export to cloudwatch. If omitted, no logs will be exported. The following log types are supported: `audit`, `error`, `general`, `slowquery`, `postgresql`"
              },
              "endpoints": {
                "default": {},
                "description": "Map of additional cluster endpoints and their attributes to be created"
              },
              "engine": {
                "default": null,
                "description": "The name of the database engine to be used for this DB cluster. Defaults to `aurora`. Valid Values: `aurora`, `aurora-mysql`, `aurora-postgresql`"
              },
              "engine_mode": {
                "default": null,
                "description": "The database engine mode. Valid values: `global`, `multimaster`, `parallelquery`, `provisioned`, `serverless`. Defaults to: `provisioned`"
              },
              "engine_version": {
                "default": null,
                "description": "The database engine version. Updating this argument results in an outage"
              },
              "final_snapshot_identifier_prefix": {
                "default": "final",
                "description": "The prefix name to use when creating a final snapshot on cluster destroy; a 8 random digits are appended to name to ensure it's unique"
              },
              "global_cluster_identifier": {
                "default": null,
                "description": "The global cluster identifier specified on `aws_rds_global_cluster`"
              },
              "iam_database_authentication_enabled": {
                "default": null,
                "description": "Specifies whether or mappings of AWS Identity and Access Management (IAM) accounts to database accounts is enabled"
              },
              "iam_role_description": {
                "default": null,
                "description": "Description of the monitoring role"
              },
              "iam_role_force_detach_policies": {
                "default": null,
                "description": "Whether to force detaching any policies the monitoring role has before destroying it"
              },
              "iam_role_managed_policy_arns": {
                "default": null,
                "description": "Set of exclusive IAM managed policy ARNs to attach to the monitoring role"
              },
              "iam_role_max_session_duration": {
                "default": null,
                "description": "Maximum session duration (in seconds) that you want to set for the monitoring role"
              },
              "iam_role_name": {
                "default": null,
                "description": "Friendly name of the monitoring role"
              },
              "iam_role_path": {
                "default": null,
                "description": "Path for the monitoring role"
              },
              "iam_role_permissions_boundary": {
                "default": null,
                "description": "The ARN of the policy that is used to set the permissions boundary for the monitoring role"
              },
              "iam_role_use_name_prefix": {
                "default": false,
                "description": "Determines whether to use `iam_role_name` as is or create a unique name beginning with the `iam_role_name` as the prefix"
              },
              "iam_roles": {
                "default": {},
                "description": "Map of IAM roles and supported feature names to associate with the cluster"
              },
              "instance_class": {
                "default": "",
                "description": "Instance type to use at master instance. Note: if `autoscaling_enabled` is `true`, this will be the same instance class used on instances created by autoscaling"
              },
              "instance_timeouts": {
                "default": {},
                "description": "Create, update, and delete timeout configurations for the cluster instance(s)"
              },
              "instances": {
                "default": {},
                "description": "Map of cluster instances and any specific/overriding attributes to be created"
              },
              "instances_use_identifier_prefix": {
                "default": false,
                "description": "Determines whether cluster instance identifiers are used as prefixes"
              },
              "iops": {
                "default": null,
                "description": "The amount of Provisioned IOPS (input/output operations per second) to be initially allocated for each DB instance in the Multi-AZ DB cluster"
              },
              "is_primary_cluster": {
                "default": true,
                "description": "Determines whether cluster is primary cluster with writer instance (set to `false` for global cluster and replica clusters)"
              },
              "kms_key_id": {
                "default": null,
                "description": "The ARN for the KMS encryption key. When specifying `kms_key_id`, `storage_encrypted` needs to be set to `true`"
              },
              "master_password": {
                "default": null,
                "description": "Password for the master DB user. Note - when specifying a value here, 'create_random_password' should be set to `false`"
              },
              "master_username": {
                "default": "root",
                "description": "Username for the master DB user"
              },
              "monitoring_interval": {
                "default": 0,
                "description": "The interval, in seconds, between points when Enhanced Monitoring metrics are collected for instances. Set to `0` to disable. Default is `0`"
              },
              "monitoring_role_arn": {
                "default": "",
                "description": "IAM role used by RDS to send enhanced monitoring metrics to CloudWatch"
              },
              "name": {
                "default": "",
                "description": "Name used across resources created"
              },
              "network_type": {
                "default": null,
                "description": "The type of network stack to use (IPV4 or DUAL)"
              },
              "performance_insights_enabled": {
                "default": null,
                "description": "Specifies whether Performance Insights is enabled or not"
              },
              "performance_insights_kms_key_id": {
                "default": null,
                "description": "The ARN for the KMS key to encrypt Performance Insights data"
              },
              "performance_insights_retention_period": {
                "default": null,
                "description": "Amount of time in days to retain Performance Insights data. Either 7 (7 days) or 731 (2 years)"
              },
              "port": {
                "default": null,
                "description": "The port on which the DB accepts connections"
              },
              "predefined_metric_type": {
                "default": "RDSReaderAverageCPUUtilization",
                "description": "The metric type to scale on. Valid values are `RDSReaderAverageCPUUtilization` and `RDSReaderAverageDatabaseConnections`"
              },
              "preferred_backup_window": {
                "default": "02:00-03:00",
                "description": "The daily time range during which automated backups are created if automated backups are enabled using the `backup_retention_period` parameter. Time in UTC"
              },
              "preferred_maintenance_window": {
                "default": "sun:05:00-sun:06:00",
                "description": "The weekly time range during which system maintenance can occur, in (UTC)"
              },
              "publicly_accessible": {
                "default": null,
                "description": "Determines whether instances are publicly accessible. Default false"
              },
              "putin_khuylo": {
                "default": true,
                "description": "Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
              },
              "random_password_length": {
                "default": 10,
                "description": "Length of random password to create. Defaults to `10`"
              },
              "replication_source_identifier": {
                "default": null,
                "description": "ARN of a source DB cluster or DB instance if this DB cluster is to be created as a Read Replica"
              },
              "restore_to_point_in_time": {
                "default": {},
                "description": "Map of nested attributes for cloning Aurora cluster"
              },
              "s3_import": {
                "default": {},
                "description": "Configuration map used to restore from a Percona Xtrabackup in S3 (only MySQL is supported)"
              },
              "scaling_configuration": {
                "default": {},
                "description": "Map of nested attributes with scaling properties. Only valid when `engine_mode` is set to `serverless`"
              },
              "security_group_description": {
                "default": null,
                "description": "The description of the security group. If value is set to empty string it will contain cluster name in the description"
              },
              "security_group_egress_rules": {
                "default": {},
                "description": "A map of security group egress rule definitions to add to the security group created"
              },
              "security_group_tags": {
                "default": {},
                "description": "Additional tags for the security group"
              },
              "security_group_use_name_prefix": {
                "default": true,
                "description": "Determines whether the security group name (`name`) is used as a prefix"
              },
              "serverlessv2_scaling_configuration": {
                "default": {},
                "description": "Map of nested attributes with serverless v2 scaling properties. Only valid when `engine_mode` is set to `provisioned`"
              },
              "skip_final_snapshot": {
                "default": false,
                "description": "Determines whether a final snapshot is created before the cluster is deleted. If true is specified, no snapshot is created"
              },
              "snapshot_identifier": {
                "default": null,
                "description": "Specifies whether or not to create this cluster from a snapshot. You can use either the name or ARN when specifying a DB cluster snapshot, or the ARN when specifying a DB snapshot"
              },
              "source_region": {
                "default": null,
                "description": "The source region for an encrypted replica DB cluster"
              },
              "storage_encrypted": {
                "default": true,
                "description": "Specifies whether the DB cluster is encrypted. The default is `true`"
              },
              "storage_type": {
                "default": null,
                "description": "Specifies the storage type to be associated with the DB cluster. (This setting is required to create a Multi-AZ DB cluster). Valid values: `io1`, Default: `io1`"
              },
              "subnets": {
                "default": [],
                "description": "List of subnet IDs used by database subnet group created"
              },
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "vpc_id": {
                "default": "",
                "description": "ID of the VPC where to create security group"
              },
              "vpc_security_group_ids": {
                "default": [],
                "description": "List of VPC security groups to associate to the cluster in addition to the SG we create in this module"
              }
            }
          },
          "version_constraint": "7.6.0"
        },
        "iriusrisk_alb": {
          "source": "terraform-aws-modules/alb/aws",
          "expressions": {
            "enable_deletion_protection": {
              "constant_value": false
            },
            "http_tcp_listeners": {
              "constant_value": [
                {
                  "action_type": "redirect",
                  "port": 80,
                  "protocol": "HTTP",
                  "redirect": {
                    "port": "443",
                    "protocol": "HTTPS",
                    "status_code": "HTTP_302"
                  }
                }
              ]
            },
            "https_listener_rules": {
              "constant_value": [
                {
                  "actions": [
                    {
                      "target_group_index": 1,
                      "type": "forward"
                    }
                  ],
                  "conditions": [
                    {
                      "path_patterns": [
                        "/api/*",
                        "/api"
                      ]
                    }
                  ],
                  "https_listener_index": 0
                }
              ]
            },
            "https_listeners": {
              "references": [
                "var.certificate_arn"
              ]
            },
            "idle_timeout": {
              "constant_value": 900
            },
            "load_balancer_type": {
              "constant_value": "application"
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "security_groups": {
              "references": [
                "aws_security_group.alb.id",
                "aws_security_group.alb"
              ]
            },
            "subnets": {
              "references": [
                "module.vpc.public_subnets",
                "module.vpc"
              ]
            },
            "tags": {
              "references": [
                "local.default_tags",
                "var.stack_name"
              ]
            },
            "target_groups": {
              "references": [
                "var.stack_name",
                "var.stack_name"
              ]
            },
            "vpc_id": {
              "references": [
                "module.vpc.vpc_id",
                "module.vpc"
              ]
            }
          },
          "module": {
            "outputs": {
              "http_tcp_listener_arns": {
                "expression": {
                  "references": [
                    "aws_lb_listener.frontend_http_tcp"
                  ]
                },
                "description": "The ARN of the TCP and HTTP load balancer listeners created."
              },
              "http_tcp_listener_ids": {
                "expression": {
                  "references": [
                    "aws_lb_listener.frontend_http_tcp"
                  ]
                },
                "description": "The IDs of the TCP and HTTP load balancer listeners created."
              },
              "https_listener_arns": {
                "expression": {
                  "references": [
                    "aws_lb_listener.frontend_https"
                  ]
                },
                "description": "The ARNs of the HTTPS load balancer listeners created."
              },
              "https_listener_ids": {
                "expression": {
                  "references": [
                    "aws_lb_listener.frontend_https"
                  ]
                },
                "description": "The IDs of the load balancer listeners created."
              },
              "lb_arn": {
                "expression": {
                  "references": [
                    "aws_lb.this"
                  ]
                },
                "description": "The ID and ARN of the load balancer we created."
              },
              "lb_arn_suffix": {
                "expression": {
                  "references": [
                    "aws_lb.this"
                  ]
                },
                "description": "ARN suffix of our load balancer - can be used with CloudWatch."
              },
              "lb_dns_name": {
                "expression": {
                  "references": [
                    "aws_lb.this"
                  ]
                },
                "description": "The DNS name of the load balancer."
              },
              "lb_id": {
                "expression": {
                  "references": [
                    "aws_lb.this"
                  ]
                },
                "description": "The ID and ARN of the load balancer we created."
              },
              "lb_zone_id": {
                "expression": {
                  "references": [
                    "aws_lb.this"
                  ]
                },
                "description": "The zone_id of the load balancer to assist with creating DNS records."
              },
              "target_group_arn_suffixes": {
                "expression": {
                  "references": [
                    "aws_lb_target_group.main"
                  ]
                },
                "description": "ARN suffixes of our target groups - can be used with CloudWatch."
              },
              "target_group_arns": {
                "expression": {
                  "references": [
                    "aws_lb_target_group.main"
                  ]
                },
                "description": "ARNs of the target groups. Useful for passing to your Auto Scaling group."
              },
              "target_group_attachments": {
                "expression": {
                  "references": [
                    "aws_lb_target_group_attachment.this"
                  ]
                },
                "description": "ARNs of the target group attachment IDs."
              },
              "target_group_names": {
                "expression": {
                  "references": [
                    "aws_lb_target_group.main"
                  ]
                },
                "description": "Name of the target group. Useful for passing to your CodeDeploy Deployment Group."
              }
            },
            "resources": [
              {
                "address": "aws_lambda_permission.lb",
                "mode": "managed",
                "type": "aws_lambda_permission",
                "name": "lb",
                "provider_config_key": "aws",
                "expressions": {
                  "action": {
                    "references": [
                      "each.value.lambda_action",
                      "each.value"
                    ]
                  },
                  "event_source_token": {
                    "references": [
                      "each.value.lambda_event_source_token",
                      "each.value"
                    ]
                  },
                  "function_name": {
                    "references": [
                      "each.value.lambda_function_name",
                      "each.value"
                    ]
                  },
                  "principal": {
                    "references": [
                      "each.value.lambda_principal",
                      "each.value"
                    ]
                  },
                  "qualifier": {
                    "references": [
                      "each.value.lambda_qualifier",
                      "each.value"
                    ]
                  },
                  "source_account": {
                    "references": [
                      "each.value.lambda_source_account",
                      "each.value"
                    ]
                  },
                  "source_arn": {
                    "references": [
                      "aws_lb_target_group.main",
                      "each.value.tg_index",
                      "each.value"
                    ]
                  },
                  "statement_id": {
                    "references": [
                      "each.value.lambda_statement_id",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.target_group_attachments_lambda",
                    "local.create_lb"
                  ]
                }
              },
              {
                "address": "aws_lb.this",
                "mode": "managed",
                "type": "aws_lb",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "desync_mitigation_mode": {
                    "references": [
                      "var.desync_mitigation_mode"
                    ]
                  },
                  "drop_invalid_header_fields": {
                    "references": [
                      "var.drop_invalid_header_fields"
                    ]
                  },
                  "enable_cross_zone_load_balancing": {
                    "references": [
                      "var.enable_cross_zone_load_balancing"
                    ]
                  },
                  "enable_deletion_protection": {
                    "references": [
                      "var.enable_deletion_protection"
                    ]
                  },
                  "enable_http2": {
                    "references": [
                      "var.enable_http2"
                    ]
                  },
                  "enable_waf_fail_open": {
                    "references": [
                      "var.enable_waf_fail_open"
                    ]
                  },
                  "idle_timeout": {
                    "references": [
                      "var.idle_timeout"
                    ]
                  },
                  "internal": {
                    "references": [
                      "var.internal"
                    ]
                  },
                  "ip_address_type": {
                    "references": [
                      "var.ip_address_type"
                    ]
                  },
                  "load_balancer_type": {
                    "references": [
                      "var.load_balancer_type"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "security_groups": {
                    "references": [
                      "var.security_groups"
                    ]
                  },
                  "subnets": {
                    "references": [
                      "var.subnets"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.lb_tags",
                      "var.name",
                      "var.name",
                      "var.name_prefix"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "references": [
                        "var.load_balancer_create_timeout"
                      ]
                    },
                    "delete": {
                      "references": [
                        "var.load_balancer_delete_timeout"
                      ]
                    },
                    "update": {
                      "references": [
                        "var.load_balancer_update_timeout"
                      ]
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_lb"
                  ]
                }
              },
              {
                "address": "aws_lb_listener.frontend_http_tcp",
                "mode": "managed",
                "type": "aws_lb_listener",
                "name": "frontend_http_tcp",
                "provider_config_key": "aws",
                "expressions": {
                  "load_balancer_arn": {
                    "references": [
                      "aws_lb.this[0].arn",
                      "aws_lb.this[0]",
                      "aws_lb.this"
                    ]
                  },
                  "port": {
                    "references": [
                      "var.http_tcp_listeners",
                      "count.index"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.http_tcp_listeners",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.http_tcp_listeners_tags",
                      "var.http_tcp_listeners",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_lb",
                    "var.http_tcp_listeners"
                  ]
                }
              },
              {
                "address": "aws_lb_listener.frontend_https",
                "mode": "managed",
                "type": "aws_lb_listener",
                "name": "frontend_https",
                "provider_config_key": "aws",
                "expressions": {
                  "alpn_policy": {
                    "references": [
                      "var.https_listeners",
                      "count.index"
                    ]
                  },
                  "certificate_arn": {
                    "references": [
                      "var.https_listeners",
                      "count.index"
                    ]
                  },
                  "load_balancer_arn": {
                    "references": [
                      "aws_lb.this[0].arn",
                      "aws_lb.this[0]",
                      "aws_lb.this"
                    ]
                  },
                  "port": {
                    "references": [
                      "var.https_listeners",
                      "count.index"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.https_listeners",
                      "count.index"
                    ]
                  },
                  "ssl_policy": {
                    "references": [
                      "var.https_listeners",
                      "count.index",
                      "var.listener_ssl_policy_default"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.https_listeners_tags",
                      "var.https_listeners",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_lb",
                    "var.https_listeners"
                  ]
                }
              },
              {
                "address": "aws_lb_listener_certificate.https_listener",
                "mode": "managed",
                "type": "aws_lb_listener_certificate",
                "name": "https_listener",
                "provider_config_key": "aws",
                "expressions": {
                  "certificate_arn": {
                    "references": [
                      "var.extra_ssl_certs",
                      "count.index"
                    ]
                  },
                  "listener_arn": {
                    "references": [
                      "aws_lb_listener.frontend_https",
                      "var.extra_ssl_certs",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_lb",
                    "var.extra_ssl_certs"
                  ]
                }
              },
              {
                "address": "aws_lb_listener_rule.http_tcp_listener_rule",
                "mode": "managed",
                "type": "aws_lb_listener_rule",
                "name": "http_tcp_listener_rule",
                "provider_config_key": "aws",
                "expressions": {
                  "listener_arn": {
                    "references": [
                      "aws_lb_listener.frontend_http_tcp",
                      "var.http_tcp_listener_rules",
                      "count.index",
                      "count.index"
                    ]
                  },
                  "priority": {
                    "references": [
                      "var.http_tcp_listener_rules",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.http_tcp_listener_rules_tags",
                      "var.http_tcp_listener_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_lb",
                    "var.http_tcp_listener_rules"
                  ]
                }
              },
              {
                "address": "aws_lb_listener_rule.https_listener_rule",
                "mode": "managed",
                "type": "aws_lb_listener_rule",
                "name": "https_listener_rule",
                "provider_config_key": "aws",
                "expressions": {
                  "listener_arn": {
                    "references": [
                      "aws_lb_listener.frontend_https",
                      "var.https_listener_rules",
                      "count.index",
                      "count.index"
                    ]
                  },
                  "priority": {
                    "references": [
                      "var.https_listener_rules",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.https_listener_rules_tags",
                      "var.https_listener_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_lb",
                    "var.https_listener_rules"
                  ]
                }
              },
              {
                "address": "aws_lb_target_group.main",
                "mode": "managed",
                "type": "aws_lb_target_group",
                "name": "main",
                "provider_config_key": "aws",
                "expressions": {
                  "connection_termination": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "deregistration_delay": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "ip_address_type": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "lambda_multi_value_headers_enabled": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "load_balancing_algorithm_type": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "name_prefix": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "port": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "preserve_client_ip": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.target_groups",
                      "count.index",
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "protocol_version": {
                    "references": [
                      "var.target_groups",
                      "count.index",
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "proxy_protocol_v2": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "slow_start": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.target_group_tags",
                      "var.target_groups",
                      "count.index",
                      "var.target_groups",
                      "count.index",
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "target_type": {
                    "references": [
                      "var.target_groups",
                      "count.index"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_lb",
                    "var.target_groups"
                  ]
                }
              },
              {
                "address": "aws_lb_target_group_attachment.this",
                "mode": "managed",
                "type": "aws_lb_target_group_attachment",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "availability_zone": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "port": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "target_group_arn": {
                    "references": [
                      "aws_lb_target_group.main",
                      "each.value.tg_index",
                      "each.value"
                    ]
                  },
                  "target_id": {
                    "references": [
                      "each.value.target_id",
                      "each.value"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "local.target_group_attachments",
                    "local.create_lb"
                  ]
                },
                "depends_on": [
                  "aws_lambda_permission.lb"
                ]
              }
            ],
            "variables": {
              "access_logs": {
                "default": {},
                "description": "Map containing access logging configuration for load balancer."
              },
              "create_lb": {
                "default": true,
                "description": "Controls if the Load Balancer should be created"
              },
              "desync_mitigation_mode": {
                "default": "defensive",
                "description": "Determines how the load balancer handles requests that might pose a security risk to an application due to HTTP desync."
              },
              "drop_invalid_header_fields": {
                "default": false,
                "description": "Indicates whether invalid header fields are dropped in application load balancers. Defaults to false."
              },
              "enable_cross_zone_load_balancing": {
                "default": false,
                "description": "Indicates whether cross zone load balancing should be enabled in application load balancers."
              },
              "enable_deletion_protection": {
                "default": false,
                "description": "If true, deletion of the load balancer will be disabled via the AWS API. This will prevent Terraform from deleting the load balancer. Defaults to false."
              },
              "enable_http2": {
                "default": true,
                "description": "Indicates whether HTTP/2 is enabled in application load balancers."
              },
              "enable_waf_fail_open": {
                "default": false,
                "description": "Indicates whether to route requests to targets if lb fails to forward the request to AWS WAF"
              },
              "extra_ssl_certs": {
                "default": [],
                "description": "A list of maps describing any extra SSL certificates to apply to the HTTPS listeners. Required key/values: certificate_arn, https_listener_index (the index of the listener within https_listeners which the cert applies toward)."
              },
              "http_tcp_listener_rules": {
                "default": [],
                "description": "A list of maps describing the Listener Rules for this ALB. Required key/values: actions, conditions. Optional key/values: priority, http_tcp_listener_index (default to http_tcp_listeners[count.index])"
              },
              "http_tcp_listener_rules_tags": {
                "default": {},
                "description": "A map of tags to add to all http listener rules"
              },
              "http_tcp_listeners": {
                "default": [],
                "description": "A list of maps describing the HTTP listeners or TCP ports for this ALB. Required key/values: port, protocol. Optional key/values: target_group_index (defaults to http_tcp_listeners[count.index])"
              },
              "http_tcp_listeners_tags": {
                "default": {},
                "description": "A map of tags to add to all http listeners"
              },
              "https_listener_rules": {
                "default": [],
                "description": "A list of maps describing the Listener Rules for this ALB. Required key/values: actions, conditions. Optional key/values: priority, https_listener_index (default to https_listeners[count.index])"
              },
              "https_listener_rules_tags": {
                "default": {},
                "description": "A map of tags to add to all https listener rules"
              },
              "https_listeners": {
                "default": [],
                "description": "A list of maps describing the HTTPS listeners for this ALB. Required key/values: port, certificate_arn. Optional key/values: ssl_policy (defaults to ELBSecurityPolicy-2016-08), target_group_index (defaults to https_listeners[count.index])"
              },
              "https_listeners_tags": {
                "default": {},
                "description": "A map of tags to add to all https listeners"
              },
              "idle_timeout": {
                "default": 60,
                "description": "The time in seconds that the connection is allowed to be idle."
              },
              "internal": {
                "default": false,
                "description": "Boolean determining if the load balancer is internal or externally facing."
              },
              "ip_address_type": {
                "default": "ipv4",
                "description": "The type of IP addresses used by the subnets for your load balancer. The possible values are ipv4 and dualstack."
              },
              "lb_tags": {
                "default": {},
                "description": "A map of tags to add to load balancer"
              },
              "listener_ssl_policy_default": {
                "default": "ELBSecurityPolicy-2016-08",
                "description": "The security policy if using HTTPS externally on the load balancer. [See](https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-security-policy-table.html)."
              },
              "load_balancer_create_timeout": {
                "default": "10m",
                "description": "Timeout value when creating the ALB."
              },
              "load_balancer_delete_timeout": {
                "default": "10m",
                "description": "Timeout value when deleting the ALB."
              },
              "load_balancer_type": {
                "default": "application",
                "description": "The type of load balancer to create. Possible values are application or network."
              },
              "load_balancer_update_timeout": {
                "default": "10m",
                "description": "Timeout value when updating the ALB."
              },
              "name": {
                "default": null,
                "description": "The resource name and Name tag of the load balancer."
              },
              "name_prefix": {
                "default": null,
                "description": "The resource name prefix and Name tag of the load balancer. Cannot be longer than 6 characters"
              },
              "putin_khuylo": {
                "default": true,
                "description": "Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
              },
              "security_groups": {
                "default": [],
                "description": "The security groups to attach to the load balancer. e.g. [\"sg-edcd9784\",\"sg-edcd9785\"]"
              },
              "subnet_mapping": {
                "default": [],
                "description": "A list of subnet mapping blocks describing subnets to attach to network load balancer"
              },
              "subnets": {
                "default": null,
                "description": "A list of subnets to associate with the load balancer. e.g. ['subnet-1a2b3c4d','subnet-1a2b3c4e','subnet-1a2b3c4f']"
              },
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "target_group_tags": {
                "default": {},
                "description": "A map of tags to add to all target groups"
              },
              "target_groups": {
                "default": [],
                "description": "A list of maps containing key/value pairs that define the target groups to be created. Order of these maps is important and the index of these are to be referenced in listener definitions. Required key/values: name, backend_protocol, backend_port"
              },
              "vpc_id": {
                "default": null,
                "description": "VPC id where the load balancer and other resources will be deployed."
              }
            }
          },
          "version_constraint": "8.1.0"
        },
        "synthetic_monitor": {
          "source": "git@bitbucket.org:continuumsec/terraform-aws-synthetic-monitor-module.git",
          "expressions": {
            "aws_region": {
              "references": [
                "var.aws_region"
              ]
            },
            "dns_name": {
              "references": [
                "local.web_endpoint"
              ]
            }
          },
          "count_expression": {
            "references": [
              "var.create_synthetic_monitor"
            ]
          },
          "module": {
            "outputs": {
              "alert_condition_name": {
                "expression": {
                  "references": [
                    "newrelic_synthetics_alert_condition.condition.name",
                    "newrelic_synthetics_alert_condition.condition"
                  ]
                }
              },
              "policy_name": {
                "expression": {
                  "references": [
                    "data.newrelic_alert_policy.policy.name",
                    "data.newrelic_alert_policy.policy"
                  ]
                }
              },
              "synthetic_monitor_frequency": {
                "expression": {
                  "references": [
                    "newrelic_synthetics_monitor.monitor.frequency",
                    "newrelic_synthetics_monitor.monitor"
                  ]
                }
              },
              "synthetic_monitor_name": {
                "expression": {
                  "references": [
                    "newrelic_synthetics_monitor.monitor.name",
                    "newrelic_synthetics_monitor.monitor"
                  ]
                }
              },
              "synthetic_monitor_uri": {
                "expression": {
                  "references": [
                    "newrelic_synthetics_monitor.monitor.uri",
                    "newrelic_synthetics_monitor.monitor"
                  ]
                }
              }
            },
            "resources": [
              {
                "address": "newrelic_synthetics_alert_condition.condition",
                "mode": "managed",
                "type": "newrelic_synthetics_alert_condition",
                "name": "condition",
                "provider_config_key": "newrelic",
                "expressions": {
                  "enabled": {
                    "constant_value": true
                  },
                  "monitor_id": {
                    "references": [
                      "newrelic_synthetics_monitor.monitor.id",
                      "newrelic_synthetics_monitor.monitor"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.dns_name"
                    ]
                  },
                  "policy_id": {
                    "references": [
                      "data.newrelic_alert_policy.policy.id",
                      "data.newrelic_alert_policy.policy"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "newrelic_synthetics_monitor.monitor",
                "mode": "managed",
                "type": "newrelic_synthetics_monitor",
                "name": "monitor",
                "provider_config_key": "newrelic",
                "expressions": {
                  "frequency": {
                    "references": [
                      "var.frequency"
                    ]
                  },
                  "locations": {
                    "references": [
                      "var.aws_region"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.dns_name"
                    ]
                  },
                  "status": {
                    "constant_value": "ENABLED"
                  },
                  "type": {
                    "constant_value": "BROWSER"
                  },
                  "uri": {
                    "references": [
                      "local.health_endpoint"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "data.newrelic_alert_policy.policy",
                "mode": "data",
                "type": "newrelic_alert_policy",
                "name": "policy",
                "provider_config_key": "newrelic",
                "expressions": {
                  "name": {
                    "references": [
                      "var.policy_name"
                    ]
                  }
                },
                "schema_version": 0
              }
            ],
            "variables": {
              "aws_region": {
                "description": "WAS region where the resource will be created"
              },
              "dns_name": {
                "description": "DNS name"
              },
              "frequency": {
                "default": 15,
                "description": "Synthetic monitor frequency"
              },
              "health_endpoint": {
                "default": "",
                "description": "Health check endpoint"
              },
              "policy_name": {
                "default": "policy-synthetics-health",
                "description": "New Relic policy name"
              }
            }
          }
        },
        "vpc": {
          "source": "terraform-aws-modules/vpc/aws",
          "expressions": {
            "azs": {
              "references": [
                "var.availability_zones"
              ]
            },
            "cidr": {
              "references": [
                "var.vpc_cidr"
              ]
            },
            "enable_dns_hostnames": {
              "constant_value": true
            },
            "enable_dns_support": {
              "constant_value": true
            },
            "name": {
              "references": [
                "var.stack_name"
              ]
            },
            "private_subnets": {
              "references": [
                "var.private_subnet_cidrs"
              ]
            },
            "public_subnets": {
              "references": [
                "var.public_subnet_cidrs"
              ]
            },
            "tags": {
              "references": [
                "local.default_tags"
              ]
            }
          },
          "module": {
            "outputs": {
              "azs": {
                "expression": {
                  "references": [
                    "var.azs"
                  ]
                },
                "description": "A list of availability zones specified as argument to this module"
              },
              "cgw_arns": {
                "expression": {
                  "references": [
                    "aws_customer_gateway.this"
                  ]
                },
                "description": "List of ARNs of Customer Gateway"
              },
              "cgw_ids": {
                "expression": {
                  "references": [
                    "aws_customer_gateway.this"
                  ]
                },
                "description": "List of IDs of Customer Gateway"
              },
              "database_internet_gateway_route_id": {
                "expression": {
                  "references": [
                    "aws_route.database_internet_gateway[0].id",
                    "aws_route.database_internet_gateway[0]",
                    "aws_route.database_internet_gateway"
                  ]
                },
                "description": "ID of the database internet gateway route"
              },
              "database_ipv6_egress_route_id": {
                "expression": {
                  "references": [
                    "aws_route.database_ipv6_egress[0].id",
                    "aws_route.database_ipv6_egress[0]",
                    "aws_route.database_ipv6_egress"
                  ]
                },
                "description": "ID of the database IPv6 egress route"
              },
              "database_nat_gateway_route_ids": {
                "expression": {
                  "references": [
                    "aws_route.database_nat_gateway"
                  ]
                },
                "description": "List of IDs of the database nat gateway route"
              },
              "database_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.database[0].arn",
                    "aws_network_acl.database[0]",
                    "aws_network_acl.database"
                  ]
                },
                "description": "ARN of the database network ACL"
              },
              "database_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.database[0].id",
                    "aws_network_acl.database[0]",
                    "aws_network_acl.database"
                  ]
                },
                "description": "ID of the database network ACL"
              },
              "database_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.database"
                  ]
                },
                "description": "List of IDs of the database route table association"
              },
              "database_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.database",
                    "aws_route_table.private"
                  ]
                },
                "description": "List of IDs of database route tables"
              },
              "database_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of ARNs of database subnets"
              },
              "database_subnet_group": {
                "expression": {
                  "references": [
                    "aws_db_subnet_group.database[0].id",
                    "aws_db_subnet_group.database[0]",
                    "aws_db_subnet_group.database"
                  ]
                },
                "description": "ID of database subnet group"
              },
              "database_subnet_group_name": {
                "expression": {
                  "references": [
                    "aws_db_subnet_group.database[0].name",
                    "aws_db_subnet_group.database[0]",
                    "aws_db_subnet_group.database"
                  ]
                },
                "description": "Name of database subnet group"
              },
              "database_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of IDs of database subnets"
              },
              "database_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of cidr_blocks of database subnets"
              },
              "database_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.database"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of database subnets in an IPv6 enabled VPC"
              },
              "default_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].default_network_acl_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the default network ACL"
              },
              "default_route_table_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].default_route_table_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the default route table"
              },
              "default_security_group_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].default_security_group_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the security group created by default on VPC creation"
              },
              "default_vpc_arn": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].arn",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ARN of the Default VPC"
              },
              "default_vpc_cidr_block": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].cidr_block",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The CIDR block of the Default VPC"
              },
              "default_vpc_default_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].default_network_acl_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the default network ACL of the Default VPC"
              },
              "default_vpc_default_route_table_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].default_route_table_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the default route table of the Default VPC"
              },
              "default_vpc_default_security_group_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].default_security_group_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the security group created by default on Default VPC creation"
              },
              "default_vpc_enable_dns_hostnames": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].enable_dns_hostnames",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "Whether or not the Default VPC has DNS hostname support"
              },
              "default_vpc_enable_dns_support": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].enable_dns_support",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "Whether or not the Default VPC has DNS support"
              },
              "default_vpc_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the Default VPC"
              },
              "default_vpc_instance_tenancy": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].instance_tenancy",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "Tenancy of instances spin up within Default VPC"
              },
              "default_vpc_main_route_table_id": {
                "expression": {
                  "references": [
                    "aws_default_vpc.this[0].main_route_table_id",
                    "aws_default_vpc.this[0]",
                    "aws_default_vpc.this"
                  ]
                },
                "description": "The ID of the main route table associated with the Default VPC"
              },
              "dhcp_options_id": {
                "expression": {
                  "references": [
                    "aws_vpc_dhcp_options.this[0].id",
                    "aws_vpc_dhcp_options.this[0]",
                    "aws_vpc_dhcp_options.this"
                  ]
                },
                "description": "The ID of the DHCP options"
              },
              "egress_only_internet_gateway_id": {
                "expression": {
                  "references": [
                    "aws_egress_only_internet_gateway.this[0].id",
                    "aws_egress_only_internet_gateway.this[0]",
                    "aws_egress_only_internet_gateway.this"
                  ]
                },
                "description": "The ID of the egress only Internet Gateway"
              },
              "elasticache_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.elasticache[0].arn",
                    "aws_network_acl.elasticache[0]",
                    "aws_network_acl.elasticache"
                  ]
                },
                "description": "ARN of the elasticache network ACL"
              },
              "elasticache_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.elasticache[0].id",
                    "aws_network_acl.elasticache[0]",
                    "aws_network_acl.elasticache"
                  ]
                },
                "description": "ID of the elasticache network ACL"
              },
              "elasticache_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.elasticache"
                  ]
                },
                "description": "List of IDs of the elasticache route table association"
              },
              "elasticache_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.elasticache",
                    "aws_route_table.private"
                  ]
                },
                "description": "List of IDs of elasticache route tables"
              },
              "elasticache_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of ARNs of elasticache subnets"
              },
              "elasticache_subnet_group": {
                "expression": {
                  "references": [
                    "aws_elasticache_subnet_group.elasticache[0].id",
                    "aws_elasticache_subnet_group.elasticache[0]",
                    "aws_elasticache_subnet_group.elasticache"
                  ]
                },
                "description": "ID of elasticache subnet group"
              },
              "elasticache_subnet_group_name": {
                "expression": {
                  "references": [
                    "aws_elasticache_subnet_group.elasticache[0].name",
                    "aws_elasticache_subnet_group.elasticache[0]",
                    "aws_elasticache_subnet_group.elasticache"
                  ]
                },
                "description": "Name of elasticache subnet group"
              },
              "elasticache_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of IDs of elasticache subnets"
              },
              "elasticache_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of cidr_blocks of elasticache subnets"
              },
              "elasticache_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.elasticache"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of elasticache subnets in an IPv6 enabled VPC"
              },
              "igw_arn": {
                "expression": {
                  "references": [
                    "aws_internet_gateway.this[0].arn",
                    "aws_internet_gateway.this[0]",
                    "aws_internet_gateway.this"
                  ]
                },
                "description": "The ARN of the Internet Gateway"
              },
              "igw_id": {
                "expression": {
                  "references": [
                    "aws_internet_gateway.this[0].id",
                    "aws_internet_gateway.this[0]",
                    "aws_internet_gateway.this"
                  ]
                },
                "description": "The ID of the Internet Gateway"
              },
              "intra_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.intra[0].arn",
                    "aws_network_acl.intra[0]",
                    "aws_network_acl.intra"
                  ]
                },
                "description": "ARN of the intra network ACL"
              },
              "intra_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.intra[0].id",
                    "aws_network_acl.intra[0]",
                    "aws_network_acl.intra"
                  ]
                },
                "description": "ID of the intra network ACL"
              },
              "intra_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.intra"
                  ]
                },
                "description": "List of IDs of the intra route table association"
              },
              "intra_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.intra"
                  ]
                },
                "description": "List of IDs of intra route tables"
              },
              "intra_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of ARNs of intra subnets"
              },
              "intra_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of IDs of intra subnets"
              },
              "intra_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of cidr_blocks of intra subnets"
              },
              "intra_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.intra"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of intra subnets in an IPv6 enabled VPC"
              },
              "name": {
                "expression": {
                  "references": [
                    "var.name"
                  ]
                },
                "description": "The name of the VPC specified as argument to this module"
              },
              "nat_ids": {
                "expression": {
                  "references": [
                    "aws_eip.nat"
                  ]
                },
                "description": "List of allocation ID of Elastic IPs created for AWS NAT Gateway"
              },
              "nat_public_ips": {
                "expression": {
                  "references": [
                    "var.reuse_nat_ips",
                    "var.external_nat_ips",
                    "aws_eip.nat"
                  ]
                },
                "description": "List of public Elastic IPs created for AWS NAT Gateway"
              },
              "natgw_ids": {
                "expression": {
                  "references": [
                    "aws_nat_gateway.this"
                  ]
                },
                "description": "List of NAT Gateway IDs"
              },
              "outpost_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.outpost[0].arn",
                    "aws_network_acl.outpost[0]",
                    "aws_network_acl.outpost"
                  ]
                },
                "description": "ARN of the outpost network ACL"
              },
              "outpost_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.outpost[0].id",
                    "aws_network_acl.outpost[0]",
                    "aws_network_acl.outpost"
                  ]
                },
                "description": "ID of the outpost network ACL"
              },
              "outpost_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of ARNs of outpost subnets"
              },
              "outpost_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of IDs of outpost subnets"
              },
              "outpost_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of cidr_blocks of outpost subnets"
              },
              "outpost_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.outpost"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of outpost subnets in an IPv6 enabled VPC"
              },
              "private_ipv6_egress_route_ids": {
                "expression": {
                  "references": [
                    "aws_route.private_ipv6_egress"
                  ]
                },
                "description": "List of IDs of the ipv6 egress route"
              },
              "private_nat_gateway_route_ids": {
                "expression": {
                  "references": [
                    "aws_route.private_nat_gateway"
                  ]
                },
                "description": "List of IDs of the private nat gateway route"
              },
              "private_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.private[0].arn",
                    "aws_network_acl.private[0]",
                    "aws_network_acl.private"
                  ]
                },
                "description": "ARN of the private network ACL"
              },
              "private_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.private[0].id",
                    "aws_network_acl.private[0]",
                    "aws_network_acl.private"
                  ]
                },
                "description": "ID of the private network ACL"
              },
              "private_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.private"
                  ]
                },
                "description": "List of IDs of the private route table association"
              },
              "private_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.private"
                  ]
                },
                "description": "List of IDs of private route tables"
              },
              "private_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of ARNs of private subnets"
              },
              "private_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of IDs of private subnets"
              },
              "private_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of cidr_blocks of private subnets"
              },
              "private_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.private"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of private subnets in an IPv6 enabled VPC"
              },
              "public_internet_gateway_ipv6_route_id": {
                "expression": {
                  "references": [
                    "aws_route.public_internet_gateway_ipv6[0].id",
                    "aws_route.public_internet_gateway_ipv6[0]",
                    "aws_route.public_internet_gateway_ipv6"
                  ]
                },
                "description": "ID of the IPv6 internet gateway route"
              },
              "public_internet_gateway_route_id": {
                "expression": {
                  "references": [
                    "aws_route.public_internet_gateway[0].id",
                    "aws_route.public_internet_gateway[0]",
                    "aws_route.public_internet_gateway"
                  ]
                },
                "description": "ID of the internet gateway route"
              },
              "public_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.public[0].arn",
                    "aws_network_acl.public[0]",
                    "aws_network_acl.public"
                  ]
                },
                "description": "ARN of the public network ACL"
              },
              "public_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.public[0].id",
                    "aws_network_acl.public[0]",
                    "aws_network_acl.public"
                  ]
                },
                "description": "ID of the public network ACL"
              },
              "public_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.public"
                  ]
                },
                "description": "List of IDs of the public route table association"
              },
              "public_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.public"
                  ]
                },
                "description": "List of IDs of public route tables"
              },
              "public_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of ARNs of public subnets"
              },
              "public_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of IDs of public subnets"
              },
              "public_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of cidr_blocks of public subnets"
              },
              "public_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.public"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of public subnets in an IPv6 enabled VPC"
              },
              "redshift_network_acl_arn": {
                "expression": {
                  "references": [
                    "aws_network_acl.redshift[0].arn",
                    "aws_network_acl.redshift[0]",
                    "aws_network_acl.redshift"
                  ]
                },
                "description": "ARN of the redshift network ACL"
              },
              "redshift_network_acl_id": {
                "expression": {
                  "references": [
                    "aws_network_acl.redshift[0].id",
                    "aws_network_acl.redshift[0]",
                    "aws_network_acl.redshift"
                  ]
                },
                "description": "ID of the redshift network ACL"
              },
              "redshift_public_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.redshift_public"
                  ]
                },
                "description": "List of IDs of the public redshidt route table association"
              },
              "redshift_route_table_association_ids": {
                "expression": {
                  "references": [
                    "aws_route_table_association.redshift"
                  ]
                },
                "description": "List of IDs of the redshift route table association"
              },
              "redshift_route_table_ids": {
                "expression": {
                  "references": [
                    "aws_route_table.redshift",
                    "aws_route_table.redshift",
                    "var.enable_public_redshift",
                    "aws_route_table.public",
                    "aws_route_table.private"
                  ]
                },
                "description": "List of IDs of redshift route tables"
              },
              "redshift_subnet_arns": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of ARNs of redshift subnets"
              },
              "redshift_subnet_group": {
                "expression": {
                  "references": [
                    "aws_redshift_subnet_group.redshift[0].id",
                    "aws_redshift_subnet_group.redshift[0]",
                    "aws_redshift_subnet_group.redshift"
                  ]
                },
                "description": "ID of redshift subnet group"
              },
              "redshift_subnets": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of IDs of redshift subnets"
              },
              "redshift_subnets_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of cidr_blocks of redshift subnets"
              },
              "redshift_subnets_ipv6_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_subnet.redshift"
                  ]
                },
                "description": "List of IPv6 cidr_blocks of redshift subnets in an IPv6 enabled VPC"
              },
              "this_customer_gateway": {
                "expression": {
                  "references": [
                    "aws_customer_gateway.this"
                  ]
                },
                "description": "Map of Customer Gateway attributes"
              },
              "vgw_arn": {
                "expression": {
                  "references": [
                    "aws_vpn_gateway.this[0].arn",
                    "aws_vpn_gateway.this[0]",
                    "aws_vpn_gateway.this"
                  ]
                },
                "description": "The ARN of the VPN Gateway"
              },
              "vgw_id": {
                "expression": {
                  "references": [
                    "aws_vpn_gateway.this[0].id",
                    "aws_vpn_gateway.this[0]",
                    "aws_vpn_gateway.this",
                    "aws_vpn_gateway_attachment.this[0].vpn_gateway_id",
                    "aws_vpn_gateway_attachment.this[0]",
                    "aws_vpn_gateway_attachment.this"
                  ]
                },
                "description": "The ID of the VPN Gateway"
              },
              "vpc_arn": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].arn",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ARN of the VPC"
              },
              "vpc_cidr_block": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].cidr_block",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The CIDR block of the VPC"
              },
              "vpc_enable_dns_hostnames": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].enable_dns_hostnames",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "Whether or not the VPC has DNS hostname support"
              },
              "vpc_enable_dns_support": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].enable_dns_support",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "Whether or not the VPC has DNS support"
              },
              "vpc_flow_log_cloudwatch_iam_role_arn": {
                "expression": {
                  "references": [
                    "local.flow_log_iam_role_arn"
                  ]
                },
                "description": "The ARN of the IAM role used when pushing logs to Cloudwatch log group"
              },
              "vpc_flow_log_destination_arn": {
                "expression": {
                  "references": [
                    "local.flow_log_destination_arn"
                  ]
                },
                "description": "The ARN of the destination for VPC Flow Logs"
              },
              "vpc_flow_log_destination_type": {
                "expression": {
                  "references": [
                    "var.flow_log_destination_type"
                  ]
                },
                "description": "The type of the destination for VPC Flow Logs"
              },
              "vpc_flow_log_id": {
                "expression": {
                  "references": [
                    "aws_flow_log.this[0].id",
                    "aws_flow_log.this[0]",
                    "aws_flow_log.this"
                  ]
                },
                "description": "The ID of the Flow Log resource"
              },
              "vpc_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the VPC"
              },
              "vpc_instance_tenancy": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].instance_tenancy",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "Tenancy of instances spin up within VPC"
              },
              "vpc_ipv6_association_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].ipv6_association_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The association ID for the IPv6 CIDR block"
              },
              "vpc_ipv6_cidr_block": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].ipv6_cidr_block",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The IPv6 CIDR block"
              },
              "vpc_main_route_table_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].main_route_table_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the main route table associated with this VPC"
              },
              "vpc_owner_id": {
                "expression": {
                  "references": [
                    "aws_vpc.this[0].owner_id",
                    "aws_vpc.this[0]",
                    "aws_vpc.this"
                  ]
                },
                "description": "The ID of the AWS account that owns the VPC"
              },
              "vpc_secondary_cidr_blocks": {
                "expression": {
                  "references": [
                    "aws_vpc_ipv4_cidr_block_association.this"
                  ]
                },
                "description": "List of secondary CIDR blocks of the VPC"
              }
            },
            "resources": [
              {
                "address": "aws_cloudwatch_log_group.flow_log",
                "mode": "managed",
                "type": "aws_cloudwatch_log_group",
                "name": "flow_log",
                "provider_config_key": "aws",
                "expressions": {
                  "kms_key_id": {
                    "references": [
                      "var.flow_log_cloudwatch_log_group_kms_key_id"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.flow_log_cloudwatch_log_group_name_prefix",
                      "local.vpc_id"
                    ]
                  },
                  "retention_in_days": {
                    "references": [
                      "var.flow_log_cloudwatch_log_group_retention_in_days"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_log_group"
                  ]
                }
              },
              {
                "address": "aws_customer_gateway.this",
                "mode": "managed",
                "type": "aws_customer_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "bgp_asn": {
                    "references": [
                      "each.value[\"bgp_asn\"]",
                      "each.value"
                    ]
                  },
                  "device_name": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "ip_address": {
                    "references": [
                      "each.value[\"ip_address\"]",
                      "each.value"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "each.key",
                      "var.tags",
                      "var.customer_gateway_tags"
                    ]
                  },
                  "type": {
                    "constant_value": "ipsec.1"
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.customer_gateways"
                  ]
                }
              },
              {
                "address": "aws_db_subnet_group.database",
                "mode": "managed",
                "type": "aws_db_subnet_group",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.database_subnet_group_name",
                      "var.name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.database"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.database_subnet_group_name",
                      "var.name",
                      "var.tags",
                      "var.database_subnet_group_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.database_subnets",
                    "var.create_database_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_default_network_acl.this",
                "mode": "managed",
                "type": "aws_default_network_acl",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "default_network_acl_id": {
                    "references": [
                      "aws_vpc.this[0].default_network_acl_id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  },
                  "subnet_ids": {
                    "constant_value": null
                  },
                  "tags": {
                    "references": [
                      "var.default_network_acl_name",
                      "var.name",
                      "var.tags",
                      "var.default_network_acl_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.manage_default_network_acl"
                  ]
                }
              },
              {
                "address": "aws_default_route_table.default",
                "mode": "managed",
                "type": "aws_default_route_table",
                "name": "default",
                "provider_config_key": "aws",
                "expressions": {
                  "default_route_table_id": {
                    "references": [
                      "aws_vpc.this[0].default_route_table_id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  },
                  "propagating_vgws": {
                    "references": [
                      "var.default_route_table_propagating_vgws"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.default_route_table_name",
                      "var.name",
                      "var.tags",
                      "var.default_route_table_tags"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    },
                    "update": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.manage_default_route_table"
                  ]
                }
              },
              {
                "address": "aws_default_security_group.this",
                "mode": "managed",
                "type": "aws_default_security_group",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.default_security_group_name",
                      "var.name",
                      "var.tags",
                      "var.default_security_group_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.this[0].id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.manage_default_security_group"
                  ]
                }
              },
              {
                "address": "aws_default_vpc.this",
                "mode": "managed",
                "type": "aws_default_vpc",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "enable_classiclink": {
                    "references": [
                      "var.default_vpc_enable_classiclink"
                    ]
                  },
                  "enable_dns_hostnames": {
                    "references": [
                      "var.default_vpc_enable_dns_hostnames"
                    ]
                  },
                  "enable_dns_support": {
                    "references": [
                      "var.default_vpc_enable_dns_support"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.default_vpc_name",
                      "var.tags",
                      "var.default_vpc_tags"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "var.manage_default_vpc"
                  ]
                }
              },
              {
                "address": "aws_egress_only_internet_gateway.this",
                "mode": "managed",
                "type": "aws_egress_only_internet_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.igw_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_egress_only_igw",
                    "var.enable_ipv6",
                    "local.max_subnet_length"
                  ]
                }
              },
              {
                "address": "aws_eip.nat",
                "mode": "managed",
                "type": "aws_eip",
                "name": "nat",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.azs",
                      "var.single_nat_gateway",
                      "count.index",
                      "var.tags",
                      "var.nat_eip_tags"
                    ]
                  },
                  "vpc": {
                    "constant_value": true
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_nat_gateway",
                    "var.reuse_nat_ips",
                    "local.nat_gateway_count"
                  ]
                }
              },
              {
                "address": "aws_elasticache_subnet_group.elasticache",
                "mode": "managed",
                "type": "aws_elasticache_subnet_group",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.elasticache_subnet_group_name",
                      "var.name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.elasticache"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.elasticache_subnet_group_name",
                      "var.name",
                      "var.tags",
                      "var.elasticache_subnet_group_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.elasticache_subnets",
                    "var.create_elasticache_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_flow_log.this",
                "mode": "managed",
                "type": "aws_flow_log",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "iam_role_arn": {
                    "references": [
                      "local.flow_log_iam_role_arn"
                    ]
                  },
                  "log_destination": {
                    "references": [
                      "local.flow_log_destination_arn"
                    ]
                  },
                  "log_destination_type": {
                    "references": [
                      "var.flow_log_destination_type"
                    ]
                  },
                  "log_format": {
                    "references": [
                      "var.flow_log_log_format"
                    ]
                  },
                  "max_aggregation_interval": {
                    "references": [
                      "var.flow_log_max_aggregation_interval"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  },
                  "traffic_type": {
                    "references": [
                      "var.flow_log_traffic_type"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.enable_flow_log"
                  ]
                }
              },
              {
                "address": "aws_iam_policy.vpc_flow_log_cloudwatch",
                "mode": "managed",
                "type": "aws_iam_policy",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "name_prefix": {
                    "constant_value": "vpc-flow-log-to-cloudwatch-"
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0].json",
                      "data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]",
                      "data.aws_iam_policy_document.vpc_flow_log_cloudwatch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "aws_iam_role.vpc_flow_log_cloudwatch",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0].json",
                      "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]",
                      "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role"
                    ]
                  },
                  "name_prefix": {
                    "constant_value": "vpc-flow-log-role-"
                  },
                  "permissions_boundary": {
                    "references": [
                      "var.vpc_flow_log_permissions_boundary"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.vpc_flow_log_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch",
                "mode": "managed",
                "type": "aws_iam_role_policy_attachment",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "policy_arn": {
                    "references": [
                      "aws_iam_policy.vpc_flow_log_cloudwatch[0].arn",
                      "aws_iam_policy.vpc_flow_log_cloudwatch[0]",
                      "aws_iam_policy.vpc_flow_log_cloudwatch"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.vpc_flow_log_cloudwatch[0].name",
                      "aws_iam_role.vpc_flow_log_cloudwatch[0]",
                      "aws_iam_role.vpc_flow_log_cloudwatch"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "aws_internet_gateway.this",
                "mode": "managed",
                "type": "aws_internet_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.igw_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_igw",
                    "var.public_subnets"
                  ]
                }
              },
              {
                "address": "aws_nat_gateway.this",
                "mode": "managed",
                "type": "aws_nat_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "allocation_id": {
                    "references": [
                      "local.nat_gateway_ips",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.public",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.azs",
                      "var.single_nat_gateway",
                      "count.index",
                      "var.tags",
                      "var.nat_gateway_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_nat_gateway",
                    "local.nat_gateway_count"
                  ]
                },
                "depends_on": [
                  "aws_internet_gateway.this"
                ]
              },
              {
                "address": "aws_network_acl.database",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.database"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.tags",
                      "var.database_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.database_dedicated_network_acl",
                    "var.database_subnets"
                  ]
                }
              },
              {
                "address": "aws_network_acl.elasticache",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.elasticache"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.elasticache_subnet_suffix",
                      "var.tags",
                      "var.elasticache_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.elasticache_dedicated_network_acl",
                    "var.elasticache_subnets"
                  ]
                }
              },
              {
                "address": "aws_network_acl.intra",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.intra"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.intra_subnet_suffix",
                      "var.tags",
                      "var.intra_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.intra_dedicated_network_acl",
                    "var.intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_network_acl.outpost",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "outpost",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.outpost"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.outpost_subnet_suffix",
                      "var.tags",
                      "var.outpost_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.outpost_dedicated_network_acl",
                    "var.outpost_subnets"
                  ]
                }
              },
              {
                "address": "aws_network_acl.private",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.private"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.tags",
                      "var.private_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.private_dedicated_network_acl",
                    "var.private_subnets"
                  ]
                }
              },
              {
                "address": "aws_network_acl.public",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.public"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.public_subnet_suffix",
                      "var.tags",
                      "var.public_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.public_dedicated_network_acl",
                    "var.public_subnets"
                  ]
                }
              },
              {
                "address": "aws_network_acl.redshift",
                "mode": "managed",
                "type": "aws_network_acl",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.redshift"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.redshift_subnet_suffix",
                      "var.tags",
                      "var.redshift_acl_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.redshift_dedicated_network_acl",
                    "var.redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.database_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "database_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.database[0].id",
                      "aws_network_acl.database[0]",
                      "aws_network_acl.database"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.database_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.database_dedicated_network_acl",
                    "var.database_subnets",
                    "var.database_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.database_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "database_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.database[0].id",
                      "aws_network_acl.database[0]",
                      "aws_network_acl.database"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.database_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.database_dedicated_network_acl",
                    "var.database_subnets",
                    "var.database_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.elasticache_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "elasticache_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.elasticache[0].id",
                      "aws_network_acl.elasticache[0]",
                      "aws_network_acl.elasticache"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.elasticache_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.elasticache_dedicated_network_acl",
                    "var.elasticache_subnets",
                    "var.elasticache_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.elasticache_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "elasticache_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.elasticache[0].id",
                      "aws_network_acl.elasticache[0]",
                      "aws_network_acl.elasticache"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.elasticache_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.elasticache_dedicated_network_acl",
                    "var.elasticache_subnets",
                    "var.elasticache_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.intra_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "intra_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.intra[0].id",
                      "aws_network_acl.intra[0]",
                      "aws_network_acl.intra"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.intra_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.intra_dedicated_network_acl",
                    "var.intra_subnets",
                    "var.intra_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.intra_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "intra_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.intra[0].id",
                      "aws_network_acl.intra[0]",
                      "aws_network_acl.intra"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.intra_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.intra_dedicated_network_acl",
                    "var.intra_subnets",
                    "var.intra_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.outpost_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "outpost_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.outpost[0].id",
                      "aws_network_acl.outpost[0]",
                      "aws_network_acl.outpost"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.outpost_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.outpost_dedicated_network_acl",
                    "var.outpost_subnets",
                    "var.outpost_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.outpost_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "outpost_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.outpost[0].id",
                      "aws_network_acl.outpost[0]",
                      "aws_network_acl.outpost"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.outpost_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.outpost_dedicated_network_acl",
                    "var.outpost_subnets",
                    "var.outpost_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.private_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "private_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.private[0].id",
                      "aws_network_acl.private[0]",
                      "aws_network_acl.private"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.private_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.private_dedicated_network_acl",
                    "var.private_subnets",
                    "var.private_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.private_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "private_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.private[0].id",
                      "aws_network_acl.private[0]",
                      "aws_network_acl.private"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.private_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.private_dedicated_network_acl",
                    "var.private_subnets",
                    "var.private_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.public_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "public_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.public[0].id",
                      "aws_network_acl.public[0]",
                      "aws_network_acl.public"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.public_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.public_dedicated_network_acl",
                    "var.public_subnets",
                    "var.public_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.public_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "public_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.public[0].id",
                      "aws_network_acl.public[0]",
                      "aws_network_acl.public"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.public_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.public_dedicated_network_acl",
                    "var.public_subnets",
                    "var.public_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.redshift_inbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "redshift_inbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": false
                  },
                  "from_port": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.redshift[0].id",
                      "aws_network_acl.redshift[0]",
                      "aws_network_acl.redshift"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.redshift_inbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.redshift_dedicated_network_acl",
                    "var.redshift_subnets",
                    "var.redshift_inbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_network_acl_rule.redshift_outbound",
                "mode": "managed",
                "type": "aws_network_acl_rule",
                "name": "redshift_outbound",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "egress": {
                    "constant_value": true
                  },
                  "from_port": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_code": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "icmp_type": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "network_acl_id": {
                    "references": [
                      "aws_network_acl.redshift[0].id",
                      "aws_network_acl.redshift[0]",
                      "aws_network_acl.redshift"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_action": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "rule_number": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  },
                  "to_port": {
                    "references": [
                      "var.redshift_outbound_acl_rules",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.redshift_dedicated_network_acl",
                    "var.redshift_subnets",
                    "var.redshift_outbound_acl_rules"
                  ]
                }
              },
              {
                "address": "aws_redshift_subnet_group.redshift",
                "mode": "managed",
                "type": "aws_redshift_subnet_group",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "description": {
                    "references": [
                      "var.name"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.redshift_subnet_group_name",
                      "var.name"
                    ]
                  },
                  "subnet_ids": {
                    "references": [
                      "aws_subnet.redshift"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.redshift_subnet_group_name",
                      "var.name",
                      "var.tags",
                      "var.redshift_subnet_group_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.redshift_subnets",
                    "var.create_redshift_subnet_group"
                  ]
                }
              },
              {
                "address": "aws_route.database_internet_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "database_internet_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "gateway_id": {
                    "references": [
                      "aws_internet_gateway.this[0].id",
                      "aws_internet_gateway.this[0]",
                      "aws_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database[0].id",
                      "aws_route_table.database[0]",
                      "aws_route_table.database"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_igw",
                    "var.create_database_subnet_route_table",
                    "var.database_subnets",
                    "var.create_database_internet_gateway_route",
                    "var.create_database_nat_gateway_route"
                  ]
                }
              },
              {
                "address": "aws_route.database_ipv6_egress",
                "mode": "managed",
                "type": "aws_route",
                "name": "database_ipv6_egress",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "::/0"
                  },
                  "egress_only_gateway_id": {
                    "references": [
                      "aws_egress_only_internet_gateway.this[0].id",
                      "aws_egress_only_internet_gateway.this[0]",
                      "aws_egress_only_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database[0].id",
                      "aws_route_table.database[0]",
                      "aws_route_table.database"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_egress_only_igw",
                    "var.enable_ipv6",
                    "var.create_database_subnet_route_table",
                    "var.database_subnets",
                    "var.create_database_internet_gateway_route"
                  ]
                }
              },
              {
                "address": "aws_route.database_nat_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "database_nat_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "nat_gateway_id": {
                    "references": [
                      "aws_nat_gateway.this",
                      "count.index"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database",
                      "count.index"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_database_subnet_route_table",
                    "var.database_subnets",
                    "var.create_database_internet_gateway_route",
                    "var.create_database_nat_gateway_route",
                    "var.enable_nat_gateway",
                    "var.single_nat_gateway",
                    "var.database_subnets"
                  ]
                }
              },
              {
                "address": "aws_route.private_ipv6_egress",
                "mode": "managed",
                "type": "aws_route",
                "name": "private_ipv6_egress",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "::/0"
                  },
                  "egress_only_gateway_id": {
                    "references": [
                      "aws_egress_only_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_egress_only_igw",
                    "var.enable_ipv6",
                    "var.private_subnets"
                  ]
                }
              },
              {
                "address": "aws_route.private_nat_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "private_nat_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "references": [
                      "var.nat_gateway_destination_cidr_block"
                    ]
                  },
                  "nat_gateway_id": {
                    "references": [
                      "aws_nat_gateway.this",
                      "count.index"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_nat_gateway",
                    "local.nat_gateway_count"
                  ]
                }
              },
              {
                "address": "aws_route.public_internet_gateway",
                "mode": "managed",
                "type": "aws_route",
                "name": "public_internet_gateway",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_cidr_block": {
                    "constant_value": "0.0.0.0/0"
                  },
                  "gateway_id": {
                    "references": [
                      "aws_internet_gateway.this[0].id",
                      "aws_internet_gateway.this[0]",
                      "aws_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public[0].id",
                      "aws_route_table.public[0]",
                      "aws_route_table.public"
                    ]
                  },
                  "timeouts": {
                    "create": {
                      "constant_value": "5m"
                    }
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_igw",
                    "var.public_subnets"
                  ]
                }
              },
              {
                "address": "aws_route.public_internet_gateway_ipv6",
                "mode": "managed",
                "type": "aws_route",
                "name": "public_internet_gateway_ipv6",
                "provider_config_key": "aws",
                "expressions": {
                  "destination_ipv6_cidr_block": {
                    "constant_value": "::/0"
                  },
                  "gateway_id": {
                    "references": [
                      "aws_internet_gateway.this[0].id",
                      "aws_internet_gateway.this[0]",
                      "aws_internet_gateway.this"
                    ]
                  },
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public[0].id",
                      "aws_route_table.public[0]",
                      "aws_route_table.public"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_igw",
                    "var.enable_ipv6",
                    "var.public_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.database",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.single_nat_gateway",
                      "var.create_database_internet_gateway_route",
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.database_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_database_subnet_route_table",
                    "var.database_subnets",
                    "var.single_nat_gateway",
                    "var.create_database_internet_gateway_route",
                    "var.database_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.elasticache",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.elasticache_subnet_suffix",
                      "var.tags",
                      "var.elasticache_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_elasticache_subnet_route_table",
                    "var.elasticache_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.intra",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.intra_subnet_suffix",
                      "var.tags",
                      "var.intra_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.private",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.single_nat_gateway",
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.private_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "local.max_subnet_length",
                    "local.nat_gateway_count"
                  ]
                }
              },
              {
                "address": "aws_route_table.public",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.public_subnet_suffix",
                      "var.tags",
                      "var.public_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.public_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table.redshift",
                "mode": "managed",
                "type": "aws_route_table",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "tags": {
                    "references": [
                      "var.name",
                      "var.redshift_subnet_suffix",
                      "var.tags",
                      "var.redshift_route_table_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.create_redshift_subnet_route_table",
                    "var.redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.database",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.database",
                      "aws_route_table.private",
                      "var.create_database_subnet_route_table",
                      "var.single_nat_gateway",
                      "var.create_database_internet_gateway_route",
                      "count.index",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.database",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.database_subnets",
                    "var.database_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.elasticache",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.elasticache",
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "var.create_elasticache_subnet_route_table",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.elasticache",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.elasticache_subnets",
                    "var.elasticache_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.intra",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.intra"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.intra",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.intra_subnets",
                    "var.intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.outpost",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "outpost",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.outpost",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.outpost_subnets",
                    "var.outpost_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.private",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.private",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.private_subnets",
                    "var.private_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.public",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public[0].id",
                      "aws_route_table.public[0]",
                      "aws_route_table.public"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.public",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.public_subnets",
                    "var.public_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.redshift",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.redshift",
                      "aws_route_table.private",
                      "var.single_nat_gateway",
                      "var.create_redshift_subnet_route_table",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.redshift",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.redshift_subnets",
                    "var.enable_public_redshift",
                    "var.redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_route_table_association.redshift_public",
                "mode": "managed",
                "type": "aws_route_table_association",
                "name": "redshift_public",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.redshift",
                      "aws_route_table.public",
                      "var.single_nat_gateway",
                      "var.create_redshift_subnet_route_table",
                      "count.index"
                    ]
                  },
                  "subnet_id": {
                    "references": [
                      "aws_subnet.redshift",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.redshift_subnets",
                    "var.enable_public_redshift",
                    "var.redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.database",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "database",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.database_subnet_assign_ipv6_address_on_creation",
                      "var.assign_ipv6_address_on_creation",
                      "var.database_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.database_subnets",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.database_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.database_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.database_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.database_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.database_subnets",
                    "var.database_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.elasticache",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "elasticache",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.elasticache_subnet_assign_ipv6_address_on_creation",
                      "var.assign_ipv6_address_on_creation",
                      "var.elasticache_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.elasticache_subnets",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.elasticache_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.elasticache_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.elasticache_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.elasticache_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.elasticache_subnets",
                    "var.elasticache_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.intra",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.intra_subnet_assign_ipv6_address_on_creation",
                      "var.assign_ipv6_address_on_creation",
                      "var.intra_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.intra_subnets",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.intra_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.intra_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.intra_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.intra_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.intra_subnets",
                    "var.intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.outpost",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "outpost",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.outpost_subnet_assign_ipv6_address_on_creation",
                      "var.assign_ipv6_address_on_creation",
                      "var.outpost_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.outpost_az"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.outpost_subnets",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.outpost_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.outpost_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "outpost_arn": {
                    "references": [
                      "var.outpost_arn"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.outpost_subnet_suffix",
                      "var.outpost_az",
                      "var.tags",
                      "var.outpost_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.outpost_subnets",
                    "var.outpost_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.private",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.private_subnet_assign_ipv6_address_on_creation",
                      "var.assign_ipv6_address_on_creation",
                      "var.private_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.private_subnets",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.private_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.private_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.private_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.private_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.private_subnets",
                    "var.private_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.public",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.public_subnet_assign_ipv6_address_on_creation",
                      "var.assign_ipv6_address_on_creation",
                      "var.public_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.public_subnets",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.public_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.public_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "map_public_ip_on_launch": {
                    "references": [
                      "var.map_public_ip_on_launch"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.public_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.public_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.public_subnets",
                    "var.one_nat_gateway_per_az",
                    "var.public_subnets",
                    "var.azs",
                    "var.public_subnets"
                  ]
                }
              },
              {
                "address": "aws_subnet.redshift",
                "mode": "managed",
                "type": "aws_subnet",
                "name": "redshift",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_ipv6_address_on_creation": {
                    "references": [
                      "var.redshift_subnet_assign_ipv6_address_on_creation",
                      "var.assign_ipv6_address_on_creation",
                      "var.redshift_subnet_assign_ipv6_address_on_creation"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "availability_zone_id": {
                    "references": [
                      "var.azs",
                      "count.index",
                      "var.azs",
                      "count.index"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.redshift_subnets",
                      "count.index"
                    ]
                  },
                  "ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6",
                      "var.redshift_subnet_ipv6_prefixes",
                      "aws_vpc.this[0].ipv6_cidr_block",
                      "aws_vpc.this[0]",
                      "aws_vpc.this",
                      "var.redshift_subnet_ipv6_prefixes",
                      "count.index"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.redshift_subnet_suffix",
                      "var.azs",
                      "count.index",
                      "var.tags",
                      "var.redshift_subnet_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.redshift_subnets",
                    "var.redshift_subnets"
                  ]
                }
              },
              {
                "address": "aws_vpc.this",
                "mode": "managed",
                "type": "aws_vpc",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "assign_generated_ipv6_cidr_block": {
                    "references": [
                      "var.enable_ipv6"
                    ]
                  },
                  "cidr_block": {
                    "references": [
                      "var.cidr"
                    ]
                  },
                  "enable_classiclink": {
                    "references": [
                      "var.enable_classiclink"
                    ]
                  },
                  "enable_classiclink_dns_support": {
                    "references": [
                      "var.enable_classiclink_dns_support"
                    ]
                  },
                  "enable_dns_hostnames": {
                    "references": [
                      "var.enable_dns_hostnames"
                    ]
                  },
                  "enable_dns_support": {
                    "references": [
                      "var.enable_dns_support"
                    ]
                  },
                  "instance_tenancy": {
                    "references": [
                      "var.instance_tenancy"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.vpc_tags"
                    ]
                  }
                },
                "schema_version": 1,
                "count_expression": {
                  "references": [
                    "local.create_vpc"
                  ]
                }
              },
              {
                "address": "aws_vpc_dhcp_options.this",
                "mode": "managed",
                "type": "aws_vpc_dhcp_options",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "domain_name": {
                    "references": [
                      "var.dhcp_options_domain_name"
                    ]
                  },
                  "domain_name_servers": {
                    "references": [
                      "var.dhcp_options_domain_name_servers"
                    ]
                  },
                  "netbios_name_servers": {
                    "references": [
                      "var.dhcp_options_netbios_name_servers"
                    ]
                  },
                  "netbios_node_type": {
                    "references": [
                      "var.dhcp_options_netbios_node_type"
                    ]
                  },
                  "ntp_servers": {
                    "references": [
                      "var.dhcp_options_ntp_servers"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.dhcp_options_tags"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_dhcp_options"
                  ]
                }
              },
              {
                "address": "aws_vpc_dhcp_options_association.this",
                "mode": "managed",
                "type": "aws_vpc_dhcp_options_association",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "dhcp_options_id": {
                    "references": [
                      "aws_vpc_dhcp_options.this[0].id",
                      "aws_vpc_dhcp_options.this[0]",
                      "aws_vpc_dhcp_options.this"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_dhcp_options"
                  ]
                }
              },
              {
                "address": "aws_vpc_ipv4_cidr_block_association.this",
                "mode": "managed",
                "type": "aws_vpc_ipv4_cidr_block_association",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "cidr_block": {
                    "references": [
                      "var.secondary_cidr_blocks",
                      "count.index"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "aws_vpc.this[0].id",
                      "aws_vpc.this[0]",
                      "aws_vpc.this"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.secondary_cidr_blocks",
                    "var.secondary_cidr_blocks"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway.this",
                "mode": "managed",
                "type": "aws_vpn_gateway",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "amazon_side_asn": {
                    "references": [
                      "var.amazon_side_asn"
                    ]
                  },
                  "availability_zone": {
                    "references": [
                      "var.vpn_gateway_az"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.name",
                      "var.tags",
                      "var.vpn_gateway_tags"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.enable_vpn_gateway"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_attachment.this",
                "mode": "managed",
                "type": "aws_vpn_gateway_attachment",
                "name": "this",
                "provider_config_key": "aws",
                "expressions": {
                  "vpc_id": {
                    "references": [
                      "local.vpc_id"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "var.vpn_gateway_id"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.vpn_gateway_id"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_route_propagation.intra",
                "mode": "managed",
                "type": "aws_vpn_gateway_route_propagation",
                "name": "intra",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.intra",
                      "count.index"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "aws_vpn_gateway.this",
                      "aws_vpn_gateway_attachment.this",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.propagate_intra_route_tables_vgw",
                    "var.enable_vpn_gateway",
                    "var.vpn_gateway_id",
                    "var.intra_subnets"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_route_propagation.private",
                "mode": "managed",
                "type": "aws_vpn_gateway_route_propagation",
                "name": "private",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.private",
                      "count.index"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "aws_vpn_gateway.this",
                      "aws_vpn_gateway_attachment.this",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.propagate_private_route_tables_vgw",
                    "var.enable_vpn_gateway",
                    "var.vpn_gateway_id",
                    "var.private_subnets"
                  ]
                }
              },
              {
                "address": "aws_vpn_gateway_route_propagation.public",
                "mode": "managed",
                "type": "aws_vpn_gateway_route_propagation",
                "name": "public",
                "provider_config_key": "aws",
                "expressions": {
                  "route_table_id": {
                    "references": [
                      "aws_route_table.public",
                      "count.index"
                    ]
                  },
                  "vpn_gateway_id": {
                    "references": [
                      "aws_vpn_gateway.this",
                      "aws_vpn_gateway_attachment.this",
                      "count.index"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_vpc",
                    "var.propagate_public_route_tables_vgw",
                    "var.enable_vpn_gateway",
                    "var.vpn_gateway_id"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.flow_log_cloudwatch_assume_role",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "flow_log_cloudwatch_assume_role",
                "provider_config_key": "aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "vpc-flow-logs.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ],
                      "sid": {
                        "constant_value": "AWSVPCFlowLogsAssumeRole"
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.vpc_flow_log_cloudwatch",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "vpc_flow_log_cloudwatch",
                "provider_config_key": "aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "logs:CreateLogStream",
                          "logs:PutLogEvents",
                          "logs:DescribeLogGroups",
                          "logs:DescribeLogStreams"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      },
                      "sid": {
                        "constant_value": "AWSVPCFlowLogsPushToCloudWatch"
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "local.create_flow_log_cloudwatch_iam_role"
                  ]
                }
              }
            ],
            "variables": {
              "amazon_side_asn": {
                "default": "64512",
                "description": "The Autonomous System Number (ASN) for the Amazon side of the gateway. By default the virtual private gateway is created with the current default Amazon ASN."
              },
              "assign_ipv6_address_on_creation": {
                "default": false,
                "description": "Assign IPv6 address on subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "azs": {
                "default": [],
                "description": "A list of availability zones names or ids in the region"
              },
              "cidr": {
                "default": "0.0.0.0/0",
                "description": "The CIDR block for the VPC. Default value is a valid CIDR, but not acceptable by AWS and should be overridden"
              },
              "create_database_internet_gateway_route": {
                "default": false,
                "description": "Controls if an internet gateway route for public database access should be created"
              },
              "create_database_nat_gateway_route": {
                "default": false,
                "description": "Controls if a nat gateway route should be created to give internet access to the database subnets"
              },
              "create_database_subnet_group": {
                "default": true,
                "description": "Controls if database subnet group should be created (n.b. database_subnets must also be set)"
              },
              "create_database_subnet_route_table": {
                "default": false,
                "description": "Controls if separate route table for database should be created"
              },
              "create_egress_only_igw": {
                "default": true,
                "description": "Controls if an Egress Only Internet Gateway is created and its related routes."
              },
              "create_elasticache_subnet_group": {
                "default": true,
                "description": "Controls if elasticache subnet group should be created"
              },
              "create_elasticache_subnet_route_table": {
                "default": false,
                "description": "Controls if separate route table for elasticache should be created"
              },
              "create_flow_log_cloudwatch_iam_role": {
                "default": false,
                "description": "Whether to create IAM role for VPC Flow Logs"
              },
              "create_flow_log_cloudwatch_log_group": {
                "default": false,
                "description": "Whether to create CloudWatch log group for VPC Flow Logs"
              },
              "create_igw": {
                "default": true,
                "description": "Controls if an Internet Gateway is created for public subnets and the related routes that connect them."
              },
              "create_redshift_subnet_group": {
                "default": true,
                "description": "Controls if redshift subnet group should be created"
              },
              "create_redshift_subnet_route_table": {
                "default": false,
                "description": "Controls if separate route table for redshift should be created"
              },
              "create_vpc": {
                "default": true,
                "description": "Controls if VPC should be created (it affects almost all resources)"
              },
              "customer_gateway_tags": {
                "default": {},
                "description": "Additional tags for the Customer Gateway"
              },
              "customer_gateways": {
                "default": {},
                "description": "Maps of Customer Gateway's attributes (BGP ASN and Gateway's Internet-routable external IP address)"
              },
              "database_acl_tags": {
                "default": {},
                "description": "Additional tags for the database subnets network ACL"
              },
              "database_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for database subnets"
              },
              "database_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Database subnets inbound network ACL rules"
              },
              "database_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Database subnets outbound network ACL rules"
              },
              "database_route_table_tags": {
                "default": {},
                "description": "Additional tags for the database route tables"
              },
              "database_subnet_assign_ipv6_address_on_creation": {
                "default": null,
                "description": "Assign IPv6 address on database subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "database_subnet_group_name": {
                "default": null,
                "description": "Name of database subnet group"
              },
              "database_subnet_group_tags": {
                "default": {},
                "description": "Additional tags for the database subnet group"
              },
              "database_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 database subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "database_subnet_suffix": {
                "default": "db",
                "description": "Suffix to append to database subnets name"
              },
              "database_subnet_tags": {
                "default": {},
                "description": "Additional tags for the database subnets"
              },
              "database_subnets": {
                "default": [],
                "description": "A list of database subnets"
              },
              "default_network_acl_egress": {
                "default": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_no": "100",
                    "to_port": "0"
                  },
                  {
                    "action": "allow",
                    "from_port": "0",
                    "ipv6_cidr_block": "::/0",
                    "protocol": "-1",
                    "rule_no": "101",
                    "to_port": "0"
                  }
                ],
                "description": "List of maps of egress rules to set on the Default Network ACL"
              },
              "default_network_acl_ingress": {
                "default": [
                  {
                    "action": "allow",
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_no": "100",
                    "to_port": "0"
                  },
                  {
                    "action": "allow",
                    "from_port": "0",
                    "ipv6_cidr_block": "::/0",
                    "protocol": "-1",
                    "rule_no": "101",
                    "to_port": "0"
                  }
                ],
                "description": "List of maps of ingress rules to set on the Default Network ACL"
              },
              "default_network_acl_name": {
                "default": null,
                "description": "Name to be used on the Default Network ACL"
              },
              "default_network_acl_tags": {
                "default": {},
                "description": "Additional tags for the Default Network ACL"
              },
              "default_route_table_name": {
                "default": null,
                "description": "Name to be used on the default route table"
              },
              "default_route_table_propagating_vgws": {
                "default": [],
                "description": "List of virtual gateways for propagation"
              },
              "default_route_table_routes": {
                "default": [],
                "description": "Configuration block of routes. See https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/default_route_table#route"
              },
              "default_route_table_tags": {
                "default": {},
                "description": "Additional tags for the default route table"
              },
              "default_security_group_egress": {
                "default": [],
                "description": "List of maps of egress rules to set on the default security group"
              },
              "default_security_group_ingress": {
                "default": [],
                "description": "List of maps of ingress rules to set on the default security group"
              },
              "default_security_group_name": {
                "default": null,
                "description": "Name to be used on the default security group"
              },
              "default_security_group_tags": {
                "default": {},
                "description": "Additional tags for the default security group"
              },
              "default_vpc_enable_classiclink": {
                "default": false,
                "description": "Should be true to enable ClassicLink in the Default VPC"
              },
              "default_vpc_enable_dns_hostnames": {
                "default": false,
                "description": "Should be true to enable DNS hostnames in the Default VPC"
              },
              "default_vpc_enable_dns_support": {
                "default": true,
                "description": "Should be true to enable DNS support in the Default VPC"
              },
              "default_vpc_name": {
                "default": null,
                "description": "Name to be used on the Default VPC"
              },
              "default_vpc_tags": {
                "default": {},
                "description": "Additional tags for the Default VPC"
              },
              "dhcp_options_domain_name": {
                "default": "",
                "description": "Specifies DNS name for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_domain_name_servers": {
                "default": [
                  "AmazonProvidedDNS"
                ],
                "description": "Specify a list of DNS server addresses for DHCP options set, default to AWS provided (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_netbios_name_servers": {
                "default": [],
                "description": "Specify a list of netbios servers for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_netbios_node_type": {
                "default": "",
                "description": "Specify netbios node_type for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_ntp_servers": {
                "default": [],
                "description": "Specify a list of NTP servers for DHCP options set (requires enable_dhcp_options set to true)"
              },
              "dhcp_options_tags": {
                "default": {},
                "description": "Additional tags for the DHCP option set (requires enable_dhcp_options set to true)"
              },
              "elasticache_acl_tags": {
                "default": {},
                "description": "Additional tags for the elasticache subnets network ACL"
              },
              "elasticache_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for elasticache subnets"
              },
              "elasticache_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Elasticache subnets inbound network ACL rules"
              },
              "elasticache_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Elasticache subnets outbound network ACL rules"
              },
              "elasticache_route_table_tags": {
                "default": {},
                "description": "Additional tags for the elasticache route tables"
              },
              "elasticache_subnet_assign_ipv6_address_on_creation": {
                "default": null,
                "description": "Assign IPv6 address on elasticache subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "elasticache_subnet_group_name": {
                "default": null,
                "description": "Name of elasticache subnet group"
              },
              "elasticache_subnet_group_tags": {
                "default": {},
                "description": "Additional tags for the elasticache subnet group"
              },
              "elasticache_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 elasticache subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "elasticache_subnet_suffix": {
                "default": "elasticache",
                "description": "Suffix to append to elasticache subnets name"
              },
              "elasticache_subnet_tags": {
                "default": {},
                "description": "Additional tags for the elasticache subnets"
              },
              "elasticache_subnets": {
                "default": [],
                "description": "A list of elasticache subnets"
              },
              "enable_classiclink": {
                "default": null,
                "description": "Should be true to enable ClassicLink for the VPC. Only valid in regions and accounts that support EC2 Classic."
              },
              "enable_classiclink_dns_support": {
                "default": null,
                "description": "Should be true to enable ClassicLink DNS Support for the VPC. Only valid in regions and accounts that support EC2 Classic."
              },
              "enable_dhcp_options": {
                "default": false,
                "description": "Should be true if you want to specify a DHCP options set with a custom domain name, DNS servers, NTP servers, netbios servers, and/or netbios server type"
              },
              "enable_dns_hostnames": {
                "default": false,
                "description": "Should be true to enable DNS hostnames in the VPC"
              },
              "enable_dns_support": {
                "default": true,
                "description": "Should be true to enable DNS support in the VPC"
              },
              "enable_flow_log": {
                "default": false,
                "description": "Whether or not to enable VPC Flow Logs"
              },
              "enable_ipv6": {
                "default": false,
                "description": "Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC. You cannot specify the range of IP addresses, or the size of the CIDR block."
              },
              "enable_nat_gateway": {
                "default": false,
                "description": "Should be true if you want to provision NAT Gateways for each of your private networks"
              },
              "enable_public_redshift": {
                "default": false,
                "description": "Controls if redshift should have public routing table"
              },
              "enable_vpn_gateway": {
                "default": false,
                "description": "Should be true if you want to create a new VPN Gateway resource and attach it to the VPC"
              },
              "external_nat_ip_ids": {
                "default": [],
                "description": "List of EIP IDs to be assigned to the NAT Gateways (used in combination with reuse_nat_ips)"
              },
              "external_nat_ips": {
                "default": [],
                "description": "List of EIPs to be used for `nat_public_ips` output (used in combination with reuse_nat_ips and external_nat_ip_ids)"
              },
              "flow_log_cloudwatch_iam_role_arn": {
                "default": "",
                "description": "The ARN for the IAM role that's used to post flow logs to a CloudWatch Logs log group. When flow_log_destination_arn is set to ARN of Cloudwatch Logs, this argument needs to be provided."
              },
              "flow_log_cloudwatch_log_group_kms_key_id": {
                "default": null,
                "description": "The ARN of the KMS Key to use when encrypting log data for VPC flow logs."
              },
              "flow_log_cloudwatch_log_group_name_prefix": {
                "default": "/aws/vpc-flow-log/",
                "description": "Specifies the name prefix of CloudWatch Log Group for VPC flow logs."
              },
              "flow_log_cloudwatch_log_group_retention_in_days": {
                "default": null,
                "description": "Specifies the number of days you want to retain log events in the specified log group for VPC flow logs."
              },
              "flow_log_destination_arn": {
                "default": "",
                "description": "The ARN of the CloudWatch log group or S3 bucket where VPC Flow Logs will be pushed. If this ARN is a S3 bucket the appropriate permissions need to be set on that bucket's policy. When create_flow_log_cloudwatch_log_group is set to false this argument must be provided."
              },
              "flow_log_destination_type": {
                "default": "cloud-watch-logs",
                "description": "Type of flow log destination. Can be s3 or cloud-watch-logs."
              },
              "flow_log_file_format": {
                "default": "plain-text",
                "description": "(Optional) The format for the flow log. Valid values: `plain-text`, `parquet`."
              },
              "flow_log_hive_compatible_partitions": {
                "default": false,
                "description": "(Optional) Indicates whether to use Hive-compatible prefixes for flow logs stored in Amazon S3."
              },
              "flow_log_log_format": {
                "default": null,
                "description": "The fields to include in the flow log record, in the order in which they should appear."
              },
              "flow_log_max_aggregation_interval": {
                "default": 600,
                "description": "The maximum interval of time during which a flow of packets is captured and aggregated into a flow log record. Valid Values: `60` seconds or `600` seconds."
              },
              "flow_log_per_hour_partition": {
                "default": false,
                "description": "(Optional) Indicates whether to partition the flow log per hour. This reduces the cost and response time for queries."
              },
              "flow_log_traffic_type": {
                "default": "ALL",
                "description": "The type of traffic to capture. Valid values: ACCEPT, REJECT, ALL."
              },
              "igw_tags": {
                "default": {},
                "description": "Additional tags for the internet gateway"
              },
              "instance_tenancy": {
                "default": "default",
                "description": "A tenancy option for instances launched into the VPC"
              },
              "intra_acl_tags": {
                "default": {},
                "description": "Additional tags for the intra subnets network ACL"
              },
              "intra_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for intra subnets"
              },
              "intra_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Intra subnets inbound network ACLs"
              },
              "intra_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Intra subnets outbound network ACLs"
              },
              "intra_route_table_tags": {
                "default": {},
                "description": "Additional tags for the intra route tables"
              },
              "intra_subnet_assign_ipv6_address_on_creation": {
                "default": null,
                "description": "Assign IPv6 address on intra subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "intra_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 intra subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "intra_subnet_suffix": {
                "default": "intra",
                "description": "Suffix to append to intra subnets name"
              },
              "intra_subnet_tags": {
                "default": {},
                "description": "Additional tags for the intra subnets"
              },
              "intra_subnets": {
                "default": [],
                "description": "A list of intra subnets"
              },
              "manage_default_network_acl": {
                "default": false,
                "description": "Should be true to adopt and manage Default Network ACL"
              },
              "manage_default_route_table": {
                "default": false,
                "description": "Should be true to manage default route table"
              },
              "manage_default_security_group": {
                "default": false,
                "description": "Should be true to adopt and manage default security group"
              },
              "manage_default_vpc": {
                "default": false,
                "description": "Should be true to adopt and manage Default VPC"
              },
              "map_public_ip_on_launch": {
                "default": true,
                "description": "Should be false if you do not want to auto-assign public IP on launch"
              },
              "name": {
                "default": "",
                "description": "Name to be used on all the resources as identifier"
              },
              "nat_eip_tags": {
                "default": {},
                "description": "Additional tags for the NAT EIP"
              },
              "nat_gateway_destination_cidr_block": {
                "default": "0.0.0.0/0",
                "description": "Used to pass a custom destination route for private NAT Gateway. If not specified, the default 0.0.0.0/0 is used as a destination route."
              },
              "nat_gateway_tags": {
                "default": {},
                "description": "Additional tags for the NAT gateways"
              },
              "one_nat_gateway_per_az": {
                "default": false,
                "description": "Should be true if you want only one NAT Gateway per availability zone. Requires `var.azs` to be set, and the number of `public_subnets` created to be greater than or equal to the number of availability zones specified in `var.azs`."
              },
              "outpost_acl_tags": {
                "default": {},
                "description": "Additional tags for the outpost subnets network ACL"
              },
              "outpost_arn": {
                "default": null,
                "description": "ARN of Outpost you want to create a subnet in."
              },
              "outpost_az": {
                "default": null,
                "description": "AZ where Outpost is anchored."
              },
              "outpost_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for outpost subnets"
              },
              "outpost_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Outpost subnets inbound network ACLs"
              },
              "outpost_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Outpost subnets outbound network ACLs"
              },
              "outpost_subnet_assign_ipv6_address_on_creation": {
                "default": null,
                "description": "Assign IPv6 address on outpost subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "outpost_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 outpost subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "outpost_subnet_suffix": {
                "default": "outpost",
                "description": "Suffix to append to outpost subnets name"
              },
              "outpost_subnet_tags": {
                "default": {},
                "description": "Additional tags for the outpost subnets"
              },
              "outpost_subnets": {
                "default": [],
                "description": "A list of outpost subnets inside the VPC"
              },
              "private_acl_tags": {
                "default": {},
                "description": "Additional tags for the private subnets network ACL"
              },
              "private_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for private subnets"
              },
              "private_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Private subnets inbound network ACLs"
              },
              "private_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Private subnets outbound network ACLs"
              },
              "private_route_table_tags": {
                "default": {},
                "description": "Additional tags for the private route tables"
              },
              "private_subnet_assign_ipv6_address_on_creation": {
                "default": null,
                "description": "Assign IPv6 address on private subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "private_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 private subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "private_subnet_suffix": {
                "default": "private",
                "description": "Suffix to append to private subnets name"
              },
              "private_subnet_tags": {
                "default": {},
                "description": "Additional tags for the private subnets"
              },
              "private_subnets": {
                "default": [],
                "description": "A list of private subnets inside the VPC"
              },
              "propagate_intra_route_tables_vgw": {
                "default": false,
                "description": "Should be true if you want route table propagation"
              },
              "propagate_private_route_tables_vgw": {
                "default": false,
                "description": "Should be true if you want route table propagation"
              },
              "propagate_public_route_tables_vgw": {
                "default": false,
                "description": "Should be true if you want route table propagation"
              },
              "public_acl_tags": {
                "default": {},
                "description": "Additional tags for the public subnets network ACL"
              },
              "public_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for public subnets"
              },
              "public_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Public subnets inbound network ACLs"
              },
              "public_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Public subnets outbound network ACLs"
              },
              "public_route_table_tags": {
                "default": {},
                "description": "Additional tags for the public route tables"
              },
              "public_subnet_assign_ipv6_address_on_creation": {
                "default": null,
                "description": "Assign IPv6 address on public subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "public_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 public subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "public_subnet_suffix": {
                "default": "public",
                "description": "Suffix to append to public subnets name"
              },
              "public_subnet_tags": {
                "default": {},
                "description": "Additional tags for the public subnets"
              },
              "public_subnets": {
                "default": [],
                "description": "A list of public subnets inside the VPC"
              },
              "putin_khuylo": {
                "default": true,
                "description": "Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"
              },
              "redshift_acl_tags": {
                "default": {},
                "description": "Additional tags for the redshift subnets network ACL"
              },
              "redshift_dedicated_network_acl": {
                "default": false,
                "description": "Whether to use dedicated network ACL (not default) and custom rules for redshift subnets"
              },
              "redshift_inbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Redshift subnets inbound network ACL rules"
              },
              "redshift_outbound_acl_rules": {
                "default": [
                  {
                    "cidr_block": "0.0.0.0/0",
                    "from_port": "0",
                    "protocol": "-1",
                    "rule_action": "allow",
                    "rule_number": "100",
                    "to_port": "0"
                  }
                ],
                "description": "Redshift subnets outbound network ACL rules"
              },
              "redshift_route_table_tags": {
                "default": {},
                "description": "Additional tags for the redshift route tables"
              },
              "redshift_subnet_assign_ipv6_address_on_creation": {
                "default": null,
                "description": "Assign IPv6 address on redshift subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"
              },
              "redshift_subnet_group_name": {
                "default": null,
                "description": "Name of redshift subnet group"
              },
              "redshift_subnet_group_tags": {
                "default": {},
                "description": "Additional tags for the redshift subnet group"
              },
              "redshift_subnet_ipv6_prefixes": {
                "default": [],
                "description": "Assigns IPv6 redshift subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"
              },
              "redshift_subnet_suffix": {
                "default": "redshift",
                "description": "Suffix to append to redshift subnets name"
              },
              "redshift_subnet_tags": {
                "default": {},
                "description": "Additional tags for the redshift subnets"
              },
              "redshift_subnets": {
                "default": [],
                "description": "A list of redshift subnets"
              },
              "reuse_nat_ips": {
                "default": false,
                "description": "Should be true if you don't want EIPs to be created for your NAT Gateways and will instead pass them in via the 'external_nat_ip_ids' variable"
              },
              "secondary_cidr_blocks": {
                "default": [],
                "description": "List of secondary CIDR blocks to associate with the VPC to extend the IP Address pool"
              },
              "single_nat_gateway": {
                "default": false,
                "description": "Should be true if you want to provision a single shared NAT Gateway across all of your private networks"
              },
              "tags": {
                "default": {},
                "description": "A map of tags to add to all resources"
              },
              "vpc_flow_log_permissions_boundary": {
                "default": null,
                "description": "The ARN of the Permissions Boundary for the VPC Flow Log IAM Role"
              },
              "vpc_flow_log_tags": {
                "default": {},
                "description": "Additional tags for the VPC Flow Logs"
              },
              "vpc_tags": {
                "default": {},
                "description": "Additional tags for the VPC"
              },
              "vpn_gateway_az": {
                "default": null,
                "description": "The Availability Zone for the VPN Gateway"
              },
              "vpn_gateway_id": {
                "default": "",
                "description": "ID of VPN Gateway to attach to the VPC"
              },
              "vpn_gateway_tags": {
                "default": {},
                "description": "Additional tags for the VPN gateway"
              }
            }
          },
          "version_constraint": "3.14.0"
        }
      },
      "variables": {
        "analytics_build": {
          "description": "Analytics build"
        },
        "analytics_enabled": {
          "default": false,
          "description": "Flag to deploy analytics module"
        },
        "api_desired_capacity": {
          "description": "Desired capacity of API ASG"
        },
        "api_max_size": {
          "description": "Max size of API ASG"
        },
        "api_min_size": {
          "description": "Min size of API ASG"
        },
        "availability_zones": {
          "description": "The AWS availability zones to create subnets in"
        },
        "aws_profile": {
          "description": "The AWS-CLI profile for the account to create resources in. Usually found on ~/.aws/credentials or ~/.aws/config"
        },
        "aws_region": {
          "description": "The AWS region to create resources in"
        },
        "bastion_host_cidrs": {
          "description": "The IP ranges of bastion hosts to ssh web server instances."
        },
        "bitbucket_repository": {
          "description": "Terraform repository URL ($BITBUCKET_GIT_SSH_ORIGIN)"
        },
        "certificate_arn": {
          "description": "ARN of the SSL certificate to be used"
        },
        "cloudflare_dns_name": {
          "description": "Cloudflare CNAME"
        },
        "cloudflare_token": {
          "default": "",
          "description": "Token generated in Cloudflare to create DNS records based on stack_name"
        },
        "cloudflare_zone_id": {
          "default": "",
          "description": "Cloudflare zone ID"
        },
        "create_synthetic_monitor": {
          "default": false,
          "description": "It creates synthetic monitor in New Relic when true"
        },
        "database_subnet_cidrs": {
          "description": "The IP ranges to use for the database subnets in your VPC"
        },
        "dbname": {
          "description": "IR DB name"
        },
        "dbpassword": {
          "description": "IR DB passwrod",
          "sensitive": true
        },
        "dbuser": {
          "description": "IR DB user"
        },
        "deployment_flag": {
          "default": "green",
          "description": "Allow us to define two RDS clusters in case that we need to do a rollback"
        },
        "ec2_instance_type": {
          "description": "EC2 instance type for IR deployments"
        },
        "environment": {
          "description": "Environment name"
        },
        "iam_instance_profile_arn": {
          "description": "ARN of the desired instance profile to be attached (myManagedInstanceRoleforSSM)"
        },
        "iam_policy_arn": {
          "description": "IAM Policy to be attached to role"
        },
        "iriusrisk_version": {
          "description": "IriusRisk version"
        },
        "is_rollback": {
          "default": false,
          "description": "Create a new cluster from a previous snapshot"
        },
        "keep_previous_rds": {
          "default": false,
          "description": "Keep previous rds when we are doing a rollback"
        },
        "key_name": {
          "description": "Keypair name used to connect to EC2 instances"
        },
        "major_engine_version": {
          "default": "11",
          "description": "Major version of the RDS DB engine"
        },
        "newrelic_account_id": {
          "description": "New Relic acount ID"
        },
        "newrelic_api_key": {
          "description": "New Relic api key"
        },
        "newrelic_enabled": {
          "default": true,
          "description": "Create or not NewRelic monitoring resources"
        },
        "newrelic_region": {
          "description": "New Relic region"
        },
        "private_subnet_cidrs": {
          "description": "The IP ranges to use for the private subnets in your VPC"
        },
        "public_subnet_cidrs": {
          "description": "The IP ranges to use for the public subnets in your VPC"
        },
        "rds_engine": {
          "default": "postgres",
          "description": "RDS DB engine"
        },
        "rds_engine_version": {
          "default": "11.15",
          "description": "RDS DB engine version"
        },
        "rds_family": {
          "default": "postgres11",
          "description": "RDS DB family"
        },
        "rds_instance_type": {
          "default": "db.m5.2xlarge",
          "description": "RDS DB instance type"
        },
        "rds_snapshot": {
          "default": "",
          "description": "RDS snapshot to restore into RDS DB instance "
        },
        "slack_channel": {
          "description": "Slack channel where the notifications will be sent to"
        },
        "slack_webhook_url": {
          "description": "Slack webhook url used to send notifications"
        },
        "stack_name": {
          "description": "The stack name. Will be used in naming all related resources, as well as the endpoint to reach IR ({stack_name}.iriusrisk.com)"
        },
        "startleft_version": {
          "description": "Startleft version"
        },
        "type": {
          "description": "A type to describe the environment we are creating, prod/eval/internal."
        },
        "vpc_cidr": {
          "description": "The IP range to attribute to the virtual network"
        },
        "web_desired_capacity": {
          "description": "Desired capacity of Web ASG"
        },
        "web_max_size": {
          "description": "Max size of Web ASG"
        },
        "web_min_size": {
          "description": "Min size of Web ASG"
        }
      }
    }
  },
  "relevant_attributes": [
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "cluster_resource_id"
      ]
    },
    {
      "resource": "module.aurora-db-green.random_id.snapshot_identifier[0]",
      "attribute": [
        "hex"
      ]
    },
    {
      "resource": "aws_cloudwatch_log_group.cw_log_group",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster_parameter_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "cidr_block"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "cidr_block"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_iam_role.rds_enhanced_monitoring[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.database[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "master_password"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "reader_endpoint"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "ipv6_cidr_block"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster_parameter_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_iam_role.rds_enhanced_monitoring[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "aws_autoscaling_group.iriusrisk_api",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_iam_role.vpc_flow_log_cloudwatch[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_db_subnet_group.database[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.vpc.aws_route.database_ipv6_egress[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route.private_ipv6_egress",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "master_password"
      ]
    },
    {
      "resource": "module.vpc.aws_redshift_subnet_group.redshift[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.redshift",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_network_acl.public[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route.public_internet_gateway[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "aws_secretsmanager_secret.jwt-secret",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc_dhcp_options.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "main_route_table_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "enable_dns_support"
      ]
    },
    {
      "resource": "module.vpc.aws_egress_only_internet_gateway.this",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "cluster_members"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.elasticache",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_elasticache_subnet_group.elasticache[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "endpoint"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "port"
      ]
    },
    {
      "resource": "data.template_file.iriusrisk",
      "attribute": [
        "rendered"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster_parameter_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_elasticache_subnet_group.elasticache[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.database",
      "attribute": []
    },
    {
      "resource": "aws_security_group.iriusrisk",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route.public_internet_gateway_ipv6[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.private[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_cloudwatch_log_group.flow_log[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "aws_iam_role.access-role",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_db_parameter_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "aws_autoscaling_policy.iriusrisk_api_scaling_up",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_security_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_iam_role.rds_enhanced_monitoring[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.elasticache",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster_endpoint.this",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-blue.aws_db_parameter_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "reader_endpoint"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.private",
      "attribute": []
    },
    {
      "resource": "data.aws_ami.iriusrisk",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "aws_iam_instance_profile.instance_profile",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.vpc.aws_vpn_gateway.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_customer_gateway.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table.public",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route.private_nat_gateway",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "ipv6_association_id"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster_instance.this",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "engine_version_actual"
      ]
    },
    {
      "resource": "aws_autoscaling_group.iriusrisk_api",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "aws_autoscaling_policy.iriusrisk_web_scaling_down",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "default_security_group_id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.random_password.master_password[0]",
      "attribute": [
        "result"
      ]
    },
    {
      "resource": "tls_private_key.ec_private",
      "attribute": [
        "private_key_pem"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.private",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_subnet.public",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster_parameter_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "port"
      ]
    },
    {
      "resource": "module.vpc.aws_route.database_nat_gateway",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "endpoint"
      ]
    },
    {
      "resource": "module.aurora-db-green.random_password.master_password[0]",
      "attribute": [
        "result"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.redshift_public",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table_association.database",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "aws_autoscaling_group.iriusrisk_web",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "aws_autoscaling_policy.iriusrisk_web_scaling_up",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table_association.intra",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_network_acl.redshift[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "cloudflare_record.dns_cname",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.database",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table_association.private",
      "attribute": []
    },
    {
      "resource": "module.iriusrisk_alb.aws_lb_listener.frontend_http_tcp",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster_role_association.this",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_iam_role.rds_enhanced_monitoring[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "default_network_acl_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "enable_dns_hostnames"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "instance_tenancy"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_db_subnet_group.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_security_group.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_iam_role.rds_enhanced_monitoring[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "owner_id"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.redshift",
      "attribute": []
    },
    {
      "resource": "aws_launch_template.iriusrisk",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "enable_dns_hostnames"
      ]
    },
    {
      "resource": "module.vpc.aws_vpn_gateway.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_route.database_internet_gateway[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "aws_security_group.alb",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "enable_dns_support"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "instance_tenancy"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "main_route_table_id"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.intra",
      "attribute": []
    },
    {
      "resource": "aws_security_group.aurora-db-sg",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "cluster_resource_id"
      ]
    },
    {
      "resource": "aws_secretsmanager_secret.jwt-secret",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "aws_autoscaling_policy.iriusrisk_api_scaling_down",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "default_security_group_id"
      ]
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster_instance.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_default_vpc.this[0]",
      "attribute": [
        "default_route_table_id"
      ]
    },
    {
      "resource": "module.vpc.aws_db_subnet_group.database[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpn_gateway_attachment.this[0]",
      "attribute": [
        "vpn_gateway_id"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.outpost",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster_role_association.this",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_db_subnet_group.this[0]",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.iriusrisk_alb.aws_lb.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_eip.nat",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_network_acl.elasticache[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.outpost[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_internet_gateway.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.elasticache",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "hosted_zone_id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "engine_version_actual"
      ]
    },
    {
      "resource": "module.vpc.aws_internet_gateway.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_db_parameter_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.elasticache[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.redshift[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_flow_log.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.iriusrisk_alb.aws_lb.this",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "master_username"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster_endpoint.this",
      "attribute": []
    },
    {
      "resource": "aws_autoscaling_group.iriusrisk_web",
      "attribute": [
        "name"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_db_parameter_group.this[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc_ipv4_cidr_block_association.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_network_acl.database[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.public[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "master_username"
      ]
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "cluster_members"
      ]
    },
    {
      "resource": "module.iriusrisk_alb.aws_lb_target_group.main",
      "attribute": []
    },
    {
      "resource": "module.iriusrisk_alb.aws_lb_listener.frontend_https",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "default_network_acl_id"
      ]
    },
    {
      "resource": "module.vpc.aws_subnet.intra",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_subnet.redshift",
      "attribute": []
    },
    {
      "resource": "module.iriusrisk_alb.aws_lb_target_group_attachment.this",
      "attribute": []
    },
    {
      "resource": "module.vpc.aws_route_table_association.public",
      "attribute": []
    },
    {
      "resource": "module.aurora-db-green.aws_rds_cluster.this[0]",
      "attribute": [
        "hosted_zone_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "default_route_table_id"
      ]
    },
    {
      "resource": "module.vpc.aws_egress_only_internet_gateway.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.intra[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.intra[0]",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc_ipv4_cidr_block_association.this[0]",
      "attribute": [
        "vpc_id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_iam_role.rds_enhanced_monitoring[0]",
      "attribute": [
        "unique_id"
      ]
    },
    {
      "resource": "module.vpc.aws_vpc.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.private[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.aurora-db-blue.aws_rds_cluster.this[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "aws_iam_policy.secret-access",
      "attribute": [
        "arn"
      ]
    },
    {
      "resource": "module.vpc.aws_route_table.public[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_network_acl.outpost[0]",
      "attribute": [
        "id"
      ]
    },
    {
      "resource": "module.vpc.aws_nat_gateway.this",
      "attribute": []
    }
  ]
}
